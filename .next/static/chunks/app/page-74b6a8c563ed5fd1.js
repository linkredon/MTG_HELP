(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{382:()=>{},809:(e,a,s)=>{"use strict";s.d(a,{A:()=>d});var t=s(5155);s(2115);var r=s(8773),l=s(8145),n=s(7168),i=s(6785),c=s(7108),o=s(2657);let d=e=>{let{card:a,onViewDeck:s,className:d=""}=e,{getCartasUsadasEmDecks:m}=(0,r.U)(),x=m(a.id);if(0===x.length)return null;let u=x.reduce((e,a)=>e+a.quantity,0);return(0,t.jsxs)("div",{className:"space-y-2 ".concat(d),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-300",children:["Usada em ",x.length," deck",1!==x.length?"s":""]}),(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[u," total"]})]}),(0,t.jsx)("div",{className:"space-y-1",children:x.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded border border-gray-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)(c.A,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white truncate",children:e.deck.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[e.deck.format," • ",e.category]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.E,{variant:"secondary",className:"text-xs",children:[e.quantity,"x"]}),s&&(0,t.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>s(e.deck.id),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(o.A,{className:"w-3 h-3"})})]})]},"".concat(e.deck.id,"-").concat(e.category,"-").concat(a)))})]})}},1694:()=>{},1851:()=>{},2001:()=>{},2411:()=>{},2507:()=>{},2617:()=>{},3237:()=>{},3628:()=>{},4233:()=>{},5311:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>aJ});var t=s(5155);s(2507),s(382),s(5640),s(4233),s(3628),s(6520),s(8005),s(7733),s(9178),s(2411),s(6918),s(8278),s(6440);var r=s(2115),l=s(6766),n=s(9852),i=s(7168),c=s(8145),o=s(6474);function d(e){let{value:a,onChange:s,options:l,placeholder:n="Selecione...",className:i=""}=e,[c,d]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let x=l.find(e=>e.value===a);return(0,t.jsxs)("div",{ref:m,className:"relative ".concat(i),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-7 px-2 py-1 bg-gray-800 border border-gray-700 rounded-md text-sm text-white cursor-pointer",onClick:()=>d(!c),children:[(0,t.jsx)("span",{className:"truncate",children:x?x.label:n}),(0,t.jsx)(o.A,{className:"w-4 h-4 ml-1 text-gray-400"})]}),c&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-md shadow-lg",children:l.map(e=>(0,t.jsx)("div",{className:"px-2 py-1 text-sm cursor-pointer hover:bg-gray-700 ".concat(e.value===a?"bg-gray-700 text-white":"text-gray-300"),onClick:()=>{s(e.value),d(!1)},children:e.label},e.value))})]})}var m=s(9474),x=s(813),u=s(8773),h=s(1154),g=s(4616),p=s(7712),j=s(5339),b=s(7863),v=s(9103),N=s(8564),f=s(2657),y=s(7924),w=s(1284),C=s(2525),k=s(5708),A=s(525);function q(e){let{card:a,collection:s,compact:l=!1}=e,n=(0,r.useMemo)(()=>s.filter(e=>e.card.id===a.id).reduce((e,a)=>e+a.quantity,0),[a.id,s]);return 0===n?null:l?(0,t.jsxs)(c.E,{variant:"outline",className:"h-5 px-1.5 bg-blue-900/50 text-blue-300 border-blue-700/50 text-[10px] ml-1",children:[n,"x"]}):(0,t.jsxs)(c.E,{variant:"secondary",className:"bg-blue-600/90 text-white border-blue-500/50 shadow-glow-sm",children:[n,"x"]})}var S=s(5968),E=s(8613),_=s(2324);let P=e=>{let{className:a="",size:s="default"}=e,{visualizationType:r,setVisualizationType:l}=(0,x.h)(),n="sm"===s?"h-7 w-7 p-1":"h-9 w-9 p-2";return(0,t.jsxs)("div",{className:"inline-flex items-center rounded-md overflow-hidden shadow-sm shadow-blue-500/10 ".concat(a),children:[(0,t.jsxs)(i.$,{variant:"list"===r?"default":"outline",size:"icon",className:"".concat(n," ").concat("list"===r?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"),onClick:()=>l("list"),title:"Lista: Visualiza\xe7\xe3o compacta em linhas (ideal para ver muitas cartas)","aria-label":"Visualiza\xe7\xe3o em lista",children:[(0,t.jsx)(S.A,{className:"h-4 w-4"}),"sm"!==s&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Lista"})]}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-gray-700 opacity-50"}),(0,t.jsxs)(i.$,{variant:"grid"===r?"default":"outline",size:"icon",className:"".concat(n," ").concat("grid"===r?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"),onClick:()=>l("grid"),title:"Grade: Visualiza\xe7\xe3o em miniaturas (melhor para ver imagens das cartas)","aria-label":"Visualiza\xe7\xe3o em grade",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),"sm"!==s&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Grade"})]}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-gray-700 opacity-50"}),(0,t.jsxs)(i.$,{variant:"details"===r?"default":"outline",size:"icon",className:"".concat(n," ").concat("details"===r?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"),onClick:()=>l("details"),title:"Detalhes: Visualiza\xe7\xe3o expandida com informa\xe7\xf5es completas (ideal para ler os textos das cartas)","aria-label":"Visualiza\xe7\xe3o em detalhes",children:[(0,t.jsx)(_.A,{className:"h-4 w-4"}),"sm"!==s&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Detalhes"})]})]})},D={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}},rarity:e=>{try{if(!e)return"comum";return e.rarity||"comum"}catch(e){return console.warn("Erro ao acessar rarity",e),"comum"}}},T=e=>{switch(e.toLowerCase()){case"common":default:return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-yellow-500";case"mythic":return"border-orange-500";case"special":return"border-purple-500";case"bonus":return"border-blue-300"}},M=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-yellow-400";case"mythic":return"text-orange-400";case"special":return"text-purple-400";case"bonus":return"text-blue-300"}},z=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,k.VG)(e,a)},L=r.memo(e=>{let{onAdd:a,compact:s=!1}=e,[l,n]=(0,r.useState)(1),[c,o]=(0,r.useState)(!1),d=(0,r.useCallback)(()=>{a(l),o(!0),setTimeout(()=>o(!1),1e3)},[l,a]),m=(0,r.useCallback)(()=>{n(e=>Math.min(e+1,99))},[]),x=(0,r.useCallback)(()=>{n(e=>Math.max(e-1,1))},[]);return s?(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:d,disabled:c,children:c?(0,t.jsx)(h.A,{className:"h-3 w-3 animate-spin"}):(0,t.jsx)(g.A,{className:"h-3 w-3"})})}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-7 w-7 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:x,children:(0,t.jsx)(p.A,{className:"h-3 w-3"})}),(0,t.jsx)("div",{className:"w-6 text-center text-sm font-medium",children:l}),(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-7 w-7 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:m,children:(0,t.jsx)(g.A,{className:"h-3 w-3"})}),(0,t.jsxs)(i.$,{variant:"default",className:"h-7 px-2 text-xs bg-blue-600 hover:bg-blue-700",onClick:d,disabled:c,children:[c?(0,t.jsx)(h.A,{className:"h-3 w-3 animate-spin mr-1"}):(0,t.jsx)(g.A,{className:"h-3 w-3 mr-1"}),(0,t.jsx)("span",{children:"Adicionar"})]})]})});L.displayName="QuantityControl";let I=r.memo(e=>{let{card:a,collection:s,onAddCard:n,viewMode:c,index:d,isVersion:m=!1,originalId:u,isExpanded:g=!1,isLoading:p=!1,onToggleVersions:y,versionsCount:w=0,onShowInListing:C,isPlaceholder:k=!1,hasNoVersions:A=!1}=e,{openModal:S}=(0,x.h)(),[E,_]=(0,r.useState)(!1),[P,I]=(0,r.useState)(!0),R=(0,r.useMemo)(()=>z(a,"small"),[a]),F=(0,r.useMemo)(()=>T(D.rarity(a)),[a]),$=(0,r.useMemo)(()=>M(D.rarity(a)),[a]);(0,r.useMemo)(()=>m?a.id&&void 0===C?"ring-2 ring-emerald-500/70 scale-95 origin-top-left shadow-lg shadow-emerald-500/30":"ring-2 ring-blue-500/50 scale-95 origin-top-left shadow-lg shadow-blue-500/20":"",[m,a.id,C]);let V=(0,r.useMemo)(()=>"".concat(Math.min(.05*d,.5),"s"),[d]),O=(0,r.useCallback)(()=>{I(!1)},[]),B=(0,r.useCallback)(()=>{_(!0),I(!1)},[]),U=(0,r.useCallback)(e=>{e.stopPropagation(),S(a)},[a,S]),G=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n(a,e)},[a,n]),W=(0,r.useCallback)(e=>{e.stopPropagation(),m&&C&&C(a)},[a,m,C]),J=(0,r.useCallback)(e=>{e.stopPropagation(),y&&y()},[y]);return k?"grid"===c?(0,t.jsx)("div",{className:"relative group animate-fadeIn card-version",style:{animationDelay:V},children:(0,t.jsx)("div",{className:"card-grid rounded-xl overflow-hidden border p-4 flex items-center justify-center h-48 ".concat(p?"border-blue-600/30 bg-blue-900/20":"border-gray-600 bg-gray-800/50"),children:(0,t.jsxs)("div",{className:"text-center",children:[p?(0,t.jsx)(h.A,{className:"h-6 w-6 text-blue-400 mx-auto mb-2 animate-spin"}):(0,t.jsx)(j.A,{className:"h-6 w-6 text-gray-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm ".concat(p?"text-blue-300":"text-gray-400"),children:a.name}),(0,t.jsx)("p",{className:"text-xs mt-1 ".concat(p?"text-blue-400/70":"text-gray-500"),children:a.type_line})]})})}):(0,t.jsx)("div",{className:"animate-fadeIn ml-4",style:{animationDelay:V},children:(0,t.jsx)("div",{className:"p-3 rounded-lg backdrop-blur-md border ".concat(p?"border-blue-600/30 bg-blue-900/20":"border-gray-600 bg-gray-800/50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p?(0,t.jsx)(h.A,{className:"h-4 w-4 text-blue-400 animate-spin"}):(0,t.jsx)(j.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("p",{className:"text-sm ".concat(p?"text-blue-300":"text-gray-400"),children:a.name})]})})}):"grid"===c?(0,t.jsxs)("div",{className:"relative group animate-fadeIn ".concat(m?"card-version":""),"data-card-name":a.id,style:{animationDelay:V},children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,t.jsx)(q,{card:a,collection:s})}),!m&&w>0&&(0,t.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,t.jsxs)("div",{className:"bg-blue-600/90 text-white text-[10px] px-1.5 py-0.5 rounded-full font-medium border border-blue-500/50",children:[w,"v"]})}),(0,t.jsxs)("div",{className:"card-grid cursor-pointer rounded-xl overflow-hidden flex flex-col border ".concat(F," transition-all ").concat(g?"card-active":""),onClick:U,children:[R&&!E?(0,t.jsxs)("div",{className:"aspect-[63/88] relative overflow-hidden bg-gray-900 flex items-center justify-center",children:[P&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-800 rounded-t-xl animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:"Carregando..."})}),(0,t.jsx)(l.default,{src:R,alt:a.name,fill:!0,className:"object-contain transition-opacity ".concat(P?"opacity-0":"opacity-100"),onLoad:O,onError:B,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw"})]}):(0,t.jsx)("div",{className:"aspect-[63/88] bg-gray-800 flex items-center justify-center text-center p-2",children:(0,t.jsx)("span",{className:"text-xs text-gray-400",children:a.name})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 p-2 flex flex-col h-16",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("div",{className:"flex-1 truncate",children:(0,t.jsx)("span",{className:"text-xs font-medium text-white truncate block",children:a.name})}),(0,t.jsx)("span",{className:"text-[10px] ".concat($),children:D.rarity(a).charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-400 truncate block flex-1",children:D.setName(a)}),(0,t.jsx)("span",{className:"text-[10px] text-gray-500",children:D.setCode(a)})]}),(0,t.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center flex-col gap-2 p-3",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(L,{onAdd:G,compact:!0}),!m&&(0,t.jsxs)("button",{onClick:J,className:"text-xs h-5 px-2 rounded border transition-colors flex items-center gap-1 text-blue-400 hover:text-blue-300 border-blue-500/30 bg-blue-500/10 hover:bg-blue-500/20",children:[g?(0,t.jsx)(b.A,{className:"h-3 w-3"}):(0,t.jsx)(o.A,{className:"h-3 w-3"}),p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-3 w-3 animate-spin"})," Buscando..."]}):w>0?(0,t.jsxs)(t.Fragment,{children:["Vers\xf5es (",w,")"]}):(0,t.jsx)(t.Fragment,{children:"Vers\xf5es"})]}),m&&(0,t.jsx)(t.Fragment,{children:C?(0,t.jsxs)("button",{onClick:W,className:"text-xs text-emerald-400 hover:text-emerald-300 h-5 px-2 rounded border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 transition-colors flex items-center gap-1",children:[(0,t.jsx)(v.A,{className:"h-3 w-3"}),"Mostrar na Listagem"]}):(0,t.jsxs)("div",{className:"text-xs text-emerald-500 h-5 px-2 rounded border border-emerald-500/30 bg-emerald-500/10 flex items-center gap-1",children:[(0,t.jsx)(N.A,{className:"h-3 w-3"}),"Na Listagem Principal"]})})]})]})]})]}):(0,t.jsx)("div",{"data-card-name":a.id,className:"animate-fadeIn ".concat(m?"ml-4":""),style:{animationDelay:V},children:(0,t.jsx)("div",{className:"p-2 rounded-lg bg-gray-900/70 backdrop-blur-md border ".concat(F," hover:border-blue-500/50 hover:bg-gray-800/70 transition-all group ").concat(m?"card-version":""," ").concat(g?"card-active":""),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative flex-shrink-0",children:R&&!E?(0,t.jsxs)("div",{className:"relative w-12 h-16 rounded-md overflow-hidden cursor-pointer hover:ring-2 hover:ring-blue-500/50 transition-all",onClick:U,children:[P&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"}),(0,t.jsx)(l.default,{src:R,alt:a.name,fill:!0,className:"object-cover transition-opacity ".concat(P?"opacity-0":"opacity-100"),onLoad:O,onError:B,sizes:"48px"})]}):(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-800 rounded-md flex items-center justify-center cursor-pointer",onClick:U,children:(0,t.jsx)("span",{className:"text-[8px] text-gray-500 text-center p-1",children:a.name})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white truncate cursor-pointer hover:text-blue-300 transition-colors",onClick:U,children:a.name}),(0,t.jsx)(q,{card:a,collection:s,compact:!0})]}),(0,t.jsxs)("div",{className:"flex items-center text-xs gap-1",children:[(0,t.jsx)("span",{className:"".concat($),children:D.rarity(a).charAt(0).toUpperCase()}),(0,t.jsx)("span",{className:"text-gray-400",children:"•"}),(0,t.jsx)("span",{className:"text-gray-400 truncate",children:a.set_name})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs truncate",children:a.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(L,{onAdd:G,compact:!0}),(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:U,children:(0,t.jsx)(f.A,{className:"h-3 w-3"})}),!m&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700 ".concat(g?"bg-blue-900/30 text-blue-400":""," ").concat(p?"animate-pulse":""),onClick:J,title:p?"Buscando vers\xf5es...":w>0?"".concat(w," vers\xf5es dispon\xedveis"):"Ver outras vers\xf5es",children:g?(0,t.jsx)(b.A,{className:"h-3 w-3"}):p?(0,t.jsx)(h.A,{className:"h-3 w-3 animate-spin"}):(0,t.jsx)(o.A,{className:"h-3 w-3"})}),w>0&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-[8px] px-1 py-0.5 rounded-full font-bold min-w-[14px] text-center leading-none",children:w})]}),m&&(0,t.jsx)(t.Fragment,{children:C?(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-emerald-900/30 hover:bg-emerald-800/50 border-emerald-700/50 text-emerald-400",onClick:W,title:"Mostrar na Listagem Principal",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}):(0,t.jsx)(i.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-emerald-900/50 border-emerald-700/70 text-emerald-400 cursor-default",title:"Adicionado \xe0 Listagem Principal",children:(0,t.jsx)(N.A,{className:"h-3 w-3"})})})]})]})})})});function R(e){let{cards:a,collection:s,onAddCard:l,className:n="",searchResults:c,onSortChange:o,currentSort:d={mode:"name",direction:"asc"}}=e,{visualizationType:m}=(0,x.h)(),[u,g]=(0,r.useState)(m||"grid"),[p,j]=(0,r.useState)(null),[N,f]=(0,r.useState)({}),[k,q]=(0,r.useState)({}),[S,E]=(0,r.useState)({});(0,r.useEffect)(()=>{g(m)},[m]);let _=(0,r.useCallback)(async e=>{if(void 0===S[e.id])try{console.log("Buscando contagem de vers\xf5es para: ".concat(e.name));let a='https://api.scryfall.com/cards/search?q="'.concat(encodeURIComponent(e.name),'"+unique:prints&order=released&page=1'),s=await fetch(a);if(s.ok){let a=(await s.json()).total_cards||0,t=a>0?a-1:0;E(a=>({...a,[e.id]:t})),console.log("".concat(e.name," tem ").concat(t," vers\xf5es alternativas"))}else 404===s.status&&E(a=>({...a,[e.id]:0}))}catch(a){console.error("Erro ao buscar contagem de vers\xf5es para ".concat(e.name,":"),a),E(a=>({...a,[e.id]:0}))}},[S]);(0,r.useEffect)(()=>{a.forEach(e=>{void 0===S[e.id]&&setTimeout(()=>_(e),1e3*Math.random())})},[a,_,S]);let D=(0,r.useCallback)(async e=>{if(!k[e.id]&&!N[e.id]){q(a=>({...a,[e.id]:!0}));try{console.log("Buscando vers\xf5es para carta: ".concat(e.name));let a=await (0,A.vI)(e.name);if(!a.ok){if(404===a.status){f(a=>({...a,[e.id]:[]}));return}throw Error("Erro ao buscar vers\xf5es: ".concat(a.status))}let s=await a.json();console.log("Dados recebidos para ".concat(e.name,":"),s);let t=s.data||[];console.log("".concat(t.length," vers\xf5es brutas encontradas para ").concat(e.name));let r=t.filter(a=>a&&a.id&&a.id!==e.id);console.log("".concat(r.length," vers\xf5es filtradas para ").concat(e.name)),f(a=>({...a,[e.id]:r}))}catch(a){console.error("Erro ao buscar vers\xf5es para carta ".concat(e.name," (id: ").concat(e.id,"):"),a),f(a=>({...a,[e.id]:[]}))}finally{q(a=>({...a,[e.id]:!1}))}}},[N,k]),T=(0,r.useCallback)((e,a)=>{j(s=>s===e?null:(N[e]||k[e]||D(a),e))},[D,N,k]),[M,z]=(0,r.useState)(()=>{{let e=localStorage.getItem("addedVersions");return e?JSON.parse(e):[]}}),L=(0,r.useCallback)(e=>{if(!M.includes(e.id)){let a=[...M,e.id];z(a),localStorage.setItem("addedVersions",JSON.stringify(a))}},[M]),R=(0,r.useMemo)(()=>{let e=[];return a.forEach((a,s)=>{if(e.push({card:a,index:s}),p===a.id){if(N[a.id]&&N[a.id].length>0){let t=N[a.id].map((e,t)=>({card:e,isVersion:!0,originalId:a.id,index:s+.1+.01*t}));e=[...e,...t]}else k[a.id]?e.push({card:{id:"loading-".concat(a.id),name:"Buscando vers\xf5es alternativas...",set_name:"",set_code:"",rarity:"common",type_line:"Aguarde enquanto buscamos outras impress\xf5es desta carta."},isVersion:!0,originalId:a.id,index:s+.1,isPlaceholder:!0,isLoading:!0}):N[a.id]&&0===N[a.id].length&&e.push({card:{id:"no-versions-".concat(a.id),name:"N\xe3o h\xe1 vers\xf5es alternativas dispon\xedveis",set_name:"",set_code:"",rarity:"common",type_line:"Esta carta n\xe3o possui outras impress\xf5es dispon\xedveis."},isVersion:!0,originalId:a.id,index:s+.1,isPlaceholder:!0})}}),Object.entries(N).forEach(a=>{let[s,t]=a;t.forEach(a=>{M.includes(a.id)&&!e.some(e=>e.card.id===a.id)&&e.push({card:a,index:e.length+1})})}),e},[a,p,N,M]),F=(0,r.useMemo)(()=>"grid"===u?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 ".concat(n):"space-y-2 ".concat(n),[u,n]),$=(0,r.useCallback)(()=>c&&(c.hasMore||c.totalCards)?(0,t.jsxs)("div",{className:"mt-4 flex flex-col gap-3 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400",children:c.totalCards&&(0,t.jsxs)("span",{children:["Mostrando ",a.length," de ",c.totalCards," cartas",c.currentPage&&(0,t.jsxs)("span",{className:"ml-2",children:["• P\xe1gina ",c.currentPage]})]})}),c.hasMore&&(0,t.jsx)(i.$,{onClick:c.nextPage,disabled:c.isLoadingMore,className:"bg-blue-600 hover:bg-blue-700 text-white",children:c.isLoadingMore?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Carregando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Carregar mais cartas"]})})]}),c.hasMore&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[(0,t.jsx)(w.A,{className:"h-3 w-3 inline mr-1"}),'H\xe1 mais resultados dispon\xedveis. Clique em "Carregar mais cartas" para ver resultados adicionais.']})]}):null,[c,a.length]),V=(0,r.useCallback)(()=>(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-3 pb-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Ordenar por:"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.$,{variant:"name"===d.mode?"default":"outline",className:"quantum-btn compact text-xs ".concat("name"===d.mode?"primary":""),onClick:()=>null==o?void 0:o("name",d.direction),children:"Nome"}),(0,t.jsx)(i.$,{variant:"set"===d.mode?"default":"outline",className:"quantum-btn compact text-xs ".concat("set"===d.mode?"primary":""),onClick:()=>null==o?void 0:o("set",d.direction),children:"Cole\xe7\xe3o"}),(0,t.jsx)(i.$,{variant:"rarity"===d.mode?"default":"outline",className:"quantum-btn compact text-xs ".concat("rarity"===d.mode?"primary":""),onClick:()=>null==o?void 0:o("rarity",d.direction),children:"Raridade"}),(0,t.jsx)(i.$,{variant:"released"===d.mode?"default":"outline",className:"quantum-btn compact text-xs ".concat("released"===d.mode?"primary":""),onClick:()=>null==o?void 0:o("released",d.direction),children:"Lan\xe7amento"})]}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,t.jsx)(i.$,{variant:"asc"===d.direction?"default":"outline",className:"quantum-btn compact text-xs ".concat("asc"===d.direction?"primary":""),onClick:()=>null==o?void 0:o(d.mode,"asc"),title:"released"===d.mode?"Mais antigas primeiro":"name"===d.mode?"A-Z":"set"===d.mode?"A-Z":"Crescente",children:"↑ Cresc."}),(0,t.jsx)(i.$,{variant:"desc"===d.direction?"default":"outline",className:"quantum-btn compact text-xs ".concat("desc"===d.direction?"primary":""),onClick:()=>null==o?void 0:o(d.mode,"desc"),title:"released"===d.mode?"Mais recentes primeiro":"name"===d.mode?"Z-A":"set"===d.mode?"Z-A":"Decrescente",children:"↓ Decr."})]})]}),p&&(0,t.jsxs)(i.$,{variant:"outline",className:"h-7 px-2.5 text-xs bg-blue-900/30 hover:bg-blue-900/50 border-blue-900/50 text-blue-400",onClick:()=>j(null),children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Fechar vers\xf5es"]})]}),"released"===d.mode&&(0,t.jsx)("div",{className:"text-xs text-gray-500 px-2",children:"asc"===d.direction?"\uD83D\uDCC5 Mostrando das cole\xe7\xf5es mais antigas para as mais recentes":"\uD83D\uDCC5 Mostrando das cole\xe7\xf5es mais recentes para as mais antigas"}),(0,t.jsxs)("div",{className:"flex items-start gap-1 px-2 py-1.5 bg-blue-900/20 rounded-md border border-blue-800/30",children:[(0,t.jsx)(w.A,{className:"h-3 w-3 text-blue-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-blue-300 leading-tight mb-1",children:'Cada carta mostra quantas vers\xf5es alternativas est\xe3o dispon\xedveis. Use o bot\xe3o "Vers\xf5es" para explorar impress\xf5es alternativas e "Mostrar na Listagem" para adicion\xe1-las.'}),M.length>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("button",{onClick:()=>{let e=[];if(Object.values(N).forEach(a=>{a.forEach(a=>{M.includes(a.id)||e.push(a.id)})}),e.length>0){let a=[...M,...e];z(a),localStorage.setItem("addedVersions",JSON.stringify(a))}},className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-0.5",children:[(0,t.jsx)(v.A,{className:"h-2.5 w-2.5"}),(0,t.jsx)("span",{children:"Mostrar todas as vers\xf5es"})]}),(0,t.jsxs)("button",{onClick:()=>{z([]),localStorage.removeItem("addedVersions")},className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-0.5",children:[(0,t.jsx)(C.A,{className:"h-2.5 w-2.5"}),(0,t.jsxs)("span",{children:["Limpar vers\xf5es adicionadas (",M.length,")"]})]})]})]})]})]}),[d.mode,d.direction,p,M,N]);return 0===a.length?null:(0,t.jsxs)("div",{children:[V(),(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4 bg-slate-800/30 p-3 rounded-md border border-slate-700/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-white font-medium flex items-center",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2 text-blue-400"}),"Resultados da Pesquisa"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[a.length," cartas correspondentes com visualiza\xe7\xe3o avan\xe7ada"]})]}),(0,t.jsxs)("div",{className:"flex items-center bg-slate-800/70 rounded-md p-1.5 border border-slate-700/30",children:[(0,t.jsx)("span",{className:"text-xs text-slate-400 mr-2 hidden sm:inline-block",children:"Visualiza\xe7\xe3o:"}),(0,t.jsx)(P,{size:"sm",className:"inline-flex"})]})]}),{}),(0,t.jsx)("div",{className:F,children:R.map(e=>{var a;return(0,t.jsx)(I,{card:e.card,collection:s,onAddCard:l,viewMode:u,index:Math.floor(e.index),isVersion:e.isVersion,isExpanded:p===(e.originalId||e.card.id),isLoading:e.isLoading||k[e.card.id]||!1,originalId:e.originalId,onToggleVersions:()=>T(e.card.id,e.card),versionsCount:e.isVersion?0:null!==(a=S[e.card.id])&&void 0!==a?a:0,onShowInListing:e.isVersion&&!e.isPlaceholder?L:void 0,isPlaceholder:e.isPlaceholder,hasNoVersions:!1},"enhanced-card-".concat(e.isVersion?"version-".concat(e.card.id):e.card.id))})}),$()]})}I.displayName="SearchCardItem";var F=s(3702),$=s(8482),V=s(4653),O=s(381),B=s(133),U=s(809);let G=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,k.VG)(e,a)},W={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}}},J=e=>{let{collectionCards:a,onRemoveCard:s,onAddCard:l,onUpdateCardQuantity:d,onAddToDeck:m,className:u=""}=e,{openModal:v,visualizationType:N}=(0,x.h)(),[f,y]=(0,r.useState)({}),[w,C]=(0,r.useState)("grid"),[k,q]=(0,r.useState)({}),[E,_]=(0,r.useState)(null),[P,D]=(0,r.useState)({}),T=a.reduce((e,a)=>{let s=a.card.name;return e[s]||(e[s]=[]),e[s].push(a),e},{}),M=(0,r.useCallback)((e,a)=>{let s=k[e];if(s){let e=a.find(e=>e.card.id===s);if(e)return e}return a[0]},[k]),z=(0,r.useCallback)((e,a)=>{q(s=>({...s,[e]:a}))},[]),L=(0,r.useCallback)(e=>{s(e)},[s]);(0,r.useCallback)(e=>{(T[e]||[]).forEach(e=>{s(e.card)})},[T,s]);let I=(0,r.useCallback)((e,a)=>{d&&d(e,a)},[d]),R=(0,r.useCallback)(async e=>{let a=f[e];y(s=>({...s,[e]:!a})),a||P[e]||(await F(e),setTimeout(()=>{let a=document.querySelector('[data-card-name="'.concat(e,'"]'));a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100))},[f,P]),F=(0,r.useCallback)(async e=>{var a,s;if(null===(a=P[e])||void 0===a||!a.loading){D(a=>({...a,[e]:{versions:[],loading:!0,error:null}}));try{let a=await (0,A.vI)(e);if(!a.ok)throw Error("Erro ao buscar vers\xf5es");let t=(await a.json()).data||[],r=new Set((null===(s=T[e])||void 0===s?void 0:s.map(e=>e.card.id))||[]),l=t.filter(e=>!r.has(e.id));D(a=>({...a,[e]:{versions:l,loading:!1,error:null}}))}catch(a){console.error("Erro ao buscar vers\xf5es:",a),D(a=>({...a,[e]:{versions:[],loading:!1,error:"Erro ao buscar vers\xf5es alternativas"}}))}}},[T,P]),J=(0,r.useCallback)(async e=>{_(e.id);try{l(e),D(a=>{let s={...a};return Object.keys(s).forEach(a=>{s[a]&&(s[a]={...s[a],versions:s[a].versions.filter(a=>a.id!==e.id)})}),s}),setTimeout(()=>_(null),1e3)}catch(e){console.error("Erro ao adicionar carta:",e),_(null)}},[l]),H=(0,r.useCallback)(e=>{let{card:a,quantity:s,onAdd:l,onUpdate:c,onRemove:o}=e,[d,m]=(0,r.useState)(1),[x,u]=(0,r.useState)(s||0);r.useEffect(()=>{u(s||0)},[s]);let h=e=>{let a=Math.max(0,x+e);c&&c(a)},j=e=>{let a=Math.max(0,e);c&&c(a)};return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[void 0!==s?(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>h(-1),className:"h-6 w-6 p-0 text-white hover:bg-red-600",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})}),(0,t.jsx)(n.p,{type:"number",value:x,onChange:e=>j(parseInt(e.target.value)||0),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"0"}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>h(1),className:"h-6 w-6 p-0 text-white hover:bg-green-600",children:(0,t.jsx)(g.A,{className:"h-3 w-3"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>m(Math.max(1,d-1)),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})}),(0,t.jsx)(n.p,{type:"number",value:d,onChange:e=>m(Math.max(1,parseInt(e.target.value)||1)),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"1"}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>m(d+1),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(g.A,{className:"h-3 w-3"})})]}),(0,t.jsxs)(i.$,{onClick:()=>{l&&l(d)},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 h-6",children:["+",d]})]}),o&&(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:o,className:"h-6 w-6 p-0 text-red-400 hover:bg-red-900/20",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})})]})},[]),Z=(0,r.useCallback)((e,a)=>{var s;let r=P[e],n=a.reduce((e,a)=>e+a.quantity,0),o=a.length>1;return(0,t.jsxs)("div",{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-700/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white",children:e}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Gerencie suas vers\xf5es e quantidades"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>C("grid"),className:"h-7 w-7 p-0 ".concat("grid"===w?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,t.jsx)(V.A,{className:"h-3 w-3"})}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>C("list"),className:"h-7 w-7 p-0 ".concat("list"===w?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,t.jsx)(S.A,{className:"h-3 w-3"})})]})]})}),(0,t.jsxs)("div",{className:"h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800 hover:scrollbar-thumb-gray-500",children:[(null==r?void 0:r.loading)&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 animate-spin text-blue-500 mr-2"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Buscando vers\xf5es..."})]}),o&&!(null==r?void 0:r.loading)&&(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Na sua cole\xe7\xe3o"}),(0,t.jsxs)(c.E,{variant:"secondary",className:"bg-green-600/20 text-green-400 text-xs",children:[n,"x total"]}),(0,t.jsxs)(i.$,{size:"sm",variant:"ghost",onClick:()=>z(e,a[0].card.id),className:"text-xs text-blue-400 hover:text-blue-300 h-5 px-2",title:"Trocar arte principal",children:[(0,t.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"Trocar Principal"]})]}),"grid"===w?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:a.map((a,s)=>(0,t.jsxs)("div",{className:"relative group bg-gray-800/50 rounded-lg p-2 hover:bg-gray-800/70 transition-colors",children:[(0,t.jsx)("div",{className:"w-full aspect-[63/88] bg-gray-900 rounded overflow-hidden border border-gray-600 mb-2",children:G(a.card)?(0,t.jsx)("img",{src:G(a.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>v(a.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:W.setCode(a.card)})})}),(0,t.jsxs)("div",{className:"text-center mb-2",children:[(0,t.jsx)("div",{className:"text-xs text-white font-medium truncate",children:W.setCode(a.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:W.setName(a.card)})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(H,{card:a.card,quantity:a.quantity,onAdd:e=>l(a.card,e),onRemove:()=>L(a.card),onUpdate:e=>I(a.card,e)})}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>z(e,a.card.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 h-6 w-6 p-0 bg-blue-600/80 hover:bg-blue-600 text-white transition-all",title:"Definir como arte principal",children:(0,t.jsx)(B.A,{className:"h-3 w-3"})})]},"".concat(a.card.id,"-").concat(s)))}):(0,t.jsx)("div",{className:"space-y-2",children:a.map((a,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:G(a.card)?(0,t.jsx)("img",{src:G(a.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>v(a.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:W.setCode(a.card)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:W.setCode(a.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:W.setName(a.card)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H,{card:a.card,quantity:a.quantity,onAdd:e=>l(a.card,e),onRemove:()=>L(a.card),onUpdate:e=>I(a.card,e)}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>z(e,a.card.id),className:"h-6 w-6 p-0 text-blue-400 hover:bg-blue-900/20 opacity-0 group-hover:opacity-100 transition-all",title:"Definir como arte principal",children:(0,t.jsx)(B.A,{className:"h-3 w-3"})})]})]},"".concat(a.card.id,"-").concat(s)))})]}),r&&!r.loading&&(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:r.error?(0,t.jsxs)("div",{className:"text-red-400 text-sm flex items-center gap-2 py-4",children:[(0,t.jsx)(j.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:r.error})]}):0===r.versions.length?(0,t.jsx)("div",{className:"text-gray-400 text-sm py-4 text-center",children:"Nenhuma vers\xe3o alternativa encontrada"}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Outras vers\xf5es dispon\xedveis"}),(0,t.jsxs)(c.E,{variant:"outline",className:"bg-blue-600/20 text-blue-400 text-xs border-blue-600/30",children:[r.versions.length," encontradas"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:r.versions.map(a=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:G(a)?(0,t.jsx)("img",{src:G(a),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>v(a)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:W.setCode(a)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:W.setCode(a)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:W.setName(a)})]}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>J(a),disabled:E===a.id,className:"px-3 py-1 text-xs opacity-70 group-hover:opacity-100 transition-all duration-200 transform hover:scale-105 ".concat(E===a.id?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:E===a.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1 animate-spin"}),"Adicionado!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Adicionar"]})})]},a.id))})]})}),(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:(0,t.jsx)(U.A,{card:null===(s=a[0])||void 0===s?void 0:s.card,className:"w-full"})})]})]})},[P,v,J,l,s]);return"grid"===N?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 ".concat(u),children:Object.entries(T).map(e=>{let[a,s]=e,r=s.reduce((e,a)=>e+a.quantity,0),l=f[a],n=M(a,s);return(0,t.jsx)("div",{"data-card-name":a,className:"relative transition-all duration-300 ".concat(l?"col-span-full":""),children:l?(0,t.jsxs)("div",{className:"flex gap-4 bg-gray-800/30 rounded-lg p-4 border border-gray-700/50",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("div",{className:"w-48 aspect-[63/88] rounded-lg overflow-hidden border border-gray-700 hover:border-blue-500 transition-colors",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-sm rounded-full w-8 h-8 flex items-center justify-center font-bold z-10",children:r}),(0,t.jsx)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center cursor-pointer",onClick:()=>v(n.card),children:G(n.card)?(0,t.jsx)("img",{src:G(n.card),alt:a,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-sm text-gray-400 text-center p-4",children:a})})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsxs)(i.$,{size:"sm",variant:"ghost",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>R(a),children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Ocultar Vers\xf5es"]}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white px-3",onClick:()=>L(M(a,s).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:Z(a,s)})]}):(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg overflow-hidden flex flex-col border border-gray-700 hover:border-blue-500 hover:shadow-md hover:shadow-blue-500/20 transition-all duration-200",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold z-10",children:r}),(0,t.jsxs)("div",{className:"aspect-[63/88] overflow-hidden bg-gray-900 flex items-center justify-center relative",onClick:()=>v(n.card),children:[G(n.card)?(0,t.jsx)("img",{src:G(n.card),alt:a,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:a}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsxs)("p",{className:"text-xs font-medium",children:[s.length," vers\xe3o",s.length>1?"\xf5es":""]}),(0,t.jsx)("p",{className:"text-xs text-gray-300",children:"Clique para detalhes"})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-2 flex gap-1",children:[(0,t.jsxs)(i.$,{size:"sm",variant:"ghost",className:"flex-1 bg-gray-700 hover:bg-blue-600 text-white h-7 transition-colors duration-200",onClick:()=>R(a),children:[(0,t.jsx)(o.A,{className:"h-3 w-3 mr-1"}),"Vers\xf5es"]}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white h-7 px-2 transition-colors duration-200",onClick:()=>L(M(a,s).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})})]})]})})},a)})}):"list"===N?(0,t.jsx)("div",{className:"space-y-3 ".concat(u),children:Object.entries(T).map(e=>{let[a,s]=e,r=f[a],l=s.reduce((e,a)=>e+a.quantity,0),n=M(a,s);return(0,t.jsx)($.Zp,{"data-card-name":a,className:"bg-gray-800/50 border-gray-700/50 hover:bg-gray-700/50 transition-colors",children:(0,t.jsxs)($.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-20 bg-gray-900 rounded overflow-hidden",children:G(n.card)?(0,t.jsx)("img",{src:G(n.card),alt:a,className:"w-full h-full object-contain cursor-pointer",onClick:()=>v(n.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:a})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:l})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:a}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:W.setName(n.card)}),(0,t.jsxs)("p",{className:"text-gray-500 text-xs",children:[s.length," vers\xe3o",s.length>1?"\xf5es":""," na cole\xe7\xe3o"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[m&&(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>m(n.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:(0,t.jsx)(g.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>R(a),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(o.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>L(M(a,s).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),r&&Z(a,s)]})},a)})}):(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(T).map(e=>{let[a,s]=e,r=f[a],l=s.reduce((e,a)=>e+a.quantity,0),n=M(a,s);return(0,t.jsx)($.Zp,{className:"bg-gray-800/50 border-gray-700/50 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-900 rounded overflow-hidden",children:G(n.card)?(0,t.jsx)("img",{src:G(n.card),alt:a,className:"w-full h-full object-contain cursor-pointer",onClick:()=>v(n.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:a})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:l})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:a}),(0,t.jsx)("p",{className:"text-gray-400",children:W.setName(n.card)}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:n.card.type_line})]}),n.card.oracle_text&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-gray-200 mb-1",children:"Texto:"}),(0,t.jsx)("p",{className:"italic",children:n.card.oracle_text})]}),(n.card.power||n.card.toughness)&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-200",children:"P/T:"})," ",n.card.power,"/",n.card.toughness]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[m&&(0,t.jsxs)(i.$,{size:"sm",variant:"outline",onClick:()=>m(n.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-1"}),"Deck"]}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>R(a),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:r?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(o.A,{className:"w-4 h-4"})}),(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>L(M(a,s).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),r&&Z(a,s)]})},a)})})};var H=s(9840),Z=s(8719),Q=s(4229),Y=s(9676),K=s(1482),X=s(3904),ee=s(7434),ea=s(142),es=s(9869),et=s(1788),er=s(7108),el=s(5196);function en(e){let{isOpen:a,onClose:s,onSuccess:l}=e,{currentCollection:c,adicionarCarta:o}=(0,u.U)(),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[b,v]=(0,r.useState)({processed:0,total:0}),N=(0,r.useRef)(null),f=async e=>{let a=e.split(/\r?\n/).filter(e=>e.trim());if(a.length<2)throw Error("Arquivo CSV inv\xe1lido ou vazio");let s=a[0].split(",").map(e=>e.toLowerCase());if(!s.includes("name")&&!s.includes("nome")&&!s.includes("card name"))throw Error("Formato de CSV n\xe3o reconhecido. O arquivo deve incluir uma coluna para o nome da carta (Name, Nome, Card Name)");let t=s.findIndex(e=>"name"===e||"nome"===e||"card name"===e),r=s.findIndex(e=>"quantity"===e||"quantidade"===e||"count"===e||"amount"===e||"qtd"===e),l=s.findIndex(e=>"set"===e||"conjunto"===e||"edition"===e||"edi\xe7\xe3o"===e||"set code"===e);if(-1===t)throw Error("Coluna de nome n\xe3o encontrada no CSV");let n=a.length-1,i=0,c=0;for(let e=1;e<a.length;e++){var d,m;let s=a[e];if(!s.trim())continue;let x=s.split(","),u=null===(d=x[t])||void 0===d?void 0:d.trim(),h=-1!==r&&parseInt(x[r])||1,g=-1!==l?null===(m=x[l])||void 0===m?void 0:m.trim():void 0;if(u)try{let e=g?'!"'.concat(u,'" set:').concat(g):'!"'.concat(u,'"'),a=await fetch("https://api.scryfall.com/cards/search?q=".concat(encodeURIComponent(e)));if(a.ok){let e=await a.json();if(e.data&&e.data.length>0){let a=e.data[0];for(let e=0;e<h;e++)await o(a),c++}}}catch(e){console.error("Erro ao processar carta: ".concat(u),e)}v({processed:++i,total:n})}return c},y=async()=>{if(d&&c){h(!0),p(null),v({processed:0,total:0});try{let e=await d.text();if(console.log("Conte\xfado do CSV:",e.substring(0,200)),!e.trim())throw Error("O arquivo CSV est\xe1 vazio");let a=await f(e);l(a),s()}catch(e){console.error("Erro ao importar cole\xe7\xe3o:",e),p(e instanceof Error?e.message:"Erro ao processar o arquivo")}finally{h(!1)}}};return(0,t.jsx)(H.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(es.A,{className:"w-4 h-4 text-cyan-400"}),"Importar Cole\xe7\xe3o (CSV)"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-500/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 text-cyan-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-xs text-gray-300",children:[(0,t.jsx)("p",{className:"mb-1",children:"Importe sua cole\xe7\xe3o a partir de um arquivo CSV no formato Manabox:"}),(0,t.jsxs)("ul",{className:"list-disc pl-4 space-y-0.5",children:[(0,t.jsx)("li",{children:"O arquivo deve conter colunas para Nome, Quantidade e Conjunto (opcional)"}),(0,t.jsx)("li",{children:"Formatos aceitos: Manabox, MTG Studio, Deckbox"}),(0,t.jsxs)("li",{children:["Exemplo: ",(0,t.jsx)("code",{className:"bg-gray-700/50 px-1 rounded",children:"Name,Set,Quantity"})]})]}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-700/50 rounded text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-cyan-400 mb-1",children:"Exemplo de conte\xfado:"}),(0,t.jsxs)("code",{children:["Name,Set,Quantity",(0,t.jsx)("br",{}),"Lightning Bolt,M10,4",(0,t.jsx)("br",{}),"Counterspell,7ED,2"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-xs text-cyan-400 font-medium",children:"Selecione o arquivo CSV"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.p,{ref:N,type:"file",accept:".csv",onChange:e=>{if(e.target.files&&e.target.files[0]){let a=e.target.files[0];if("text/csv"!==a.type&&!a.name.endsWith(".csv")){p("Por favor, selecione um arquivo CSV v\xe1lido"),m(null);return}m(a),p(null)}},className:"hidden"}),(0,t.jsxs)(i.$,{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},variant:"outline",className:"flex-1 border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10",children:[(0,t.jsx)(es.A,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivo"]})]}),d&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-300 bg-gray-800/50 p-2 rounded",children:[(0,t.jsx)(el.A,{className:"w-3 h-3 text-green-400"}),(0,t.jsx)("span",{children:d.name})]})]}),g&&(0,t.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded p-2 flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-red-300",children:g})]}),x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-cyan-400",style:{width:"".concat(b.total?b.processed/b.total*100:0,"%")}})}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 text-center",children:["Processando ",b.processed," de ",b.total," cartas..."]})]})]}),(0,t.jsxs)(H.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:s,disabled:x,children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:y,disabled:!d||x,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(es.A,{className:"w-4 h-4 mr-2"}),"Importar"]})]})]})})}var ei=s(4738),ec=s(1492),eo=s(4186),ed=s(646),em=s(1304),ex=s(4126);s(5319);var eu=s(4884),eh=s(3999);let eg=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(eu.bL,{className:(0,eh.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-cyan-600 data-[state=unchecked]:bg-gray-700",s),...r,ref:a,children:(0,t.jsx)(eu.zi,{className:(0,eh.cn)("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});eg.displayName=eu.bL.displayName;var ep=s(3786);function ej(e){let{isOpen:a,onClose:s,missingCards:l}=e,[c,o]=(0,r.useState)(1),[d,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(0),h=()=>{let e=[];for(let a of l){let s=Math.min(a.need-a.have,c);for(let t=0;t<s&&(e.push(a.card),!(e.length>=9));t++);if(e.length>=9)break}return e},g=()=>{u(e=>e+1)},p=h(),j=Math.min(p.length,9);return(0,t.jsx)(H.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal print-modal-content ".concat(d?"max-w-3xl":"max-w-md"),children:[(0,t.jsx)(H.c7,{className:"print-modal-header",children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(em.A,{className:"w-5 h-5 text-cyan-400"}),d?"Visualiza\xe7\xe3o de Impress\xe3o":"Imprimir Proxies"]})}),d?(0,t.jsxs)("div",{className:"mtg-print-preview print-modal-preview",children:[(0,t.jsx)("div",{className:"print-sheet-container",children:(0,t.jsx)("div",{className:"print-sheet",children:(0,t.jsx)("div",{className:"print-grid cut-lines",children:p.slice(0,9).map((e,a)=>{var s,r,l;let n=(null===(s=e.image_uris)||void 0===s?void 0:s.normal)||(null===(r=e.image_uris)||void 0===r?void 0:r.large)||(null===(l=e.image_uris)||void 0===l?void 0:l.png)||"";return(0,t.jsx)("div",{className:"print-card",children:(0,t.jsx)("img",{src:n,alt:e.name,onLoad:g,onError:g,style:{maxWidth:"100%",maxHeight:"100%"}})},a)})})})}),x<j&&(0,t.jsxs)("div",{className:"loading-indicator",children:["Carregando imagens... (",x,"/",j,")"]}),(0,t.jsxs)("div",{className:"print-controls print-modal-footer",children:[(0,t.jsxs)(i.$,{onClick:()=>{window.print()},disabled:x<j,className:"bg-cyan-800 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>{let e=h().map(e=>e.id).join("|");window.open("https://mtgprint.net/?ids=".concat(e),"_blank")},className:"border-cyan-800/50 text-cyan-400",children:[(0,t.jsx)(ep.A,{className:"w-4 h-4 mr-2"}),"Abrir no MTGPrint.net"]}),(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{m(!1)},children:"Fechar"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-800/20",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Imprima as cartas que faltam para sua cole\xe7\xe3o, organizadas em uma grade 3x3."}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"C\xf3pias por carta:"}),(0,t.jsx)(n.p,{type:"number",min:"1",max:"4",value:c,onChange:e=>o(parseInt(e.target.value)||1),className:"quantum-field-sm w-16"})]})]}),(0,t.jsxs)("div",{className:"bg-cyan-900/20 p-3 rounded-md border border-cyan-800/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Informa\xe7\xf5es de Impress\xe3o"})]}),(0,t.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1 list-disc pl-5",children:[(0,t.jsx)("li",{children:"Tamanho das cartas: 63mm x 88mm (tamanho real)"}),(0,t.jsx)("li",{children:"9 cartas por p\xe1gina em formato A4"}),(0,t.jsx)("li",{children:"Vers\xe3o de teste: apenas 1 p\xe1gina ser\xe1 impressa"}),(0,t.jsx)("li",{children:"Op\xe7\xe3o para abrir no MTGPrint.net para mais op\xe7\xf5es"})]})]}),(0,t.jsxs)(H.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:s,children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{m(!0),u(0)},disabled:0===l.length,className:"bg-cyan-800 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 mr-1"}),"Visualizar Impress\xe3o"]})]})]})]})})}s(3237);let eb=["med","me2","me3","me4","vma","tpr","pz1","pz2","pmei","akr","klr","j21","y22","y23","slx","htr","htr17","htr18","htr19","mtga","ana","anb","xln","rix","dom","grn","rna","war","eld","thb","iko","znr","khm","stx","afr","mid","vow","neo","snc","dmu","bro","one","mom","woe","lci","ltr","who"];function ev(e){let{isOpen:a,onClose:s}=e,{collections:o,currentCollection:m}=(0,u.U)(),[x,h]=(0,r.useState)(""),[g,p]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1),[v,N]=(0,r.useState)("grid"),[f,w]=(0,r.useState)(""),[C,k]=(0,r.useState)(4),[A,q]=(0,r.useState)("name"),[E,_]=(0,r.useState)("asc"),[P,D]=(0,r.useState)([]),[T,M]=(0,r.useState)(!0),[z,L]=(0,r.useState)(!1),[I,R]=(0,r.useState)({completed:[],missing:[],allCards:[],progress:0}),F=["Elf","Goblin","Zombie","Angel","Dragon","Vampire","Wizard","Warrior","Human","Beast","Spirit","Sliver","Merfolk","Dinosaur"],$=e=>{if(!m)return{inCollection:!1,quantity:0,missing:C};let a=m.cards.find(a=>a.card.name===e.name&&a.card.set===e.set),s=(null==a?void 0:a.quantity)||0,t=Math.max(0,C-s);return{inCollection:s>=C,quantity:s,missing:t}};(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.scryfall.com/sets");if(e.ok){let a=await e.json();D(a.data.map(e=>({code:e.code,name:e.name})))}}catch(e){console.error("Erro ao carregar cole\xe7\xf5es:",e)}})()},[]);let O=async()=>{if(f.trim()){b(!0);try{let e="type:".concat(f," prints:all");T&&(eb.forEach(a=>{e+=" -e:".concat(a)}),e+=" -is:digital"),console.log("Query de busca:",e);let a=await fetch("https://api.scryfall.com/cards/search?q=".concat(encodeURIComponent(e),"&order=released&unique=prints"));if(!a.ok)throw Error("Erro na API: ".concat(a.status));let s=await a.json(),t=s.data||[],r=s.next_page;for(;r;){let e=await fetch(r);if(e.ok){let a=await e.json();t=[...t,...a.data||[]],r=a.next_page}else break}p(t),B(t)}catch(e){console.error("Erro ao buscar cartas:",e),p([])}finally{b(!1)}}},B=e=>{if(!m||0===e.length)return;let a=[],s=[];for(let t of e){let e=m.cards.find(e=>e.card.name===t.name&&e.card.set===t.set),r=(null==e?void 0:e.quantity)||0;r>=C?a.push({card:t,have:r,need:C}):s.push({card:t,have:r,need:C})}let t=e.length*C,r=a.reduce((e,a)=>e+a.have,0)+s.reduce((e,a)=>e+a.have,0);R({completed:a,missing:s,allCards:e,progress:t>0?Math.min(100,Math.round(r/t*100)):0})},U=e=>{A===e?_(e=>"asc"===e?"desc":"asc"):(q(e),_("asc"))},G=(0,r.useMemo)(()=>I.allCards.length?[...I.allCards].sort((e,a)=>{let s=0;switch(A){case"name":s=e.name.localeCompare(a.name);break;case"rarity":let t={common:1,uncommon:2,rare:3,mythic:4};s=(t[e.rarity]||0)-(t[a.rarity]||0);break;case"cmc":s=(e.cmc||0)-(a.cmc||0);break;case"set":let r=e.set_name||"",l=a.set_name||"";0===(s=r.localeCompare(l))&&e.collector_number&&a.collector_number&&(s=(parseInt(e.collector_number)||0)-(parseInt(a.collector_number)||0));break;case"collected":let n=$(e),i=$(a);s=n.quantity-i.quantity;break;case"released":s=(e.released_at?new Date(e.released_at).getTime():0)-(a.released_at?new Date(a.released_at).getTime():0)}return"asc"===E?s:-s}):[],[I.allCards,A,E,m,C]),W=(0,r.useMemo)(()=>{let e={};return I.allCards.forEach(a=>{e[a.name]||(e[a.name]={total:0,collected:0,variants:[]}),e[a.name].total++,e[a.name].variants.push(a);let{inCollection:s}=$(a);s&&e[a.name].collected++}),e},[I.allCards,m,C]),J=(0,r.useMemo)(()=>{let e=I.allCards.length,a=Object.keys(W).length;return{totalVariants:e,uniqueCards:a,collectedVariants:I.completed.length,averageVariantsPerCard:a>0?(e/a).toFixed(1):"0"}},[I,W]);return(0,t.jsxs)(t.Fragment,{children:[z&&(0,t.jsx)(ej,{isOpen:z,onClose:()=>L(!1),missingCards:I.missing}),(0,t.jsx)(H.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal max-w-5xl max-h-[90vh] overflow-hidden",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ea.A,{className:"w-5 h-5 text-cyan-400"}),"Completar Cole\xe7\xe3o"]})}),(0,t.jsxs)("div",{className:"flex flex-col h-[calc(80vh-120px)]",children:[(0,t.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(d,{value:f,onChange:w,options:[{value:"",label:"Selecione um tipo..."},...F.map(e=>({value:e.toLowerCase(),label:e}))],placeholder:"Selecione um tipo",className:"w-full"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"C\xf3pias:"}),(0,t.jsx)(n.p,{type:"number",min:"1",max:"99",value:C,onChange:e=>k(parseInt(e.target.value)||1),className:"quantum-field-sm w-16"})]}),(0,t.jsx)(i.$,{onClick:O,className:"quantum-btn compact bg-cyan-600 hover:bg-cyan-700",disabled:!f||j,children:j?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"animate-spin mr-1",children:"⟳"})," Buscando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Buscar"]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eg,{id:"exclude-digital",checked:T,onCheckedChange:M}),(0,t.jsxs)("label",{htmlFor:"exclude-digital",className:"text-xs text-gray-300 flex items-center cursor-pointer",children:[(0,t.jsx)(ei.A,{className:"w-3 h-3 mr-1 text-gray-400"}),"Excluir edi\xe7\xf5es digitais"]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 ".concat("grid"===v?"bg-gray-700":""),onClick:()=>N("grid"),children:(0,t.jsx)(V.A,{className:"w-3 h-3"})}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 ".concat("list"===v?"bg-gray-700":""),onClick:()=>N("list"),children:(0,t.jsx)(S.A,{className:"w-3 h-3"})})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto pb-1",children:F.map(e=>(0,t.jsx)(c.E,{className:"cursor-pointer ".concat(f===e.toLowerCase()?"bg-cyan-600":"bg-gray-700 hover:bg-gray-600"),onClick:()=>{w(e.toLowerCase()),setTimeout(()=>O(),100)},children:e},e))}),I.allCards.length>0&&(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-500/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-white font-medium",children:"Progresso:"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-cyan-400",children:[I.progress,"%"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[I.completed.length," completas / ",I.missing.length," faltantes"]})})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full bg-cyan-400",style:{width:"".concat(I.progress,"%")}})}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-2 text-center",children:[(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Cartas \xdanicas"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:J.uniqueCards})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Variantes"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:J.totalVariants})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Coletadas"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:J.collectedVariants})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"M\xe9dia/Carta"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:J.averageVariantsPerCard})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-gray-700 max-h-16 overflow-y-auto",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-400 mr-1 flex items-center",children:[(0,t.jsx)(ec.A,{className:"w-3 h-3 mr-1"}),"Ordenar por:"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("name"===A?"bg-gray-700":""),onClick:()=>U("name"),children:["Nome ","name"===A&&("asc"===E?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("rarity"===A?"bg-gray-700":""),onClick:()=>U("rarity"),children:["Raridade ","rarity"===A&&("asc"===E?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("cmc"===A?"bg-gray-700":""),onClick:()=>U("cmc"),children:["CMC ","cmc"===A&&("asc"===E?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("set"===A?"bg-gray-700":""),onClick:()=>U("set"),children:["Cole\xe7\xe3o ","set"===A&&("asc"===E?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("released"===A?"bg-gray-700":""),onClick:()=>U("released"),children:[(0,t.jsx)(eo.A,{className:"w-3 h-3 mr-1"}),"Lan\xe7amento ","released"===A&&("asc"===E?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-6 text-xs px-2 ".concat("collected"===A?"bg-gray-700":""),onClick:()=>U("collected"),children:["Coletadas ","collected"===A&&("asc"===E?"↑":"↓")]})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-1 quantum-scrollbar",children:I.allCards.length>0?"grid"===v?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:G.map((e,a)=>{var s;let{inCollection:r,quantity:n,missing:i}=$(e),o=n>0;return(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] ".concat(r?"ring-2 ring-green-500":o?"ring-2 ring-cyan-800":"ring-1 ring-gray-700"),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.default,{src:(null===(s=e.image_uris)||void 0===s?void 0:s.normal)||"/placeholder.png",alt:e.name,width:265,height:370,className:"w-full h-auto ".concat(o?"":"grayscale")}),o&&!r&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 w-1/2 bg-gradient-to-l from-cyan-800/80 to-transparent flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-4xl font-bold text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:["-",i]})}),(0,t.jsxs)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsxs)(c.E,{className:r?"bg-green-600":o?"bg-cyan-800":"bg-gray-600",children:[n,"/",C]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 truncate",children:e.set_name}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.collector_number})]})]})]})},"".concat(e.id,"-").concat(a))})}):(0,t.jsx)("div",{className:"space-y-1",children:G.map((e,a)=>{var s;let{inCollection:r,quantity:n,missing:i}=$(e),o=n>0;return(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md ".concat(r?"bg-green-900/20":o?"bg-cyan-950/30":"bg-gray-800/50"),children:[(0,t.jsxs)("div",{className:"w-8 h-8 relative flex-shrink-0",children:[(0,t.jsx)(l.default,{src:(null===(s=e.image_uris)||void 0===s?void 0:s.art_crop)||"/placeholder.png",alt:e.name,fill:!0,className:"rounded-md object-cover ".concat(o?"":"grayscale")}),o&&!r&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-l from-cyan-800/80 to-transparent flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-bold text-white",children:["-",i]})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-white",children:e.name}),(0,t.jsxs)(c.E,{className:r?"bg-green-600":o?"bg-cyan-800":"bg-gray-600",children:[n,"/",C]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e.set_name," #",e.collector_number]}),r?(0,t.jsx)(ed.A,{className:"w-3 h-3 text-green-400"}):o?(0,t.jsxs)("span",{className:"text-xs text-cyan-600 font-bold",children:["Faltam ",i]}):(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"N\xe3o coletada"})]})]})]},"".concat(e.id,"-").concat(a))})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(ea.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Selecione um tipo para come\xe7ar"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 max-w-md mx-auto",children:'Escolha um tipo de carta (como "Elfo" ou "Goblin") e clique em "Buscar" para ver todas as artes dispon\xedveis. As cartas que voc\xea j\xe1 possui aparecer\xe3o coloridas, enquanto as que faltam estar\xe3o em preto e branco.'})]})})]}),(0,t.jsxs)(H.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[I.missing.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.$,{onClick:()=>{if(0===I.missing.length)return;let e=new Blob([[["Name","Set","Quantity","Have","Need"],...I.missing.map(e=>[e.card.name,e.card.set_name||"",(e.need-e.have).toString(),e.have.toString(),e.need.toString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="missing_cards.csv",s.click(),window.URL.revokeObjectURL(a)},variant:"outline",className:"mr-2",children:[(0,t.jsx)(et.A,{className:"w-4 h-4 mr-1"}),"Exportar CSV"]}),(0,t.jsxs)(i.$,{onClick:()=>L(!0),variant:"outline",className:"mr-auto bg-cyan-900/30 hover:bg-cyan-800/50 text-cyan-400 border-cyan-800/50",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 mr-1"}),"Imprimir Proxies"]})]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>{p([]),R({completed:[],missing:[],allCards:[],progress:0})},disabled:0===I.allCards.length,children:[(0,t.jsx)(ex.A,{className:"w-4 h-4 mr-1"}),"Limpar"]}),(0,t.jsx)(i.$,{onClick:s,children:"Fechar"})]})]})})]})}s(9930),s(6631),s(8704),s(2001),s(1851);var eN=s(4940),ef=s(4357),ey=s(7213);function ew(e){let{collection:a,onSelect:s,onDelete:r,onEdit:l,onDuplicate:n,onSetBackground:i,isActive:o}=e,d=a.cards.reduce((e,a)=>e+a.quantity,0),m=a.cards.length;return(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight group relative overflow-hidden ".concat(o?"ring-2 ring-cyan-400":""),onClick:()=>s(a.id),children:[a.backgroundImage&&(0,t.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"}),(0,t.jsx)("img",{src:a.backgroundImage,alt:"",className:"w-full h-full object-cover filter blur-sm"})]}),(0,t.jsx)("div",{className:"p-3 border-b border-cyan-500/20 relative z-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white truncate",children:a.name}),(0,t.jsx)("div",{className:"flex items-center gap-1 mt-1",children:(0,t.jsxs)(c.E,{className:"bg-gray-700/60 text-gray-200 text-[10px] h-4 px-1",children:[(0,t.jsx)(ee.A,{className:"w-2 h-2 mr-1"}),"Cole\xe7\xe3o"]})})]}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),l(a.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eN.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),n(a.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(ef.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),i(a.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(ey.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),r(a.id)},className:"p-1 text-gray-400 hover:text-red-400 transition",children:(0,t.jsx)(C.A,{className:"w-3.5 h-3.5"})})]})]})}),(0,t.jsxs)("div",{className:"p-3 text-xs text-gray-400 relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Cartas \xfanicas:"}),(0,t.jsx)("span",{className:"font-mono text-cyan-400",children:m})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Total de cartas:"}),(0,t.jsx)("span",{className:"font-mono text-cyan-400",children:d})]}),a.description&&(0,t.jsx)("div",{className:"mt-2 border-t border-gray-800 pt-2 line-clamp-2 text-[11px]",children:a.description})]}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-transparent via-cyan-900/10 to-transparent cursor-pointer relative z-10",children:(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[11px] text-gray-500 group-hover:text-cyan-400",children:[(0,t.jsx)(f.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:o?"Selecionada":"Selecionar"})]})})]})}let eC=["all","common","uncommon","rare","mythic","special","bonus"],ek=["all","creature","artifact","enchantment","instant","sorcery","planeswalker","land","token","artifact creature","enchantment creature"],eA=["all","elf","goblin","zombie","angel","dragon","vampire","wizard","warrior","human","beast","spirit","sliver","merfolk","dinosaur","giant","elemental","knight","soldier","rogue","cleric"],eq=["all","legendary","basic","snow","world","ongoing"],eS=["all","foil","nonfoil"],eE=["W","U","B","R","G","C"];function e_(e){var a,s;let{allCards:o,setAllCards:h,exportCollectionToCSV:p}=e,{collections:b,currentCollection:v,currentCollectionId:f,setCurrentCollectionId:w,createCollection:k,deleteCollection:q,duplicateCollection:S,adicionarCarta:E,removerCarta:_,updateCollection:P}=(0,u.U)(),[D,T]=(0,r.useState)(null),[M,z]=(0,r.useState)(null),[L,I]=(0,r.useState)("pesquisa"),[$,V]=(0,r.useState)(!1),[B,U]=(0,r.useState)(!1),G={busca:"",raridade:"all",tipo:"all",subtipo:"all",supertipo:"all",cmc:"",foil:"all",oracleText:"",manaColors:[]},[W,el]=(0,r.useReducer)(function(e,a){switch(a.type){case"SET_FIELD":return{...e,[a.field]:a.value};case"TOGGLE_MANA_COLOR":return{...e,manaColors:e.manaColors.includes(a.color)?e.manaColors.filter(e=>e!==a.color):[...e.manaColors,a.color]};case"RESET_FILTERS":return G;default:return e}},G),ei=e=>el({type:"SET_FIELD",field:"busca",value:e}),ec=e=>el({type:"SET_FIELD",field:"raridade",value:e}),eo=e=>el({type:"SET_FIELD",field:"tipo",value:e}),ed=e=>el({type:"SET_FIELD",field:"subtipo",value:e}),em=e=>el({type:"SET_FIELD",field:"supertipo",value:e}),ex=e=>el({type:"SET_FIELD",field:"cmc",value:e}),eu=e=>el({type:"SET_FIELD",field:"foil",value:e}),eh=e=>el({type:"SET_FIELD",field:"oracleText",value:e}),eg=e=>el({type:"TOGGLE_MANA_COLOR",color:e}),[ep,ej]=(0,r.useState)("name"),[eb,eN]=(0,r.useState)("asc"),[ef,ey]=(0,r.useState)("all"),[e_,eP]=(0,r.useState)("all"),[eD,eT]=(0,r.useState)(""),[eM,ez]=(0,r.useState)("name"),[eL,eI]=(0,r.useState)("asc"),[eR,eF]=(0,r.useState)([]),[e$,eV]=(0,r.useState)(!1),[eO,eB]=(0,r.useState)(null),[eU,eG]=(0,r.useState)({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1}),[eW,eJ]=(0,r.useState)(!1),[eH,eZ]=(0,r.useState)(""),[eQ,eY]=(0,r.useState)([]),[eK,eX]=(0,r.useState)(!1),[e0,e1]=(0,r.useState)(!1),[e4,e3]=(0,r.useState)([]),[e2,e5]=(0,r.useState)(""),[e6,e8]=(0,r.useState)(!1),[e7,e9]=(0,r.useState)(!1),[ae,aa]=(0,r.useState)(!1),as=(0,r.useMemo)(()=>Array.from(new Set(["Lightning Bolt","Counterspell","Sol Ring","Swords to Plowshares","Dark Ritual",...v?v.cards.map(e=>e.card.name).slice(0,5):[]])),[v]),at=(0,r.useCallback)(e=>{e.trim()&&(ei(e),I("pesquisa"),eX(!1),eY(a=>[e,...a.filter(a=>a!==e)].slice(0,10)),e1(!0),ai("info",'Pesquisando por "'.concat(e,'"...')))},[]),[ar,al]=(0,r.useState)({type:"info",message:"",visible:!1}),{openModal:an}=(0,x.h)();(0,r.useCallback)(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(let s=0;s<a;s++)E(e);ai("success","".concat(a,"x ").concat(e.name," adicionada").concat(a>1?"s":""," \xe0 cole\xe7\xe3o!"))},[E]);let ai=(0,r.useCallback)((e,a)=>{al({type:e,message:a,visible:!0}),setTimeout(()=>{al(e=>({...e,visible:!1}))},3e3)},[]),ac=(0,r.useMemo)(()=>{if(!v)return[];let e=v.cards;if(eD.trim()){let a=eD.trim();e=e.filter(e=>(0,F.S)(e.card,a))}return"all"!==ef&&(e=e.filter(e=>e.card.rarity===ef)),"all"!==e_&&(e="colorless"===e_?e.filter(e=>!e.card.color_identity||0===e.card.color_identity.length):e.filter(e=>e.card.color_identity&&e.card.color_identity.includes(e_))),e.sort((e,a)=>{let s=0;switch(ep){case"name":s=e.card.name.localeCompare(a.card.name);break;case"rarity":let t={common:1,uncommon:2,rare:3,mythic:4};s=(t[e.card.rarity]||0)-(t[a.card.rarity]||0);break;case"cmc":s=(e.card.cmc||0)-(a.card.cmc||0);break;case"quantity":s=e.quantity-a.quantity;break;case"date":s=new Date(e.card.released_at||"").getTime()-new Date(a.card.released_at||"").getTime()}return"asc"===eb?s:-s}),e},[v,eD,ef,e_,ep,eb]),ao=(0,r.useCallback)(e=>{ep===e?eN(e=>"asc"===e?"desc":"asc"):(ej(e),eN("asc"))},[ep]),ad=(0,r.useCallback)((e,a)=>{console.log("Mudan\xe7a de ordena\xe7\xe3o: ".concat(e," ").concat(a)),ez(e),eI(a),setTimeout(()=>am(),100)},[]),am=async()=>{if(!W.busca.trim()&&"all"===W.raridade&&"all"===W.tipo&&"all"===W.subtipo&&"all"===W.supertipo&&!W.cmc&&!W.oracleText&&0===W.manaColors.length&&"all"===W.foil){eB("Por favor, defina pelo menos um filtro para pesquisar");return}W.busca.trim()&&eY(e=>[W.busca.trim(),...e.filter(e=>e!==W.busca.trim())].slice(0,10)),eV(!0),eB(null);try{let e=[];if(W.busca.trim()&&e.push(W.busca.trim()),"all"!==W.raridade&&e.push("rarity:".concat(W.raridade)),"all"!==W.tipo&&e.push("type:".concat(W.tipo)),"all"!==W.subtipo&&e.push("type:".concat(W.subtipo)),"all"!==W.supertipo&&e.push("is:".concat(W.supertipo)),W.cmc){let a=parseInt(W.cmc);isNaN(a)||e.push("cmc=".concat(a))}"foil"===W.foil&&e.push("is:foil"),"nonfoil"===W.foil&&e.push("-is:foil"),W.oracleText.trim()&&e.push('oracle:"'.concat(W.oracleText.trim(),'"')),W.manaColors.length>0&&e.push("colors:".concat(W.manaColors.join("")));let a=e.join(" ");console.log("Query constru\xedda:",a),console.log("Ordena\xe7\xe3o busca:",eM,eL);let s=await (0,A.z)(a,eM,eL);if(!s.ok){if(404===s.status)eF([]),eB("Nenhuma carta encontrada com os filtros especificados");else throw Error("Erro na API: ".concat(s.status));return}let t=await s.json();eF(t.data||[]),eG({hasMore:t.has_more||!1,totalCards:t.total_cards||null,nextPageUrl:t.next_page||null,currentPage:1}),t.data&&0===t.data.length&&eB("Nenhuma carta encontrada com os filtros especificados")}catch(e){console.error("Erro ao pesquisar cartas:",e),eB("Erro ao pesquisar cartas. Tente novamente."),eF([]),eG({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1})}finally{eV(!1)}},ax=async()=>{if(eU.nextPageUrl&&!eW){eJ(!0);try{let e=await fetch(eU.nextPageUrl);if(!e.ok)throw Error("Erro na API: ".concat(e.status));let a=await e.json();eF(e=>[...e,...a.data||[]]),eG(e=>({hasMore:a.has_more||!1,totalCards:a.total_cards||e.totalCards,nextPageUrl:a.next_page||null,currentPage:e.currentPage+1}))}catch(e){console.error("Erro ao carregar pr\xf3xima p\xe1gina:",e),al({type:"error",message:"Erro ao carregar mais cartas. Tente novamente.",visible:!0}),setTimeout(()=>{al(e=>({...e,visible:!1}))},3e3)}finally{eJ(!1)}}};(0,r.useEffect)(()=>{let e=setTimeout(()=>{W.busca.trim()&&W.busca.length>=3&&am()},500);return()=>clearTimeout(e)},[W.busca]),(0,r.useEffect)(()=>{let e=localStorage.getItem("savedSearches");if(e)try{e3(JSON.parse(e))}catch(e){console.error("Erro ao carregar pesquisas salvas:",e)}},[]);let au=e=>{let[a,s]=e.split(": ");el({type:"RESET_FILTERS"}),s.split(" ").forEach(e=>{if(e.includes(":")||e.includes("=")){if(e.startsWith("rarity:"))ec(e.replace("rarity:",""));else if(e.startsWith("type:")){let a=e.replace("type:","");eA.includes(a)?ed(a):eo(a)}else if(e.startsWith("is:")){let a=e.replace("is:","");"foil"===a?eu("foil"):em(a)}else e.startsWith("-is:foil")?eu("nonfoil"):e.startsWith("cmc=")?ex(e.replace("cmc=","")):e.startsWith("oracle:")?eh(e.replace("oracle:","").replace(/"/g,"")):e.startsWith("colors:")&&e.replace("colors:","").split("").forEach(e=>{eE.includes(e)&&eg(e)})}else ei(e)}),setTimeout(()=>am(),100),ai("info",'Pesquisa "'.concat(a,'" carregada!'))},ah=e=>{let a=[...e4],s=a[e].split(": ")[0];a.splice(e,1),e3(a),localStorage.setItem("savedSearches",JSON.stringify(a)),ai("info",'Pesquisa "'.concat(s,'" removida!'))},ag=e=>e.charAt(0).toUpperCase()+e.slice(1),ap=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-yellow-400";case"mythic":return"text-orange-400"}};return(0,t.jsxs)("div",{className:"quantum-compact relative",children:[(0,t.jsx)("div",{className:"ambient-glow pointer-events-none"}),ar.visible&&(0,t.jsx)("div",{className:"quantum-notification ".concat("success"===ar.type?"quantum-notification-success":"error"===ar.type?"quantum-notification-error":"quantum-notification-info"),children:ar.message}),(0,t.jsx)(en,{isOpen:e7,onClose:()=>e9(!1),onSuccess:e=>{ai("success","Importa\xe7\xe3o conclu\xedda! ".concat(e," cartas adicionadas \xe0 cole\xe7\xe3o."))}}),(0,t.jsx)(ev,{isOpen:ae,onClose:()=>aa(!1)}),(0,t.jsx)("div",{className:"quantum-card-dense mb-2 card-glow card-glow-blue",children:(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.p,{type:"text",placeholder:"Busca r\xe1pida de cartas...",value:eH,onChange:e=>{eZ(e.target.value),eX(e.target.value.length>0)},onKeyPress:e=>{"Enter"===e.key&&at(eH)},className:"quantum-field"}),(0,t.jsx)(y.A,{className:"absolute right-2 top-2 w-4 h-4 text-gray-400"}),eK&&eH.length>0&&(0,t.jsx)("div",{className:"absolute top-full mt-1 w-full rounded-sm bg-gray-900/90 backdrop-blur-sm shadow-md overflow-hidden border border-gray-700/50 z-10",children:as.filter(e=>e.toLowerCase().includes(eH.toLowerCase())).slice(0,5).map((e,a)=>(0,t.jsx)("button",{onClick:()=>at(e),className:"w-full text-left px-2 py-1 text-sm hover:bg-gray-800/80 transition-colors",children:e},a))})]})})}),(0,t.jsx)("div",{className:"quantum-card-dense bg-blue-900/20 border border-blue-500/30 mb-2 card-glow card-glow-purple",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{I("pesquisa"),ei(""),eB(null),eF([])},className:"quantum-btn compact ".concat("pesquisa"===L?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"),style:{minWidth:"100px"},children:[(0,t.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Pesquisar"]}),(0,t.jsxs)("button",{onClick:()=>{I("colecao"),ei("")},className:"quantum-btn compact ".concat("colecao"===L?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"),style:{minWidth:"100px"},children:[(0,t.jsx)(Z.A,{className:"w-3 h-3 mr-1"}),"Cole\xe7\xe3o (",(null==v?void 0:null===(a=v.cards)||void 0===a?void 0:a.length)||0,")"]}),(0,t.jsxs)("button",{onClick:()=>I("estatisticas"),className:"quantum-btn compact ".concat("estatisticas"===L?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"),style:{minWidth:"100px"},children:[(0,t.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Estat\xedsticas"]})]}),(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:["pesquisa"===L&&(0,t.jsxs)("button",{onClick:()=>e8(!0),className:"quantum-btn compact bg-purple-600 text-white",style:{minWidth:"100px"},disabled:!W.busca.trim()&&"all"===W.raridade&&"all"===W.tipo&&"all"===W.subtipo&&"all"===W.supertipo&&!W.cmc&&!W.oracleText&&0===W.manaColors.length&&"all"===W.foil,children:[(0,t.jsx)(Q.A,{className:"w-3 h-3 mr-1"}),"Salvar"]}),(0,t.jsxs)("button",{onClick:()=>e1(!e0),className:"quantum-btn compact ".concat(e0?"bg-green-600 text-white":"bg-gray-700 text-gray-200"),style:{minWidth:"100px"},children:[(0,t.jsx)(Y.A,{className:"w-3 h-3 mr-1"}),"Hist\xf3rico"]})]})]}),e0&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-green-900/20 rounded-md border border-green-500/30 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-white flex items-center gap-1",children:[(0,t.jsx)(Y.A,{className:"w-3 h-3 text-green-400"}),"Pesquisas recentes"]}),e4.length>0&&(0,t.jsxs)(c.E,{className:"bg-purple-700 text-white cursor-default",children:["Salvas: ",e4.length]})]}),eQ.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:eQ.map((e,a)=>(0,t.jsx)(c.E,{className:"bg-green-700 hover:bg-green-600 cursor-pointer text-white px-2 py-0.5 text-xs",onClick:()=>at(e),children:e},a))}):(0,t.jsx)("p",{className:"text-gray-300 italic text-xs mb-3",children:"Nenhuma pesquisa recente. Fa\xe7a uma busca para come\xe7ar!"}),e4.length>0&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-green-500/30 pt-2 mt-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-white mb-2 flex items-center gap-1",children:[(0,t.jsx)(Q.A,{className:"w-3 h-3 text-purple-400"}),"Pesquisas salvas"]}),(0,t.jsx)("div",{className:"space-y-1",children:e4.map((e,a)=>{let[s]=e.split(": ");return(0,t.jsxs)("div",{className:"flex justify-between items-center bg-gray-800/50 rounded px-2 py-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-200",children:s}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>au(e),className:"p-1 rounded hover:bg-gray-700/50",children:(0,t.jsx)(y.A,{className:"w-3 h-3 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>ah(a),className:"p-1 rounded hover:bg-gray-700/50",children:(0,t.jsx)(C.A,{className:"w-3 h-3 text-red-400"})})]})]},a)})})]})})]})]})}),"pesquisa"===L&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-2",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"quantum-card-dense p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(K.A,{className:"w-3 h-3 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Filtros"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Nome"}),(0,t.jsx)(n.p,{type:"text",placeholder:"Ex: Lightning Bolt",value:W.busca,onChange:e=>ei(e.target.value),onKeyPress:e=>{"Enter"===e.key&&am()},className:"quantum-field-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Raridade"}),(0,t.jsx)(d,{value:W.raridade,onChange:ec,options:eC.map(e=>({value:e,label:"all"===e?"Todas":ag(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Tipo"}),(0,t.jsx)(d,{value:W.tipo,onChange:eo,options:ek.map(e=>({value:e,label:"all"===e?"Todos":ag(e)}))})]})]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>V(!$),className:"quantum-btn w-full text-xs h-7",size:"sm",children:[(0,t.jsx)(O.A,{className:"w-3 h-3 mr-1"}),$?"Ocultar":"Mais"," Filtros"]}),$&&(0,t.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-800",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Subtipo"}),(0,t.jsx)(d,{value:W.subtipo,onChange:ed,options:eA.map(e=>({value:e,label:"all"===e?"Todos":ag(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"CMC"}),(0,t.jsx)(n.p,{type:"number",placeholder:"Ex: 3",value:W.cmc,onChange:e=>ex(e.target.value),className:"quantum-field-sm h-7"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Supertipo"}),(0,t.jsx)(d,{value:W.supertipo,onChange:em,options:eq.map(e=>({value:e,label:"all"===e?"Todos":ag(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Foil"}),(0,t.jsx)(d,{value:W.foil,onChange:eu,options:eS.map(e=>({value:e,label:"all"===e?"Todas":"foil"===e?"Foil":"Normal"}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Texto Oracle"}),(0,t.jsx)(m.T,{placeholder:"Ex: exile target creature",value:W.oracleText,onChange:e=>eh(e.target.value),className:"quantum-field-sm",rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:eE.map(e=>(0,t.jsx)(i.$,{variant:W.manaColors.includes(e)?"default":"outline",onClick:()=>eg(e),className:"w-6 h-6 p-0 text-xs ".concat(W.manaColors.includes(e)?"W"===e?"bg-yellow-200 text-gray-900":"U"===e?"bg-blue-500":"B"===e?"bg-gray-900 text-white border-gray-600":"R"===e?"bg-red-500":"G"===e?"bg-green-500":"bg-gray-400":"border-gray-600 text-gray-300"),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(i.$,{onClick:am,disabled:e$,className:"quantum-btn flex-1 compact primary",size:"sm",children:[e$?(0,t.jsx)(X.A,{className:"w-3 h-3 mr-1 animate-spin"}):(0,t.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Buscar"]}),(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{el({type:"RESET_FILTERS"}),eF([]),eB(null),eG({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1})},className:"quantum-btn",size:"sm",children:(0,t.jsx)(C.A,{className:"w-3 h-3"})})]}),(0,t.jsxs)("div",{className:"flex items-center pt-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrarCartasNaColecao",checked:B,onChange:e=>U(e.target.checked),className:"mr-1 h-3 w-3"}),(0,t.jsx)("label",{htmlFor:"mostrarCartasNaColecao",className:"text-xs text-gray-400",children:"Destacar cartas na cole\xe7\xe3o"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:eO?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(j.A,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:eO}),(0,t.jsxs)(i.$,{onClick:am,variant:"outline",className:"quantum-btn mt-2",children:[(0,t.jsx)(X.A,{className:"w-3 h-3 mr-1"}),"Tentar Novamente"]})]}):e$?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(X.A,{className:"w-8 h-8 mx-auto mb-2 text-blue-500 animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Pesquisando cartas..."})]}):eR.length>0?(0,t.jsx)(R,{cards:eR,collection:(null==v?void 0:v.cards)||[],onAddCard:E,searchResults:{hasMore:eU.hasMore,nextPage:ax,totalCards:eU.totalCards||void 0,currentPage:eU.currentPage,isLoadingMore:eW},onSortChange:ad,currentSort:{mode:eM,direction:eL}}):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(y.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquise por cartas"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:"Use os filtros ao lado para encontrar cartas espec\xedficas"}),(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)(i.$,{onClick:()=>ei("Lightning Bolt"),className:"quantum-btn text-xs h-7",children:"Lightning Bolt"}),(0,t.jsx)(i.$,{onClick:()=>ec("mythic"),className:"quantum-btn text-xs h-7",children:"Cartas M\xedticas"})]})]})})})]}),"colecao"===L&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Minhas Cole\xe7\xf5es"})]}),(0,t.jsxs)(i.$,{onClick:()=>k("Nova Cole\xe7\xe3o"),className:"quantum-btn compact primary",children:[(0,t.jsx)(g.A,{className:"w-3.5 h-3.5 mr-1"}),"Nova Cole\xe7\xe3o"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:b.map(e=>(0,t.jsx)(ew,{collection:e,onSelect:w,onDelete:q,onEdit:e=>T(b.find(a=>a.id===e)||null),onDuplicate:S,onSetBackground:z,isActive:f===e.id},e.id))})]}),(0,t.jsx)(H.lG,{open:e6,onOpenChange:e8,children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 text-purple-400"}),"Salvar Pesquisa"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"search-name",className:"quantum-label",children:"Nome da pesquisa"}),(0,t.jsx)(n.p,{id:"search-name",value:e2,onChange:e=>e5(e.target.value),placeholder:"Ex: Criaturas Vermelhas",className:"quantum-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Filtros atuais"}),(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded p-2 text-xs text-gray-300 max-h-24 overflow-y-auto",children:[W.busca.trim()&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Busca:"})," ",W.busca]}),"all"!==W.raridade&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Raridade:"})," ",W.raridade]}),"all"!==W.tipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Tipo:"})," ",W.tipo]}),"all"!==W.subtipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Subtipo:"})," ",W.subtipo]}),"all"!==W.supertipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Supertipo:"})," ",W.supertipo]}),W.cmc&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"CMC:"})," ",W.cmc]}),"all"!==W.foil&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Foil:"})," ",W.foil]}),W.oracleText.trim()&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Texto Oracle:"})," ",W.oracleText]}),W.manaColors.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Cores:"})," ",W.manaColors.join(", ")]})]})]})]}),(0,t.jsxs)(H.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>e8(!1),children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{if(!e2.trim())return;let e=[];W.busca.trim()&&e.push(W.busca.trim()),"all"!==W.raridade&&e.push("rarity:".concat(W.raridade)),"all"!==W.tipo&&e.push("type:".concat(W.tipo)),"all"!==W.subtipo&&e.push("type:".concat(W.subtipo)),"all"!==W.supertipo&&e.push("is:".concat(W.supertipo)),W.cmc&&e.push("cmc=".concat(W.cmc)),"foil"===W.foil&&e.push("is:foil"),"nonfoil"===W.foil&&e.push("-is:foil"),W.oracleText.trim()&&e.push('oracle:"'.concat(W.oracleText.trim(),'"')),W.manaColors.length>0&&e.push("colors:".concat(W.manaColors.join("")));let a=e.join(" "),s=[...e4,"".concat(e2,": ").concat(a)];e3(s),localStorage.setItem("savedSearches",JSON.stringify(s)),e8(!1),e5(""),ai("success",'Pesquisa "'.concat(e2,'" salva com sucesso!'))},disabled:!e2.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})}),(0,t.jsx)(H.lG,{open:!!D,onOpenChange:e=>!e&&T(null),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(H.c7,{children:(0,t.jsx)(H.L3,{children:"Editar Cole\xe7\xe3o"})}),D&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"collection-name",className:"quantum-label",children:"Nome"}),(0,t.jsx)(n.p,{id:"collection-name",value:D.name,onChange:e=>T({...D,name:e.target.value}),className:"quantum-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"collection-description",className:"quantum-label",children:"Descri\xe7\xe3o"}),(0,t.jsx)(m.T,{id:"collection-description",value:D.description,onChange:e=>T({...D,description:e.target.value}),className:"quantum-field"})]})]}),(0,t.jsxs)(H.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>T(null),children:"Cancelar"}),(0,t.jsx)(i.$,{onClick:()=>{D&&(P(D.id,{name:D.name,description:D.description}),T(null))},children:"Salvar"})]})]})}),(0,t.jsx)(H.lG,{open:!!M,onOpenChange:e=>!e&&z(null),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense overflow-hidden border border-cyan-500/20 bg-gradient-to-b from-gray-900/95 to-black/95 backdrop-blur-lg focus:outline-none fixed-modal card-selector-modal z-[10000]",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-cyan-500/20 pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)(H.L3,{className:"text-lg font-medium text-cyan-400",children:"Escolher Imagem de Fundo"})]}),(0,t.jsx)(i.$,{onClick:()=>z(null),className:"h-7 w-7 p-0 rounded-full bg-gray-800/60 hover:bg-gray-700/60 border-none",children:(0,t.jsx)(g.A,{className:"h-3.5 w-3.5 text-gray-400 rotate-45"})})]})}),(0,t.jsx)("div",{className:"max-h-[60vh] overflow-y-auto p-1 quantum-scrollbar",children:(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:null===(s=b.find(e=>e.id===M))||void 0===s?void 0:s.cards.map(e=>{var a;return(0,t.jsxs)("div",{className:"relative cursor-pointer rounded-md overflow-hidden transition-all hover:scale-[1.03] group ring-1 ring-gray-700 hover:ring-cyan-400",onClick:()=>{var a,s;let t=(null===(a=e.card.image_uris)||void 0===a?void 0:a.art_crop)||(null===(s=e.card.image_uris)||void 0===s?void 0:s.normal);t&&M&&P(M,{backgroundImage:t})},children:[(0,t.jsx)(l.default,{src:(null===(a=e.card.image_uris)||void 0===a?void 0:a.small)||"/placeholder.png",alt:e.card.name,width:146,height:204,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-1",children:(0,t.jsx)("p",{className:"text-xs text-white truncate",children:e.card.name})})]},e.card.id)})})}),(0,t.jsxs)(H.Es,{className:"pt-4 border-t border-cyan-500/20",children:[(0,t.jsx)(i.$,{variant:"outline",className:"quantum-btn compact",onClick:()=>{M&&P(M,{backgroundImage:void 0}),z(null)},children:"Usar Padr\xe3o"}),(0,t.jsx)(i.$,{className:"quantum-btn primary compact",onClick:()=>z(null),children:"Conclu\xeddo"})]})]})}),v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"quantum-title",children:v.name})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{onClick:()=>aa(!0),className:"quantum-btn compact bg-purple-600 hover:bg-purple-700",size:"sm",disabled:!v,children:[(0,t.jsx)(ea.A,{className:"w-3 h-3 mr-1"}),"Completar"]}),(0,t.jsxs)(i.$,{onClick:()=>e9(!0),className:"quantum-btn compact bg-cyan-600 hover:bg-cyan-700",size:"sm",disabled:!v,children:[(0,t.jsx)(es.A,{className:"w-3 h-3 mr-1"}),"Importar"]}),(0,t.jsxs)(i.$,{onClick:()=>p(v),className:"quantum-btn compact",size:"sm",disabled:!v,children:[(0,t.jsx)(et.A,{className:"w-3 h-3 mr-1"}),"Exportar"]})]})]}),(0,t.jsx)("div",{className:"quantum-card-dense p-2 mb-2 filtros-colecao",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,t.jsx)(n.p,{placeholder:"Buscar na cole\xe7\xe3o...",value:eD,onChange:e=>eT(e.target.value),className:"quantum-field-sm h-7"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d,{value:ef,onChange:ey,options:[{value:"all",label:"Todas"},{value:"common",label:"Comum"},{value:"uncommon",label:"Incomum"},{value:"rare",label:"Rara"},{value:"mythic",label:"M\xedtica"}],placeholder:"Raridade",className:"flex-1"}),(0,t.jsx)(d,{value:e_,onChange:eP,options:[{value:"all",label:"Todas"},{value:"W",label:"Branco"},{value:"U",label:"Azul"},{value:"B",label:"Preto"},{value:"R",label:"Vermelho"},{value:"G",label:"Verde"},{value:"colorless",label:"Incolor"}],placeholder:"Cor",className:"flex-1"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>ao("name"),className:"quantum-btn compact flex-1",size:"sm",children:["Nome ","name"===ep&&("asc"===eb?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>ao("rarity"),className:"quantum-btn compact flex-1",size:"sm",children:["Raridade ","rarity"===ep&&("asc"===eb?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>ao("date"),className:"quantum-btn compact flex-1",size:"sm",children:["Data ","date"===ep&&("asc"===eb?"↑":"↓")]}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>ao("cmc"),className:"quantum-btn compact flex-1",size:"sm",children:["CMC ","cmc"===ep&&("asc"===eb?"↑":"↓")]})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:0===ac.length?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(Z.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Cole\xe7\xe3o vazia"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:'Adicione cartas \xe0 sua cole\xe7\xe3o pesquisando na aba "Pesquisar"'}),(0,t.jsxs)(i.$,{onClick:()=>I("pesquisa"),className:"quantum-btn primary",children:[(0,t.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Pesquisar Cartas"]})]}):(0,t.jsx)(J,{collectionCards:ac,onAddCard:E,onRemoveCard:_})})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Nenhuma cole\xe7\xe3o selecionada. Crie uma para come\xe7ar."})})]}),"estatisticas"===L&&(0,t.jsx)("div",{className:"space-y-2",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"quantum-grid-3",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(Z.A,{className:"w-5 h-5 mx-auto mb-1 text-blue-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:v.cards.length}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cartas \xfanicas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(er.A,{className:"w-5 h-5 mx-auto mb-1 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:v.cards.reduce((e,a)=>e+a.quantity,0)}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Total de cartas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 mx-auto mb-1 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:new Set(v.cards.map(e=>e.card.set_code)).size}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cole\xe7\xf5es diferentes"})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Distribui\xe7\xe3o por Raridade"}),(0,t.jsx)("div",{className:"space-y-2",children:["common","uncommon","rare","mythic"].map(e=>{let a=v.cards.filter(a=>a.card.rarity===e).length,s=v.cards.length>0?(a/v.cards.length*100).toFixed(1):"0";return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs font-medium ".concat(ap(e)),children:ag(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-700 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full ".concat("common"===e?"bg-gray-400":"uncommon"===e?"bg-green-400":"rare"===e?"bg-yellow-400":"bg-orange-400"),style:{width:"".concat(s,"%")}})}),(0,t.jsx)("span",{className:"text-gray-300 text-xs w-6 text-right",children:a}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-10 text-right",children:["(",s,"%)"]})]})]},e)})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Top 5 Cole\xe7\xf5es por Cartas"}),(0,t.jsx)("div",{className:"space-y-1",children:Object.entries(v.cards.reduce((e,a)=>{let s=a.card.set_name;return e[s]=(e[s]||0)+1,e},{})).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map((e,a)=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center py-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-4",children:[a+1,"."]}),(0,t.jsx)("span",{className:"text-white text-xs",children:s})]}),(0,t.jsx)("span",{className:"quantum-microtag",children:r})]},s)})})]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Selecione uma cole\xe7\xe3o para ver as estat\xedsticas."})})})]})}var eP=s(5863);let eD=r.forwardRef((e,a)=>{let{className:s,value:r,...l}=e;return(0,t.jsx)(eP.bL,{ref:a,className:(0,eh.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,t.jsx)(eP.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});eD.displayName=eP.bL.displayName;var eT=s(6785),eM=s(8186),ez=s(9037),eL=s(2713),eI=s(7580),eR=s(3109),eF=s(9074),e$=s(1976),eV=s(9397),eO=s(9881),eB=s(3311),eU=s(5868),eG=s(1539),eW=s(4355);function eJ(e){let{onNavigate:a}=e,{currentCollection:s,decks:l}=(0,u.U)(),n=e=>{"add-card"===e?a("colecao"):alert('A funcionalidade "'.concat(e,'" est\xe1 em desenvolvimento.'))},i=(0,r.useMemo)(()=>{if(!s||!s.cards)return{totalCards:0,uniqueCards:0,totalDecks:(null==l?void 0:l.length)||0,collectionValue:0,weeklyGoal:65,weeklyProgress:0,monthlyGrowth:0,avgCardValue:0};let e=s.cards.reduce((e,a)=>e+a.quantity,0),a=s.cards.length,t=s.cards.reduce((e,a)=>{var s;return e+parseFloat((null===(s=a.card.prices)||void 0===s?void 0:s.usd)||"0")*a.quantity},0);return{totalCards:e,uniqueCards:a,totalDecks:(null==l?void 0:l.length)||0,collectionValue:t,weeklyGoal:65,weeklyProgress:42,monthlyGrowth:12.5,avgCardValue:e>0?t/e:0}},[s,l]),[o]=(0,r.useState)([{name:"Colecionador Iniciante",description:"Possua 100 cartas \xfanicas",progress:100,icon:N.A,rarity:"common",unlockedAt:"2024-01-15"},{name:"Construtor de Decks",description:"Crie 5 decks diferentes",progress:80,icon:eT.A,rarity:"uncommon",unlockedAt:null},{name:"Explorador de Cores",description:"Tenha cartas de todas as 5 cores",progress:100,icon:eM.A,rarity:"rare",unlockedAt:"2024-02-03"},{name:"Veterano MTG",description:"Possua cartas de 10 expans\xf5es diferentes",progress:75,icon:ez.A,rarity:"mythic",unlockedAt:null}]),[d]=(0,r.useState)([{name:"Lightning Bolt",set:"2XM",rarity:"common",addedAt:"2h",value:.25,quantity:4},{name:"Counterspell",set:"TSR",rarity:"common",addedAt:"5h",value:.5,quantity:2},{name:"Serra Angel",set:"M21",rarity:"uncommon",addedAt:"1d",value:1.2,quantity:1},{name:"Black Lotus",set:"LEA",rarity:"rare",addedAt:"2d",value:8500,quantity:1}]),[m]=(0,r.useState)([{color:"Azul",percentage:28,count:249,bgColor:"from-blue-500 to-blue-600"},{color:"Preto",percentage:24,count:214,bgColor:"from-gray-700 to-gray-900"},{color:"Vermelho",percentage:20,count:178,bgColor:"from-red-500 to-red-600"},{color:"Verde",percentage:16,count:143,bgColor:"from-green-500 to-green-600"},{color:"Branco",percentage:12,count:107,bgColor:"from-gray-200 to-gray-400"}]),[x]=(0,r.useState)([{label:"Add Carta",icon:g.A,action:"add-card",color:"blue"},{label:"Relat\xf3rios",icon:eL.A,action:"reports",color:"purple"},{label:"Comunidade",icon:eI.A,action:"community",color:"green"},{label:"An\xe1lises",icon:eR.A,action:"analytics",color:"yellow"},{label:"Eventos",icon:eF.A,action:"events",color:"red"},{label:"Favoritos",icon:e$.A,action:"favorites",color:"pink"}]);return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eV.A,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400 ml-auto",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),(0,t.jsx)("span",{children:"Sincronizado"}),(0,t.jsx)(eo.A,{className:"w-3 h-3 ml-2"}),(0,t.jsx)("span",{children:"2min"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(eL.A,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsx)(eO.A,{className:"w-3 h-3 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.totalCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-green-400",children:["+",i.monthlyGrowth,"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(eB.A,{className:"w-3.5 h-3.5 text-purple-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Cartas \xdanicas"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.uniqueCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[(i.uniqueCards/i.totalCards*100).toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Decks Ativos"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.totalDecks}),(0,t.jsx)("span",{className:"text-xs text-green-400",children:"2 comp."})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(eU.A,{className:"w-3.5 h-3.5 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Valor Estimado"})]}),(0,t.jsx)(eR.A,{className:"w-3 h-3 text-yellow-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-white",children:["R$ ",i.collectionValue.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),(0,t.jsxs)("span",{className:"text-xs text-yellow-400",children:["~R$",i.avgCardValue.toFixed(2),"/un"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eG.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Meta Semanal"})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,t.jsx)(eo.A,{className:"w-3 h-3"}),"4d restantes"]})]})}),(0,t.jsxs)("div",{className:"p-3 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Progresso"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[i.weeklyProgress,"/",i.weeklyGoal," cartas"]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(eD,{value:i.weeklyProgress/i.weeklyGoal*100,className:"h-1.5 bg-gray-800"}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-500",children:[(0,t.jsx)("span",{children:"0"}),(0,t.jsxs)("span",{className:"font-medium text-blue-400",children:[Math.round(i.weeklyProgress/i.weeklyGoal*100),"%"]}),(0,t.jsx)("span",{children:i.weeklyGoal})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-900/20 p-2 rounded-md border border-blue-900/30",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] text-blue-400",children:"Faltam apenas"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-white",children:[i.weeklyGoal-i.weeklyProgress," cartas"]})]}),(0,t.jsx)(eM.A,{className:"w-6 h-6 text-yellow-400"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ez.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Conquistas"})]}),(0,t.jsxs)("span",{className:"text-xs bg-green-900/30 text-green-400 px-1.5 py-0.5 rounded text-[10px]",children:[o.filter(e=>100===e.progress).length," desbloqueadas"]})]})}),(0,t.jsx)("div",{className:"p-2",children:o.slice(0,3).map((e,a)=>{let s=e.icon,r=100===e.progress;return(0,t.jsx)("div",{className:"p-2 hover:bg-gray-800/50 rounded-sm transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md flex items-center justify-center \n                      ".concat(r?"bg-yellow-500/20 text-yellow-400":"bg-gray-700/30 text-gray-500"),children:(0,t.jsx)(s,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-xs font-medium truncate\n                          ".concat(r?"text-white":"text-gray-400"),children:e.name}),(0,t.jsx)(c.E,{className:"h-4 text-[8px] px-1 ml-1 \n                          ".concat("mythic"===e.rarity?"bg-red-900/30 text-red-400 hover:bg-red-900/40":"rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"),children:e.rarity})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:"flex-1 bg-gray-800/70 rounded-full h-1",children:(0,t.jsx)("div",{className:"h-1 rounded-full transition-all \n                              ".concat(r?"bg-yellow-500/80":"bg-blue-500/70"),style:{width:"".concat(e.progress,"%")}})}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-medium",children:[e.progress,"%"]})]})]})]})},a)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eo.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Adi\xe7\xf5es Recentes"})]}),(0,t.jsxs)("button",{className:"text-xs text-gray-400 hover:text-cyan-400 flex items-center gap-1 transition-colors",children:[(0,t.jsx)(f.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver todas"})]})]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-800/50",children:d.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 hover:bg-gray-800/30 transition-colors flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center text-blue-400 font-semibold text-xs flex-shrink-0",children:e.name.charAt(0)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white truncate",children:e.name}),(0,t.jsx)(c.E,{className:"h-4 text-[8px] px-1 bg-gray-700 text-gray-300 hover:bg-gray-600",children:e.set})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px]",children:[(0,t.jsx)(c.E,{className:"h-3.5 text-[8px] px-1\n                        ".concat("rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"),children:e.rarity}),(0,t.jsxs)("span",{className:"text-gray-500",children:[e.quantity,"x"]}),(0,t.jsxs)("span",{className:"text-green-400",children:["R$ ",e.value.toFixed(2)]})]})]})]}),(0,t.jsx)("div",{className:"text-right flex-shrink-0",children:(0,t.jsx)("p",{className:"text-[10px] text-gray-500",children:e.addedAt})})]},a))})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eW.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Distribui\xe7\xe3o"})]})}),(0,t.jsx)("div",{className:"p-3 space-y-2",children:m.map((e,a)=>(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r ".concat(e.bgColor)}),(0,t.jsx)("span",{className:"text-gray-300",children:e.color})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("span",{className:"font-medium text-white",children:[e.percentage,"%"]})})]}),(0,t.jsx)("div",{className:"w-full bg-gray-800/70 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-gradient-to-r ".concat(e.bgColor," transition-all duration-300"),style:{width:"".concat(e.percentage,"%")}})}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500 text-right mt-0.5",children:[e.count," cartas"]})]},a))})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eG.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"A\xe7\xf5es R\xe1pidas"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:x.map((e,a)=>{let s=e.icon;return(0,t.jsxs)("button",{className:"p-2 rounded-md transition-all flex flex-col items-center ".concat({blue:"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",purple:"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30",green:"bg-green-500/20 text-green-400 hover:bg-green-500/30",yellow:"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30",red:"bg-red-500/20 text-red-400 hover:bg-red-500/30",pink:"bg-pink-500/20 text-pink-400 hover:bg-pink-500/30"}[e.color]),onClick:()=>n(e.action),children:[(0,t.jsx)(s,{className:"w-4 h-4 mb-1"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.action)})})})]})]})}var eH=s(5784);function eZ(e){let{cards:a,onCardClick:s,onAddCard:n}=e,[c,o]=(0,r.useState)("grid");return((0,r.useState)(()=>{let e=localStorage.getItem("cardView");("grid"===e||"list"===e)&&o(e)}),"grid"===c)?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:a.map(e=>{var a;return(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] group",onClick:()=>null==s?void 0:s(e),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.default,{src:(null===(a=e.image_uris)||void 0===a?void 0:a.normal)||"/placeholder-card.jpg",alt:e.name,width:265,height:370,className:"w-full h-auto"}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:e.rarity})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2 transition-opacity",children:(0,t.jsxs)(i.$,{size:"sm",onClick:a=>{a.stopPropagation(),n(e)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-1"}),"Adicionar"]})})]})},e.id)})}):(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>{var a,r;return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>null==s?void 0:s(e),children:[(0,t.jsx)("div",{className:"w-10 h-14 relative flex-shrink-0",children:(0,t.jsx)(l.default,{src:(null===(a=e.image_uris)||void 0===a?void 0:a.small)||(null===(r=e.image_uris)||void 0===r?void 0:r.normal)||"/placeholder-card.jpg",alt:e.name,fill:!0,className:"object-cover rounded"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:[e.set_name," (",e.set_code.toUpperCase(),")"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.type_line})]}),(0,t.jsxs)(i.$,{size:"sm",variant:"ghost",onClick:a=>{a.stopPropagation(),n(e)},className:"flex-shrink-0",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]},e.id)})})}let eQ=e=>{let{onImportSuccess:a,onImportError:s,className:l=""}=e,{importarDeckDeLista:o}=(0,u.U)(),[d,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[b,v]=(0,r.useState)({type:null,message:""}),[N,f]=(0,r.useState)({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),[y,w]=(0,r.useState)(""),C=async()=>{if(!N.name.trim()||!y.trim()){v({type:"error",message:"Nome do deck e lista de cartas s\xe3o obrigat\xf3rios"});return}p(!0),v({type:null,message:""});try{await o(y,N),v({type:"success",message:'Deck "'.concat(N.name,'" importado com sucesso!')}),f({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),w(""),a&&a(""),setTimeout(()=>{x(!1),v({type:null,message:""})},2e3)}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido ao importar deck";v({type:"error",message:e}),s&&s(e)}finally{p(!1)}},k=(()=>{if(!y.trim())return{mainboard:0,sideboard:0,commander:0};let e=y.split("\n").filter(e=>e.trim()),a="mainboard",s={mainboard:0,sideboard:0,commander:0};return e.forEach(e=>{let t=e.trim().toLowerCase();if(t.includes("sideboard")){a="sideboard";return}if(t.includes("commander")){a="commander";return}let r=e.match(/^(\d+)x?\s+(.+)$/);if(r){let e=parseInt(r[1]);s[a]+=e}}),s})();return(0,t.jsxs)(H.lG,{open:d,onOpenChange:x,children:[(0,t.jsx)(H.zM,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700 ".concat(l),children:[(0,t.jsx)(es.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsxs)(H.Cf,{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5"}),"Importar Lista de Deck"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)($.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)($.aR,{className:"pb-3",children:(0,t.jsx)($.ZB,{className:"text-white text-sm",children:"Informa\xe7\xf5es do Deck"})}),(0,t.jsxs)($.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome do Deck *"}),(0,t.jsx)(n.p,{value:N.name,onChange:e=>f(a=>({...a,name:e.target.value})),placeholder:"Ex: Burn Vermelho",className:"bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Formato"}),(0,t.jsxs)(eH.l6,{value:N.format,onValueChange:e=>f(a=>({...a,format:e})),children:[(0,t.jsx)(eH.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsx)(eH.gC,{children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(eH.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,t.jsx)(m.T,{value:N.description,onChange:e=>f(a=>({...a,description:e.target.value})),placeholder:"Descri\xe7\xe3o do deck...",rows:3,className:"bg-gray-700/50 border-gray-600 text-white"})]})]})]}),y.trim()&&(0,t.jsxs)($.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)($.aR,{className:"pb-3",children:(0,t.jsx)($.ZB,{className:"text-white text-sm",children:"Preview"})}),(0,t.jsx)($.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[k.mainboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Deck Principal:"}),(0,t.jsxs)(c.E,{variant:"outline",children:[k.mainboard," cartas"]})]}),k.sideboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Sideboard:"}),(0,t.jsxs)(c.E,{variant:"outline",children:[k.sideboard," cartas"]})]}),k.commander>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Commander:"}),(0,t.jsxs)(c.E,{variant:"outline",children:[k.commander," cartas"]})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,t.jsx)("span",{className:"text-white",children:"Total:"}),(0,t.jsxs)(c.E,{children:[k.mainboard+k.sideboard+k.commander," cartas"]})]})})]})})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)($.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)($.aR,{className:"pb-3",children:(0,t.jsx)($.ZB,{className:"text-white text-sm",children:"Lista de Cartas *"})}),(0,t.jsxs)($.Wu,{className:"space-y-3",children:[(0,t.jsx)(m.T,{value:y,onChange:e=>w(e.target.value),placeholder:"Cole sua lista de deck aqui...\n\nExemplo:\n".concat("4 Lightning Bolt\n4 Monastery Swiftspear\n4 Lava Spike\n3 Rift Bolt\n4 Mountain\n3 Ramunap Ruins\n\nSideboard:\n2 Smash to Smithereens\n3 Kor Firewalker\n2 Deflecting Palm"),rows:12,className:"bg-gray-700/50 border-gray-600 text-white font-mono text-sm"}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,t.jsx)("p",{className:"mb-1",children:"Formato aceito:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:'Quantidade seguida do nome: "4 Lightning Bolt"'}),(0,t.jsx)("li",{children:"Com 'x': \"4x Lightning Bolt\""}),(0,t.jsx)("li",{children:'Se\xe7\xf5es: "Sideboard:" ou "Commander:"'}),(0,t.jsx)("li",{children:"Uma carta por linha"})]})]})]})]})})]}),b.type&&(0,t.jsxs)("div",{className:"p-3 rounded-lg border flex items-center gap-2 ".concat("success"===b.type?"bg-green-900/20 border-green-600 text-green-300":"bg-red-900/20 border-red-600 text-red-300"),children:["success"===b.type?(0,t.jsx)(ed.A,{className:"w-4 h-4"}):(0,t.jsx)(j.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:b.message})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-600",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>x(!1),disabled:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"}),(0,t.jsx)(i.$,{onClick:C,disabled:!N.name.trim()||!y.trim()||g,className:"bg-blue-600 hover:bg-blue-700",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(er.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsx)(i.$,{onClick:C,disabled:!N.name.trim()||!y.trim()||g,className:"bg-blue-600 hover:bg-blue-700",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(er.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})})]})]})]})};var eY=s(4416);let eK=e=>{let{searchTerm:a,raridade:s,tipo:n,onAddCard:i,currentDeck:c,currentCollection:o}=e,[d,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(new Set),h=async(e,a,s)=>{try{m(e.id),await i(e,a,s),u(a=>new Set(a.add(e.id))),setTimeout(()=>{u(a=>{let s=new Set(a);return s.delete(e.id),s})},2e3)}catch(e){console.error("Erro ao adicionar carta:",e)}finally{m(null)}},p=(0,r.useMemo)(()=>{let e=o.cards;return a.trim()&&(e=e.filter(e=>(0,F.S)(e.card,a))),"all"!==s&&(e=e.filter(e=>e.card.rarity===s)),"all"!==n&&(e=e.filter(e=>e.card.type_line.toLowerCase().includes(n))),e},[o.cards,a,s,n]);return 0===p.length?(0,t.jsxs)("div",{className:"mtg-card text-center py-12",children:[(0,t.jsx)(Z.A,{className:"w-16 h-16 mx-auto mb-4 text-slate-500"}),(0,t.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Nenhuma carta encontrada"}),(0,t.jsx)("p",{className:"text-slate-400",children:a.trim()||"all"!==s||"all"!==n?"Tente ajustar os filtros":"Sua cole\xe7\xe3o est\xe1 vazia"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:p.map(e=>{let a=e.card,s=c.cards.find(e=>e.card.id===a.id),r=x.has(a.id);return(0,t.jsx)("div",{className:"mtg-card-mini transition-all duration-200 ".concat(r?"border-green-500/70 shadow-lg shadow-green-500/20 scale-105":""),children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:eX(a)&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.default,{src:eX(a),alt:a.name,width:60,height:84,className:"rounded-lg border border-slate-600"}),r&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"w-3 h-3 text-white"})})]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-sm truncate mb-1",title:a.name,children:a.name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-1 truncate",title:a.set_name,children:a.set_name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-3 line-clamp-2",title:a.type_line,children:a.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-secondary text-xs",children:[e.quantity,"x cole\xe7\xe3o"]}),s&&(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-success text-xs",children:[s.quantity,"x deck"]})]}),(0,t.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>h(a,"mainboard",1),disabled:d===a.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(x.has(a.id)?"bg-green-500 hover:bg-green-600 text-white shadow-md scale-105":"bg-green-600 hover:bg-green-700 text-white"),children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(g.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Principal"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Main"})]}),(0,t.jsxs)("button",{onClick:()=>h(a,"sideboard",1),disabled:d===a.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(x.has(a.id)?"border-green-500 text-green-400 bg-green-900/20 shadow-md scale-105":"border-slate-600 text-slate-300 hover:bg-slate-700"," border"),children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(g.A,{className:"w-3 h-3"}),"Side"]}),"Commander"===c.format&&(0,t.jsxs)("button",{onClick:()=>h(a,"commander",1),disabled:d===a.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(x.has(a.id)?"border-yellow-400 text-yellow-300 bg-yellow-900/30 shadow-md scale-105":"border-yellow-600 text-yellow-400 hover:bg-yellow-900/20"," border"),children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(g.A,{className:"w-3 h-3"}),"Cmd"]})]})]})]})})},a.id)})})},eX=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,k.VG)(e,a)},e0=e=>{let{deckId:a,onSave:s,onCancel:c}=e,{decks:o,criarDeck:d,editarDeck:b,adicionarCartaAoDeck:v,removerCartaDoDeck:N,atualizarQuantidadeNoDeck:C,currentCollection:k}=(0,u.U)(),{openModal:q}=(0,x.h)(),E=a?o.find(e=>e.id===a):null,[_,P]=(0,r.useState)({name:(null==E?void 0:E.name)||"",format:(null==E?void 0:E.format)||"Standard",description:(null==E?void 0:E.description)||"",colors:(null==E?void 0:E.colors)||[],tags:(null==E?void 0:E.tags)||[],isPublic:(null==E?void 0:E.isPublic)||!1}),[D,T]=(0,r.useState)(""),[M,z]=(0,r.useState)("all"),[L,I]=(0,r.useState)("all"),[R,F]=(0,r.useState)(""),[$,B]=(0,r.useState)([]),[U,G]=(0,r.useState)([]),[W,J]=(0,r.useState)(!1),[H,Y]=(0,r.useState)(null),[ee,ea]=(0,r.useState)("search"),[es,et]=(0,r.useState)("all"),[el,en]=(0,r.useState)("list"),ei=E||{id:"temp",cards:[],..._,createdAt:"",lastModified:""},ec=(0,r.useMemo)(()=>"all"===es?ei.cards:ei.cards.filter(e=>e.category===es),[ei.cards,es]),eo=(0,r.useMemo)(()=>{let e=ei.cards.filter(e=>"mainboard"===e.category),a=ei.cards.filter(e=>"sideboard"===e.category),s=ei.cards.filter(e=>"commander"===e.category),t=e.reduce((e,a)=>e+a.quantity,0),r=a.reduce((e,a)=>e+a.quantity,0),l=s.reduce((e,a)=>e+a.quantity,0);return{mainboard:t,sideboard:r,commander:l,total:t+r+l,unique:ei.cards.length}},[ei.cards]),ed=(0,r.useCallback)(async()=>{if(!D.trim()&&"all"===M&&"all"===L&&!R&&0===$.length){Y("Por favor, defina pelo menos um filtro para pesquisar");return}J(!0),Y(null);try{let e=[];if(D.trim()&&e.push(encodeURIComponent(D.trim())),"all"!==M&&e.push("rarity:".concat(M)),"all"!==L&&e.push("type:".concat(L)),R&&e.push("cmc:".concat(R)),$.length>0){let a=$.map(e=>"c:".concat(e)).join("");e.push(a)}let a=e.join("+"),s=await (0,A.z)(a),t=await s.json();s.ok&&t.data?(G(t.data),Y(null)):(G([]),Y(t.details||"Nenhuma carta encontrada"))}catch(e){console.error("Erro na pesquisa:",e),G([]),Y("Erro ao pesquisar cartas. Verifique sua conex\xe3o.")}finally{J(!1)}},[D,M,L,R,$]),em=(0,r.useCallback)(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mainboard",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;E?v(E.id,e,a,s):console.log("Adicionando carta ao deck tempor\xe1rio:",e.name)},[E,v]),ex=(0,r.useCallback)((e,a)=>{E&&N(E.id,e,a)},[E,N]),eu=(0,r.useCallback)((e,a,s)=>{E&&C(E.id,e,s,a)},[E,C]),eh=(0,r.useCallback)(()=>{if(!_.name.trim()){alert("Por favor, digite um nome para o deck");return}if(E)b(E.id,_),s&&s(E.id);else{let e=d({name:_.name,format:_.format,description:_.description,colors:_.colors,cards:[],isPublic:_.isPublic,tags:_.tags});s&&s(e)}},[_,E,b,d,s]),eg=(0,r.useCallback)(()=>{T(""),z("all"),I("all"),F(""),B([]),G([]),Y(null)},[]);return(0,t.jsxs)("div",{className:"mtg-section",children:[(0,t.jsxs)("div",{className:"mtg-card text-center mb-8",children:[(0,t.jsx)("div",{className:"mtg-card-header justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-6 mx-auto shadow-xl",children:(0,t.jsx)(eT.A,{className:"w-10 h-10 text-white"})})}),(0,t.jsx)("h1",{className:"mtg-section-title",children:E?"Editando: ".concat(E.name):"Deck Builder Pro"}),(0,t.jsx)("p",{className:"mtg-section-subtitle",children:E?"Fa\xe7a altera\xe7\xf5es no seu deck com ferramentas avan\xe7adas":"Crie e personalize seu deck com ferramentas profissionais"}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-4 mt-6",children:(0,t.jsxs)("div",{className:"mtg-status mtg-status-info",children:[(0,t.jsx)(er.A,{className:"w-3 h-3"}),eo.total," cartas no deck"]})})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(O.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"A\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie e configure seu deck"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eQ,{onImportSuccess:()=>{},onImportError:e=>console.error(e)}),(0,t.jsxs)(i.$,{onClick:eh,disabled:!_.name.trim(),className:"quantum-btn compact primary",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:E?"Salvar Altera\xe7\xf5es":"Salvar Deck"})]}),c&&(0,t.jsx)(i.$,{onClick:c,className:"quantum-btn compact",children:"Cancelar"})]})]})}),(0,t.jsxs)("div",{className:"mtg-card mb-8",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(w.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Configura\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Defina as informa\xe7\xf5es b\xe1sicas do seu deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-grid-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome do Deck *"}),(0,t.jsx)(n.p,{value:_.name,onChange:e=>P(a=>({...a,name:e.target.value})),placeholder:"Digite o nome do deck...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Formato"}),(0,t.jsxs)(eH.l6,{value:_.format,onValueChange:e=>P(a=>({...a,format:e})),children:[(0,t.jsx)(eH.bq,{className:"mtg-select",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsx)(eH.gC,{className:"mtg-dropdown",children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(eH.eb,{value:e,className:"mtg-dropdown-item",children:e},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Descri\xe7\xe3o"}),(0,t.jsx)(m.T,{value:_.description,onChange:e=>P(a=>({...a,description:e.target.value})),placeholder:"Descreva a estrat\xe9gia do seu deck...",className:"mtg-textarea",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores do Deck"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(e=>{let{color:a,name:s,bg:r}=e;return(0,t.jsx)("button",{onClick:()=>{P(e=>({...e,colors:e.colors.includes(a)?e.colors.filter(e=>e!==a):[...e.colors,a]}))},className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold transition-all ".concat(_.colors.includes(a)?"bg-gradient-to-br ".concat(r," scale-110 ring-2 ring-white/30"):"bg-slate-700 hover:bg-slate-600"),title:s,children:a},a)})})]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/20 rounded-xl border border-blue-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:eo.total}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-500/10 to-green-600/20 rounded-xl border border-green-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:eo.mainboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Deck Principal"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/20 rounded-xl border border-purple-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:eo.sideboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Sideboard"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-yellow-500/10 to-yellow-600/20 rounded-xl border border-yellow-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:eo.commander}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Commander"})]})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-2",children:(0,t.jsxs)("div",{className:"mtg-tabs",children:[(0,t.jsxs)("button",{onClick:()=>ea("search"),className:"mtg-tab ".concat("search"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Buscar Cartas"})]}),(0,t.jsxs)("button",{onClick:()=>ea("collection"),className:"mtg-tab ".concat("collection"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(Z.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Da Cole\xe7\xe3o"})]}),(0,t.jsxs)("button",{onClick:()=>ea("deck"),className:"mtg-tab ".concat("deck"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(eT.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Deck Atual (",eo.total,")"]})]})]})})}),"search"===ee&&(0,t.jsxs)("div",{className:"mtg-grid-wide gap-8",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(K.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Filtros de Busca"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Configure os par\xe2metros para encontrar as cartas perfeitas"})]}),(0,t.jsx)(i.$,{onClick:eg,variant:"outline",className:"quantum-btn compact",title:"Limpar filtros",children:(0,t.jsx)(X.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome da carta"}),(0,t.jsx)(n.p,{value:D,onChange:e=>T(e.target.value),onKeyDown:e=>"Enter"===e.key&&ed(),placeholder:"Digite o nome da carta...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(eH.l6,{value:M,onValueChange:z,children:[(0,t.jsx)(eH.bq,{className:"mtg-select",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsxs)(eH.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(eH.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(eH.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(eH.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(eH.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(eH.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(eH.l6,{value:L,onValueChange:I,children:[(0,t.jsx)(eH.bq,{className:"mtg-select",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsxs)(eH.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(eH.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(eH.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(eH.eb,{value:"instant",className:"mtg-dropdown-item",children:"Instant\xe2neo"}),(0,t.jsx)(eH.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(eH.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(eH.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(eH.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(eH.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"CMC (Custo Convertido de Mana)"}),(0,t.jsx)(n.p,{value:R,onChange:e=>F(e.target.value),placeholder:"Ex: 3, <=2, >=4",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(e=>{let{color:a,name:s,bg:r}=e;return(0,t.jsx)("button",{onClick:()=>{B(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])},className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold transition-all ".concat($.includes(a)?"bg-gradient-to-br ".concat(r," scale-110 ring-2 ring-white/30"):"bg-slate-700 hover:bg-slate-600"),title:s,children:a},a)})})]}),(0,t.jsxs)(i.$,{className:"quantum-btn w-full primary",onClick:ed,disabled:W,children:[(0,t.jsx)(y.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:W?"Buscando...":"Buscar Cartas"}),W&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin ml-2"})]})]})]}),(0,t.jsxs)("div",{className:"mtg-card flex-1",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(f.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsxs)("h3",{className:"mtg-card-title",children:["Resultados da Busca ",U.length>0&&"(".concat(U.length,")")]}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Clique nas cartas para adicion\xe1-las ao seu deck"})]})]}),(0,t.jsx)("div",{className:"px-6 pb-6",children:(0,t.jsxs)("div",{className:"min-h-[400px]",children:[W&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(h.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50 animate-spin"}),(0,t.jsx)("p",{children:"Pesquisando cartas..."})]}),!W&&H&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(j.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50 text-red-400"}),(0,t.jsx)("p",{className:"text-red-400",children:H}),(0,t.jsx)(i.$,{onClick:ed,className:"quantum-btn compact mt-4",children:"Tentar novamente"})]}),!W&&!H&&0===U.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(y.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Use os filtros ao lado para pesquisar cartas"})]}),!W&&!H&&U.length>0&&(0,t.jsx)(eZ,{cards:U,collection:[],onAddCard:(e,a)=>em(e,"mainboard",a),className:"mb-6"})]})})]})]}),"collection"===ee&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(Z.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Sua Cole\xe7\xe3o Pessoal"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Selecione cartas da sua cole\xe7\xe3o para adicionar ao deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[k&&(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:k.cards.length})," cartas \xfanicas"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:k.cards.reduce((e,a)=>e+a.quantity,0)})," cartas totais"]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Buscar na cole\xe7\xe3o"}),(0,t.jsx)(n.p,{placeholder:"Nome da carta...",value:D,onChange:e=>T(e.target.value),className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(eH.l6,{value:M,onValueChange:z,children:[(0,t.jsx)(eH.bq,{className:"mtg-select",children:(0,t.jsx)(eH.yv,{placeholder:"Raridade"})}),(0,t.jsxs)(eH.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(eH.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(eH.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(eH.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(eH.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(eH.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(eH.l6,{value:L,onValueChange:I,children:[(0,t.jsx)(eH.bq,{className:"mtg-select",children:(0,t.jsx)(eH.yv,{placeholder:"Tipo"})}),(0,t.jsxs)(eH.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(eH.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(eH.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(eH.eb,{value:"instant",className:"mtg-dropdown-item",children:"M\xe1gica Instant\xe2nea"}),(0,t.jsx)(eH.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(eH.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(eH.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(eH.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(eH.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]})]})]})]}),(0,t.jsx)(eK,{searchTerm:D,raridade:M,tipo:L,onAddCard:em,currentDeck:ei,currentCollection:k})]}),"deck"===ee&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(er.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Visualiza\xe7\xe3o do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie as cartas do seu deck atual"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label text-xs",children:"Categoria"}),(0,t.jsxs)(eH.l6,{value:es,onValueChange:e=>et(e),children:[(0,t.jsx)(eH.bq,{className:"w-48 mtg-select",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsxs)(eH.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(eH.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas as cartas"}),(0,t.jsx)(eH.eb,{value:"mainboard",className:"mtg-dropdown-item",children:"Deck Principal"}),(0,t.jsx)(eH.eb,{value:"sideboard",className:"mtg-dropdown-item",children:"Sideboard"}),(0,t.jsx)(eH.eb,{value:"commander",className:"mtg-dropdown-item",children:"Commander"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>en("list"),className:"h-8 w-8 p-0 rounded transition-colors ".concat("list"===el?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"),title:"Vista em lista",children:(0,t.jsx)(S.A,{className:"h-4 w-4 mx-auto"})}),(0,t.jsx)("button",{onClick:()=>en("grid"),className:"h-8 w-8 p-0 rounded transition-colors ".concat("grid"===el?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"),title:"Vista em grade",children:(0,t.jsx)(V.A,{className:"h-4 w-4 mx-auto"})})]})]})]})}),(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-6",children:0===ec.length?(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(er.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhuma carta nesta categoria"}),(0,t.jsx)("p",{className:"text-sm",children:'Use as abas "Buscar Cartas" ou "Da Cole\xe7\xe3o" para adicionar cartas ao deck'})]}):(0,t.jsx)("div",{className:"grid"===el?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4":"space-y-3",children:ec.map(e=>{let a=eX(e.card,"small");return"grid"===el?(0,t.jsx)("div",{className:"mtg-card-mini",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"aspect-[63/88] bg-slate-900 rounded-lg overflow-hidden mb-2",children:a?(0,t.jsx)(l.default,{src:a,alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>q(e.card),sizes:"150px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs text-center p-2",children:e.card.name})}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg",children:e.quantity}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("p",{className:"text-white font-medium truncate mb-1",title:e.card.name,children:e.card.name}),(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat("mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"),children:"mainboard"===e.category?"Main":"sideboard"===e.category?"Side":"Cmd"})]})]})},"".concat(e.card.id,"-").concat(e.category)):(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-800/30 rounded-xl hover:bg-slate-800/50 transition-colors group border border-slate-700/30",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-slate-900 rounded-lg overflow-hidden flex-shrink-0",children:a?(0,t.jsx)(l.default,{src:a,alt:e.card.name,width:48,height:64,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>q(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-slate-500 text-center",children:e.card.set_code})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-white font-medium truncate",children:e.card.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm truncate",children:e.card.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat("mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"),children:e.category}),(0,t.jsx)("span",{className:"text-slate-500 text-xs",children:e.card.set_name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-700 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>eu(e.card.id,e.category,e.quantity-1),className:"h-8 w-8 p-0 hover:bg-red-600 text-red-400 hover:text-white rounded-l-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-white text-sm w-8 text-center bg-slate-800 py-1",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>eu(e.card.id,e.category,e.quantity+1),className:"h-8 w-8 p-0 hover:bg-green-600 text-green-400 hover:text-white rounded-r-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-3 w-3"})})]}),(0,t.jsx)("button",{onClick:()=>ex(e.card.id,e.category),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-600/20 rounded-lg transition-colors flex items-center justify-center",title:"Remover carta",children:(0,t.jsx)(eY.A,{className:"h-3 w-3"})})]})]},"".concat(e.card.id,"-").concat(e.category))})})})})]})]})};s(2617),s(8501);var e1=s(7550);let e4=e=>{let{cards:a,onUpdateQuantity:s,onRemoveCard:r,onCardClick:n}=e;return 0===a.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(er.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta encontrada"})]}):(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center p-2 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors group",children:[(0,t.jsx)("div",{className:"w-8 h-11 bg-gray-900 rounded overflow-hidden flex-shrink-0 mr-3",children:(0,k.VG)(e.card,"small")?(0,t.jsx)(l.default,{src:(0,k.VG)(e.card,"small"),alt:e.card.name,width:32,height:44,className:"object-cover cursor-pointer",onClick:()=>n(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-500",children:e.card.set_code})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-gray-200 font-medium truncate cursor-pointer hover:text-blue-400",onClick:()=>n(e.card),children:e.card.name}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.card.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 w-6 text-center",children:e.quantity}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>s(e.card.id,e.category,e.quantity-1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(p.A,{className:"h-3 w-3"})}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>s(e.card.id,e.category,e.quantity+1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(g.A,{className:"h-3 w-3"})}),(0,t.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>r(e.card.id,e.category),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-400",children:(0,t.jsx)(eY.A,{className:"h-3 w-3"})})]})]})]},"".concat(e.card.id,"-").concat(e.category)))})},e3=e=>{let{cards:a,viewMode:s,onCardClick:r}=e;return 0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(er.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-500 opacity-70"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta para exibir"})]}):"grid"===s?(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:a.map(e=>(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"aspect-[63/88] bg-gray-800/80 rounded-md overflow-hidden shadow-md",children:[(0,k.VG)(e.card)?(0,t.jsx)(l.default,{src:(0,k.VG)(e.card),alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform duration-300",onClick:()=>r(e.card),sizes:"120px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-2",children:e.card.name}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-md",children:e.quantity}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("p",{className:"text-white text-xs font-medium truncate",children:e.card.name})})]})},"".concat(e.card.id,"-").concat(e.category)))}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-800 rounded overflow-hidden flex-shrink-0",children:(0,k.VG)(e.card,"normal")?(0,t.jsx)(l.default,{src:(0,k.VG)(e.card,"normal"),alt:e.card.name,width:64,height:88,className:"object-cover cursor-pointer",onClick:()=>r(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-1",children:e.card.name})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"text-gray-100 font-bold cursor-pointer hover:text-blue-400",onClick:()=>r(e.card),children:e.card.name}),(0,t.jsxs)(c.E,{className:"bg-blue-600/30 text-blue-200 border-0 text-xs",children:[e.quantity,"x"]})]}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.card.type_line}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.card.set_name}),e.card.oracle_text&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-800/70 rounded text-gray-300 text-xs",children:[e.card.oracle_text.substring(0,200),e.card.oracle_text.length>200&&"..."]})]})]},"".concat(e.card.id,"-").concat(e.category)))})},e2=e=>{let{manaCurve:a}=e,s=Math.max(...Object.values(a),1),r=Object.values(a).reduce((e,a)=>e+a,0);return(0,t.jsxs)($.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)($.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)($.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(eL.A,{className:"w-4 h-4"}),"Curva de Mana"]})}),(0,t.jsxs)($.Wu,{className:"p-3",children:[(0,t.jsx)("div",{className:"flex items-end justify-between gap-1 h-20",children:[0,1,2,3,4,5,6,7].map(e=>{let r=a[e]||0,l=s>0?r/s*100:0;return(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1 h-3",children:r>0&&r}),(0,t.jsx)("div",{className:"w-full bg-gray-700/50 rounded-t relative",style:{height:"50px"},children:(0,t.jsx)("div",{className:"absolute bottom-0 w-full bg-blue-600/70 rounded-t",style:{height:"".concat(l,"%")}})}),(0,t.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:7===e?"7+":e})]},e)})}),(0,t.jsx)("div",{className:"mt-2 text-center",children:(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["M\xe9dia: ",r>0?(Object.entries(a).reduce((e,a)=>{let[s,t]=a;return e+Number(s)*t},0)/r).toFixed(1):"0.0"]})})]})]})},e5=e=>{let{cards:a}=e,s=(0,r.useMemo)(()=>{let e={};return a.forEach(a=>{var s;let t=(null===(s=a.card.type_line)||void 0===s?void 0:s.toLowerCase())||"",r="Other";t.includes("creature")?r="Creature":t.includes("instant")?r="Instant":t.includes("sorcery")?r="Sorcery":t.includes("artifact")?r="Artifact":t.includes("enchantment")?r="Enchantment":t.includes("planeswalker")?r="Planeswalker":t.includes("land")&&(r="Land"),e[r]=(e[r]||0)+a.quantity}),Object.entries(e).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s})},[a]),l=s.reduce((e,a)=>{let[,s]=a;return e+s},0),n={Creature:"bg-green-600/70",Instant:"bg-blue-600/70",Sorcery:"bg-red-600/70",Artifact:"bg-slate-400/70",Enchantment:"bg-yellow-600/70",Planeswalker:"bg-purple-600/70",Land:"bg-emerald-700/70",Other:"bg-gray-500/70"};return 0===s.length?null:(0,t.jsxs)($.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)($.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)($.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(eW.A,{className:"w-4 h-4"}),"Tipos"]})}),(0,t.jsx)($.Wu,{className:"p-3 space-y-2",children:s.map(e=>{let[a,s]=e,r=l>0?s/l*100:0;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm ".concat(n[a])}),(0,t.jsx)("span",{className:"text-gray-300",children:a})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-16 h-1.5 bg-gray-700/70 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full ".concat(n[a]," rounded-full"),style:{width:"".concat(r,"%")}})}),(0,t.jsx)("span",{className:"text-gray-400 text-xs w-6 text-right",children:s})]})]},a)})})]})},e6=e=>{let{deckId:a,onClose:s,onEdit:l}=e,{decks:n,editarDeck:c,deletarDeck:o,duplicarDeck:d,atualizarQuantidadeNoDeck:h,removerCartaDoDeck:g}=(0,u.U)(),{openModal:p}=(0,x.h)(),[j,b]=(0,r.useState)(!1),[v,N]=(0,r.useState)("grid"),[f,w]=(0,r.useState)("all"),[k,A]=(0,r.useState)(""),[q,E]=(0,r.useState)(!1),_=n.find(e=>e.id===a),[P,D]=(0,r.useState)({name:(null==_?void 0:_.name)||"",format:(null==_?void 0:_.format)||"Standard",description:(null==_?void 0:_.description)||"",colors:(null==_?void 0:_.colors)||[],tags:(null==_?void 0:_.tags)||[]});if(!_)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Deck n\xe3o encontrado"})});let T=(0,r.useMemo)(()=>{let e=_.cards;return"all"!==f&&(e=e.filter(e=>e.category===f)),k.trim()&&(e=e.filter(e=>(0,F.S)(e.card,k))),e},[_.cards,f,k]),M=(0,r.useMemo)(()=>{let e=_.cards.filter(e=>"mainboard"===e.category),a=_.cards.filter(e=>"sideboard"===e.category),s=_.cards.filter(e=>"commander"===e.category),t=e.reduce((e,a)=>e+a.quantity,0),r=a.reduce((e,a)=>e+a.quantity,0),l=s.reduce((e,a)=>e+a.quantity,0),n={};return e.forEach(e=>{let a=e.card.cmc||0,s=a>=7?7:a;n[s]=(n[s]||0)+e.quantity}),{mainboard:t,sideboard:r,commander:l,total:t+r+l,unique:_.cards.length,manaCurve:n}},[_.cards]);return(0,t.jsxs)("div",{className:"quantum-card min-h-[calc(100vh-80px)] p-0 m-0",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-30 bg-black/90 backdrop-blur-md border-b border-cyan-500/30 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:s,className:"quantum-btn compact",children:[(0,t.jsx)(e1.A,{className:"w-3.5 h-3.5"}),"Voltar"]}),(0,t.jsx)("h2",{className:"text-md font-bold text-cyan-400 truncate ml-2",children:_.name}),(0,t.jsx)("span",{className:"quantum-badge primary text-xs",children:_.format})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{d(a,"".concat(_.name," (C\xf3pia)"))},children:(0,t.jsx)(ef.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>b(!0),children:(0,t.jsx)(eN.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{let e=_.cards.filter(e=>"mainboard"===e.category),a=_.cards.filter(e=>"sideboard"===e.category),s=_.cards.filter(e=>"commander"===e.category),t="// ".concat(_.name,"\n// Formato: ").concat(_.format,"\n\n");s.length>0&&(t+="Commander:\n",s.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}),t+="\n"),e.length>0&&(t+="Main Deck:\n",e.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}),t+="\n"),a.length>0&&(t+="Sideboard:\n",a.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}));let r=new Blob([t],{type:"text/plain"}),l=URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download="".concat(_.name,".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)},children:(0,t.jsx)(et.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>E(!0),children:(0,t.jsx)(C.A,{className:"w-3.5 h-3.5 text-red-500"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1 mx-2 mb-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[180px]",children:[(0,t.jsx)(y.A,{className:"absolute left-2 top-1.5 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>A(e.target.value),placeholder:"Filtrar cartas...",className:"quantum-input pl-8 h-7 py-0 text-sm"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>w("all"),className:"quantum-btn compact ".concat("all"===f?"primary":""),children:"Todas"}),(0,t.jsxs)("button",{onClick:()=>w("mainboard"),className:"quantum-btn compact ".concat("mainboard"===f?"primary":""),children:["Main (",M.mainboard,")"]}),M.sideboard>0&&(0,t.jsxs)("button",{onClick:()=>w("sideboard"),className:"quantum-btn compact ".concat("sideboard"===f?"primary":""),children:["Side (",M.sideboard,")"]}),M.commander>0&&(0,t.jsxs)("button",{onClick:()=>w("commander"),className:"quantum-btn compact ".concat("commander"===f?"primary":""),children:["Cmd (",M.commander,")"]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>N("grid"),className:"quantum-btn compact ".concat("grid"===v?"secondary":""),children:(0,t.jsx)(V.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>N("spoiler"),className:"quantum-btn compact ".concat("spoiler"===v?"secondary":""),children:(0,t.jsx)(S.A,{className:"w-3.5 h-3.5"})})]})]})]}),(0,t.jsx)(H.lG,{open:j,onOpenChange:b,children:(0,t.jsxs)(H.Cf,{className:"quantum-card",children:[(0,t.jsx)(H.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title",children:"Editar Deck"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"name",children:"Nome do Deck"}),(0,t.jsx)("input",{id:"name",type:"text",className:"quantum-input",value:P.name,onChange:e=>D({...P,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"format",children:"Formato"}),(0,t.jsxs)(eH.l6,{value:P.format,onValueChange:e=>D({...P,format:e}),children:[(0,t.jsx)(eH.bq,{className:"quantum-select",children:(0,t.jsx)(eH.yv,{})}),(0,t.jsxs)(eH.gC,{children:[(0,t.jsx)(eH.eb,{value:"Standard",children:"Standard"}),(0,t.jsx)(eH.eb,{value:"Modern",children:"Modern"}),(0,t.jsx)(eH.eb,{value:"Commander",children:"Commander"}),(0,t.jsx)(eH.eb,{value:"Pioneer",children:"Pioneer"}),(0,t.jsx)(eH.eb,{value:"Legacy",children:"Legacy"}),(0,t.jsx)(eH.eb,{value:"Vintage",children:"Vintage"}),(0,t.jsx)(eH.eb,{value:"Pauper",children:"Pauper"}),(0,t.jsx)(eH.eb,{value:"Limited",children:"Limited"}),(0,t.jsx)(eH.eb,{value:"Historic",children:"Historic"}),(0,t.jsx)(eH.eb,{value:"Brawl",children:"Brawl"}),(0,t.jsx)(eH.eb,{value:"Outro",children:"Outro"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"description",children:"Descri\xe7\xe3o"}),(0,t.jsx)(m.T,{id:"description",className:"quantum-textarea",value:P.description,onChange:e=>D({...P,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(i.$,{className:"quantum-btn",onClick:()=>b(!1),children:"Cancelar"}),(0,t.jsx)(i.$,{className:"quantum-btn primary",onClick:()=>{c(a,{name:P.name,format:P.format,description:P.description,colors:P.colors,tags:P.tags}),b(!1)},children:"Salvar Altera\xe7\xf5es"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-2",children:[(0,t.jsx)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"text-xs text-center p-1 border-b border-cyan-500/20 mb-2",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:M.unique})," cartas \xfanicas • ",(0,t.jsx)("span",{className:"text-cyan-400",children:M.total})," total"]}),(0,t.jsx)(e4,{cards:T,onUpdateQuantity:(e,s,t)=>{h(a,e,t,s)},onRemoveCard:(e,s)=>{g(a,e,s)},onCardClick:p})]})}),(0,t.jsx)("div",{className:"col-span-12 sm:col-span-6",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsx)("div",{className:"quantum-card-dense",children:(0,t.jsx)(e3,{cards:T,viewMode:v,onCardClick:p})})}),(0,t.jsxs)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Distribui\xe7\xe3o"})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Main Deck"}),(0,t.jsx)("span",{className:"text-white font-mono",children:M.mainboard})]}),M.commander>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Commander"}),(0,t.jsx)("span",{className:"text-white font-mono",children:M.commander})]}),M.sideboard>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Sideboard"}),(0,t.jsx)("span",{className:"text-white font-mono",children:M.sideboard})]}),(0,t.jsx)("div",{className:"h-px bg-gradient-to-r from-cyan-500/20 via-cyan-400/40 to-cyan-500/20 my-1"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total"}),(0,t.jsx)("span",{className:"text-cyan-400 font-mono font-bold",children:M.total})]})]})]}),(0,t.jsx)(e2,{manaCurve:M.manaCurve}),(0,t.jsx)(e5,{cards:_.cards.filter(e=>"mainboard"===e.category)}),_.description&&(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Descri\xe7\xe3o"})}),(0,t.jsx)("div",{className:"p-2 text-xs text-gray-300",children:_.description})]})]})]}),(0,t.jsx)(H.lG,{open:q,onOpenChange:E,children:(0,t.jsxs)(H.Cf,{className:"quantum-card",children:[(0,t.jsx)(H.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title text-red-400",children:"Excluir Deck"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck ",(0,t.jsx)("strong",{children:_.name}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.$,{className:"quantum-btn",onClick:()=>E(!1),children:"Cancelar"}),(0,t.jsxs)(i.$,{className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},onClick:()=>{o(a),E(!1),s()},children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),"Excluir Permanentemente"]})]})]})]})})]})};var e8=s(1274);function e7(){var e,a,s,l,o,h,p,j;let{decks:b,criarDeck:v,editarDeck:N,deletarDeck:w,duplicarDeck:k}=(0,u.U)(),A=(0,x.h)(),[q,S]=(0,r.useState)(null),[E,_]=(0,r.useState)("list"),[P,D]=(0,r.useState)(!1),[T,M]=(0,r.useState)(null),[z,L]=(0,r.useState)({type:"info",message:"",visible:!1}),[I,R]=(0,r.useState)({name:"",format:"Standard",colors:[],description:""}),[F,$]=(0,r.useState)(""),[V,O]=(0,r.useState)("all"),[B,U]=(0,r.useState)("date"),[G,W]=(0,r.useState)("desc"),[J,Z]=(0,r.useState)({}),[Q,Y]=(0,r.useState)(null),K=(e,a)=>{L({type:e,message:a,visible:!0}),setTimeout(()=>{L(e=>({...e,visible:!1}))},3e3)},X=e=>{let a=k(e);a?(console.log("Deck duplicado com sucesso! Novo ID:",a),K("success","Deck duplicado com sucesso!")):K("error","Falha ao duplicar o deck.")},ee=e=>{w(e),q===e&&(S(null),_("list")),M(null),K("success","Deck deletado com sucesso!")},ea=(0,r.useMemo)(()=>{let e=b.filter(e=>{let a=e.name.toLowerCase().includes(F.toLowerCase()),s="all"===V||e.format===V;return a&&s});return e.sort((e,a)=>{let s=0;switch(B){case"name":s=e.name.localeCompare(a.name);break;case"date":s=new Date(e.createdAt||0).getTime()-new Date(a.createdAt||0).getTime();break;case"cards":s=e.cards.reduce((e,a)=>e+a.quantity,0)-a.cards.reduce((e,a)=>e+a.quantity,0);break;case"format":s=e.format.localeCompare(a.format)}return"asc"===G?s:-s}),e},[b,F,V,B,G]);return"viewer"===E&&q?(0,t.jsx)(e6,{deckId:q,onClose:()=>{S(null),_("list")},onEdit:()=>_("builder")}):"builder"===E?(0,t.jsx)(e0,{deckId:q||void 0,onSave:e=>{K("success",q?"Deck atualizado com sucesso!":"Deck criado com sucesso!"),S(e),_("list")},onCancel:()=>{S(null),_("list")}}):(0,t.jsxs)("div",{className:"p-4",children:[z.visible&&(0,t.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-md z-50 shadow-lg text-sm font-medium\n          ".concat("success"===z.type?"bg-green-600/90 text-white":"error"===z.type?"bg-red-600/90 text-white":"bg-blue-600/90 text-white"),children:z.message}),(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e8.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Construtor de Decks"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[b.length," ",1===b.length?"deck":"decks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>D(!0),className:"quantum-btn compact primary",children:[(0,t.jsx)(g.A,{className:"w-3.5 h-3.5 mr-1"}),"Novo Deck"]}),(0,t.jsx)(eQ,{onImportSuccess:()=>K("success","Deck importado com sucesso!"),onImportError:e=>K("error","Erro ao importar deck: ".concat(e))})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-4 filtros-colecao",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(n.p,{placeholder:"Buscar deck...",value:F,onChange:e=>$(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]}),(0,t.jsx)(d,{value:V,onChange:O,options:[{value:"all",label:"Todos os formatos"},{value:"Standard",label:"Standard"},{value:"Pioneer",label:"Pioneer"},{value:"Modern",label:"Modern"},{value:"Commander",label:"Commander"},{value:"Legacy",label:"Legacy"},{value:"Vintage",label:"Vintage"},{value:"Pauper",label:"Pauper"}],placeholder:"Formato"}),(0,t.jsx)(d,{value:"".concat(B,"-").concat(G),onChange:e=>{let[a,s]=e.split("-");U(a),W(s)},options:[{value:"date-desc",label:"Mais recentes primeiro"},{value:"date-asc",label:"Mais antigos primeiro"},{value:"name-asc",label:"Nome (A-Z)"},{value:"name-desc",label:"Nome (Z-A)"},{value:"cards-desc",label:"Mais cartas"},{value:"cards-asc",label:"Menos cartas"}],placeholder:"Ordenar por"})]})}),ea.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:ea.map(e=>{let a=e.cards.reduce((e,a)=>e+a.quantity,0),s=e.cards.filter(e=>"mainboard"===e.category).reduce((e,a)=>e+a.quantity,0),r=e.cards.filter(e=>"sideboard"===e.category).reduce((e,a)=>e+a.quantity,0);return(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight group relative overflow-hidden",children:[e.cards.length>0&&(0,t.jsx)(t.Fragment,{children:(()=>{var a,s,r,l,n,i,c,o;let d=J[e.id],m=void 0!==d?e.cards[d]:e.cards[0];if(!m)return null;let x=(null===(a=m.card.image_uris)||void 0===a?void 0:a.art_crop)||(null===(s=m.card.image_uris)||void 0===s?void 0:s.normal)||(null===(n=m.card.card_faces)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:null===(r=l.image_uris)||void 0===r?void 0:r.art_crop)||(null===(o=m.card.card_faces)||void 0===o?void 0:null===(c=o[0])||void 0===c?void 0:null===(i=c.image_uris)||void 0===i?void 0:i.normal);return x?(0,t.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"}),(0,t.jsx)("img",{src:x,alt:"",className:"w-full h-full object-cover filter blur-sm",onError:e=>{e.target.style.display="none"}})]}):null})()}),(0,t.jsx)("div",{className:"p-3 border-b border-cyan-500/20 relative z-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(c.E,{className:"bg-gray-700/60 text-gray-200 text-[10px] h-4 px-1",children:e.format}),e.colors.length>0&&(0,t.jsx)("div",{className:"flex -space-x-1",children:e.colors.map(e=>(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-[8px] \n                                  ".concat("W"===e?"bg-yellow-300/80 text-black":"U"===e?"bg-blue-500/80 text-white":"B"===e?"bg-gray-900/80 text-white":"R"===e?"bg-red-500/80 text-white":"bg-green-500/80 text-white"),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{S(e.id),_("viewer")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(f.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{S(e.id),_("builder")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eN.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),Y(e.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",title:"Alterar imagem de fundo",children:(0,t.jsx)(ey.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>X(e.id),className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(ef.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>M(e.id),className:"p-1 text-gray-400 hover:text-red-400 transition",children:(0,t.jsx)(C.A,{className:"w-3.5 h-3.5"})})]})]})}),(0,t.jsxs)("div",{className:"p-3 text-xs text-gray-400 relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"font-mono text-cyan-400",children:[a," cartas"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-[10px] text-gray-500",children:[(0,t.jsxs)("span",{children:["Main: ",s]}),r>0&&(0,t.jsxs)("span",{children:["Side: ",r]})]}),e.description&&(0,t.jsx)("div",{className:"mt-2 border-t border-gray-800 pt-2 line-clamp-2 text-[11px]",children:e.description})]}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-transparent via-cyan-900/10 to-transparent cursor-pointer relative z-10",onClick:()=>{S(e.id),_("viewer")},children:(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[11px] text-gray-500 hover:text-cyan-400",children:[(0,t.jsx)(f.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver detalhes"})]})})]},e.id)})}):(0,t.jsxs)("div",{className:"quantum-card-dense py-12 px-4 text-center",children:[(0,t.jsx)(er.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:F||"all"!==V?"Nenhum deck encontrado":"Nenhum deck criado"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:F||"all"!==V?"Tente ajustar seus filtros para encontrar o que procura":"Crie seu primeiro deck para come\xe7ar"}),!F&&"all"===V&&(0,t.jsxs)("button",{onClick:()=>D(!0),className:"quantum-btn primary mx-auto",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Deck"]})]}),b.length>0&&(0,t.jsxs)("div",{className:"quantum-card-dense mt-4 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 border-b border-cyan-500/20 pb-2",children:[(0,t.jsx)(eL.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-200",children:"Estat\xedsticas R\xe1pidas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-cyan-400",children:b.length}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Decks"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-purple-400",children:b.reduce((e,a)=>e+a.cards.reduce((e,a)=>e+a.quantity,0),0)}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-green-400",children:new Set(b.map(e=>e.format)).size}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Formatos"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:Math.round(b.reduce((e,a)=>e+a.cards.reduce((e,a)=>e+a.quantity,0),0)/Math.max(1,b.length))}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"M\xe9dia de Cartas"})]})]})]}),(0,t.jsx)(H.lG,{open:P,onOpenChange:D,children:(0,t.jsxs)(H.Cf,{className:"quantum-card fixed-modal creation-modal","aria-describedby":"create-deck-description",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eG.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Criar Novo Deck"})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{id:"create-deck-description",className:"sr-only",children:"Preencha os detalhes abaixo para criar um novo deck."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"name",children:"Nome do Deck*"}),(0,t.jsx)(n.p,{id:"name",value:I.name,onChange:e=>R({...I,name:e.target.value}),placeholder:"Nome do deck...",className:"bg-black/40 border-gray-700"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"format",children:"Formato"}),(0,t.jsx)(d,{value:I.format,onChange:e=>R({...I,format:e}),options:[{value:"Standard",label:"Standard"},{value:"Modern",label:"Modern"},{value:"Commander",label:"Commander"},{value:"Pioneer",label:"Pioneer"},{value:"Legacy",label:"Legacy"},{value:"Vintage",label:"Vintage"},{value:"Pauper",label:"Pauper"}],placeholder:"Formato"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Cores"}),(0,t.jsx)("div",{className:"flex gap-2",children:[{color:"W",bg:"bg-yellow-300/80 text-black"},{color:"U",bg:"bg-blue-500/80 text-white"},{color:"B",bg:"bg-gray-900/80 text-white"},{color:"R",bg:"bg-red-500/80 text-white"},{color:"G",bg:"bg-green-500/80 text-white"}].map(e=>{let{color:a,bg:s}=e;return(0,t.jsx)("button",{onClick:()=>{let e=I.colors.includes(a)?I.colors.filter(e=>e!==a):[...I.colors,a];R({...I,colors:e})},className:"w-8 h-8 rounded-md flex items-center justify-center transition\n                      ".concat(I.colors.includes(a)?s+" ring-1 ring-white/40":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:a},a)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"description",children:"Descri\xe7\xe3o (Opcional)"}),(0,t.jsx)(m.T,{id:"description",value:I.description,onChange:e=>R({...I,description:e.target.value}),placeholder:"Descreva a estrat\xe9gia do deck...",className:"bg-black/40 border-gray-700 h-20 resize-none"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(i.$,{onClick:()=>D(!1),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{if(!I.name.trim()){K("error","Nome do deck \xe9 obrigat\xf3rio");return}let e=v({name:I.name,format:I.format,colors:I.colors,cards:[],isPublic:!1,tags:[],description:I.description});R({name:"",format:"Standard",colors:[],description:""}),D(!1),K("success","Deck criado com sucesso!"),S(e),_("builder")},className:"quantum-btn primary",disabled:!I.name.trim(),children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Criar Deck"]})]})]})]})}),(0,t.jsx)(H.lG,{open:!!T,onOpenChange:e=>!e&&M(null),children:(0,t.jsxs)(H.Cf,{className:"quantum-card fixed-modal delete-modal","aria-describedby":"delete-deck-description",children:[(0,t.jsx)(H.c7,{children:(0,t.jsx)("h2",{className:"text-lg font-medium text-red-400",children:"Excluir Deck"})}),T&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{id:"delete-deck-description",className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck",(0,t.jsxs)("strong",{className:"text-white",children:[" ",null===(e=b.find(e=>e.id===T))||void 0===e?void 0:e.name]}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.$,{onClick:()=>M(null),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>ee(T),className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Excluir Permanentemente"]})]})]})]})}),(0,t.jsx)(H.lG,{open:!!Q,onOpenChange:e=>!e&&Y(null),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense overflow-hidden border border-cyan-500/20 bg-gradient-to-b from-gray-900/95 to-black/95 backdrop-blur-lg focus:outline-none fixed-modal card-selector-modal","aria-describedby":"card-selector-description",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-cyan-500/20 pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ey.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)(H.L3,{className:"text-lg font-medium text-cyan-400",children:"Escolher Imagem de Fundo"})]}),(0,t.jsx)(i.$,{onClick:()=>Y(null),className:"h-7 w-7 p-0 rounded-full bg-gray-800/60 hover:bg-gray-700/60 border-none",children:(0,t.jsx)(eY.A,{className:"h-3.5 w-3.5 text-gray-400"})})]})}),Q&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{id:"card-selector-description",className:"text-sm text-gray-300 border-l-2 border-cyan-500/30 pl-3 py-1 bg-cyan-500/5",children:["Selecione uma carta para usar como imagem de fundo para o deck",(0,t.jsxs)("strong",{className:"text-white",children:[" ",null===(a=b.find(e=>e.id===Q))||void 0===a?void 0:a.name]})]}),(0,t.jsxs)("div",{className:"max-h-[50vh] overflow-y-auto pr-1 quantum-scrollbar",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 pb-1",children:Q&&(null===(l=b.find(e=>e.id===Q))||void 0===l?void 0:null===(s=l.cards)||void 0===s?void 0:s.map((e,a)=>{var s,r,l,n,i,c;if(!e||!e.card)return null;let o=(null===(s=e.card.image_uris)||void 0===s?void 0:s.art_crop)||(null===(r=e.card.image_uris)||void 0===r?void 0:r.normal);!o&&Array.isArray(e.card.card_faces)&&e.card.card_faces.length>0&&(o=(null===(n=e.card.card_faces[0])||void 0===n?void 0:null===(l=n.image_uris)||void 0===l?void 0:l.art_crop)||(null===(c=e.card.card_faces[0])||void 0===c?void 0:null===(i=c.image_uris)||void 0===i?void 0:i.normal));let d=!!Q&&J[Q]===a;return o?(0,t.jsxs)("div",{className:"relative cursor-pointer rounded-md overflow-hidden transition-all hover:scale-[1.03] group ".concat(d?"ring-2 ring-cyan-400 scale-[1.03]":"ring-1 ring-gray-700"),onClick:()=>{Q&&(Z({...J,[Q]:a}),K("success","".concat(e.card.name," definida como fundo do deck")))},children:[(0,t.jsx)("img",{src:o,alt:e.card.name||"Card art",className:"w-full aspect-[4/3] object-cover",loading:"lazy",onError:e=>{e.target.style.display="none"}}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black to-transparent pt-4 pb-1 px-1",children:(0,t.jsx)("p",{className:"text-xs text-white truncate",children:e.card.name||"Sem nome"})}),d&&(0,t.jsx)("div",{className:"absolute top-1 right-1 bg-cyan-500 rounded-full p-1 shadow-lg",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("button",{onClick:async a=>{a.stopPropagation(),A&&A.openModal&&await A.openModal(e.card),Q&&setTimeout(()=>Y(null),150)},className:"absolute top-1 left-1 bg-black/60 hover:bg-cyan-500/80 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Ver detalhes da carta",children:(0,t.jsx)(f.A,{className:"w-3 h-3"})})]},"".concat(e.card.id||a,"-").concat(a)):null}))}),Q&&(null===(h=b.find(e=>e.id===Q))||void 0===h?void 0:null===(o=h.cards)||void 0===o?void 0:o.length)===0&&(0,t.jsxs)("div",{className:"text-center py-8 bg-black/20 rounded-lg border border-gray-800",children:[(0,t.jsx)(er.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Este deck n\xe3o possui cartas para exibir como fundo."})]})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2 mt-4 pt-3 border-t border-cyan-500/20",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[Q&&(null===(j=b.find(e=>e.id===Q))||void 0===j?void 0:null===(p=j.cards)||void 0===p?void 0:p.length)||0," carta(s) dispon\xedveis"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.$,{onClick:()=>{if(Q&&void 0!==J[Q]){let e={...J};delete e[Q],Z(e),K("info","Usando imagem padr\xe3o para o fundo")}Y(null)},className:"quantum-btn compact",type:"button",children:"Usar Padr\xe3o"}),(0,t.jsx)(i.$,{onClick:()=>Y(null),className:"quantum-btn primary compact",type:"button",children:"Conclu\xeddo"})]})]})]})]})})]})}s(1694);var e9=s(64);let ae=e9.bL,aa=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(e9.B8,{ref:a,className:(0,eh.cn)("inline-flex h-12 items-center justify-center rounded-lg bg-gray-100 p-1 text-gray-600 shadow-sm",s),...r})});aa.displayName=e9.B8.displayName;let as=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(e9.l9,{ref:a,className:(0,eh.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm hover:text-gray-900",s),...r})});as.displayName=e9.l9.displayName;let at=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(e9.UC,{ref:a,className:(0,eh.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});at.displayName=e9.UC.displayName;var ar=s(5040),al=s(6341),an=s(5525),ai=s(299),ac=s(3052),ao=s(4788);function ad(){let[e,a]=(0,r.useState)(""),[s,l]=(0,r.useState)("all"),[i,o]=(0,r.useState)(null),d=[{id:"all",name:"Todas",icon:ar.A},{id:"basic",name:"Regras B\xe1sicas",icon:N.A},{id:"turn",name:"Estrutura do Turno",icon:eo.A},{id:"combat",name:"Combate",icon:al.A},{id:"spell",name:"M\xe1gicas e Habilidades",icon:eG.A},{id:"permanent",name:"Permanentes",icon:an.A},{id:"zone",name:"Zonas do Jogo",icon:eT.A},{id:"multiplayer",name:"Multiplayer",icon:eI.A}],m=[{id:"1",title:"Como Jogar Magic",content:"Magic: The Gathering \xe9 um jogo de cartas estrat\xe9gico para dois ou mais jogadores. Cada jogador usa um deck personalizado de cartas Magic para derrotar seus oponentes.\n\n**Objetivo do Jogo:**\nReduza os pontos de vida dos seus oponentes de 20 para 0, ou fa\xe7a com que eles n\xe3o possam comprar cartas do pr\xf3prio deck.\n\n**Componentes B\xe1sicos:**\n- Deck de no m\xednimo 60 cartas\n- Pontos de vida (come\xe7am com 20)\n- Mana (recurso para jogar cartas)\n- Cinco cores de mana: Branco, Azul, Preto, Vermelho e Verde",category:"basic",difficulty:"B\xe1sico",tags:["iniciante","conceitos","objetivo"]},{id:"2",title:"Estrutura do Turno",content:"Cada turno \xe9 dividido em fases espec\xedficas que devem ser seguidas em ordem:\n\n**1. Fase Inicial (Beginning Phase):**\n- Desvirar (Untap Step)\n- Manuten\xe7\xe3o (Upkeep Step) \n- Compra (Draw Step)\n\n**2. Fase Principal 1 (First Main Phase):**\n- Jogue terrenos, m\xe1gicas e ative habilidades\n\n**3. Fase de Combate (Combat Phase):**\n- Declarar atacantes\n- Declarar bloqueadores\n- Resolver dano\n\n**4. Fase Principal 2 (Second Main Phase):**\n- Mesmas a\xe7\xf5es da Fase Principal 1\n\n**5. Fase Final (Ending Phase):**\n- Final do turno\n- Limpeza",category:"turn",difficulty:"B\xe1sico",tags:["turno","fases","sequ\xeancia"]},{id:"3",title:"Sistema de Mana",content:"Mana \xe9 o recurso usado para pagar o custo das m\xe1gicas. Existem cinco cores de mana:\n\n**\uD83E\uDD0D Branco (W):** \n- Prote\xe7\xe3o, cura, ordem\n- Criaturas pequenas eficientes\n- Remo\xe7\xe3o de amea\xe7as\n\n**\uD83D\uDD35 Azul (U):**\n- Compra de cartas, contram\xe1gicas\n- Controle e manipula\xe7\xe3o\n- Criaturas voadoras\n\n**⚫ Preto (B):**\n- Destrui\xe7\xe3o, sacrif\xedcio\n- Poder atrav\xe9s de custos\n- Criaturas com deathtouch\n\n**\uD83D\uDD34 Vermelho (R):**\n- Dano direto, velocidade\n- Emo\xe7\xe3o e caos\n- Criaturas agressivas\n\n**\uD83D\uDFE2 Verde (G):**\n- Criaturas grandes, mana\n- Natureza e crescimento\n- Acelera\xe7\xe3o de mana",category:"basic",difficulty:"B\xe1sico",tags:["mana","cores","recursos"]},{id:"4",title:"Tipos de Cartas",content:"Existem v\xe1rios tipos de cartas em Magic:\n\n**Terrenos (Lands):**\n- Produzem mana\n- Podem ser jogados uma vez por turno\n- N\xe3o custam mana para jogar\n\n**Criaturas (Creatures):**\n- Podem atacar e bloquear\n- T\xeam poder e resist\xeancia\n- Permanentes no campo de batalha\n\n**M\xe1gicas Instant\xe2neas (Instants):**\n- Podem ser jogadas a qualquer momento\n- V\xe3o para o cemit\xe9rio ap\xf3s resolverem\n- Efeitos imediatos\n\n**Feiti\xe7os (Sorceries):**\n- S\xf3 podem ser jogadas na sua fase principal\n- V\xe3o para o cemit\xe9rio ap\xf3s resolverem\n- Efeitos \xfanicos\n\n**Encantamentos (Enchantments):**\n- Permanentes com efeitos cont\xednuos\n- Ficam no campo at\xe9 serem removidos\n\n**Artefatos (Artifacts):**\n- Objetos m\xe1gicos\n- Geralmente t\xeam custos incolores\n- Efeitos variados\n\n**Planeswalkers:**\n- Aliados poderosos\n- T\xeam pontos de lealdade\n- Habilidades ativ\xe1veis",category:"basic",difficulty:"Intermedi\xe1rio",tags:["tipos","cartas","permanentes"]},{id:"5",title:"Combate Detalhado",content:"O combate \xe9 dividido em v\xe1rias etapas:\n\n**1. In\xedcio do Combate:**\n- Oportunidade para jogar m\xe1gicas\n- Habilidades que ativam no in\xedcio do combate\n\n**2. Declarar Atacantes:**\n- Escolha quais criaturas atacam\n- Vire as criaturas atacantes\n- Habilidades que ativam ao atacar\n\n**3. Declarar Bloqueadores:**\n- Defensor escolhe como bloquear\n- Uma criatura pode bloquear um atacante\n- M\xfaltiplas criaturas podem bloquear um atacante\n\n**4. Dano de Combate:**\n- Criaturas aplicam dano igual ao poder\n- Dano acontece simultaneamente\n- Criaturas com deathtouch destroem com qualquer dano\n\n**5. Final do Combate:**\n- \xdaltimas oportunidades para m\xe1gicas\n- Habilidades de final de combate",category:"combat",difficulty:"Intermedi\xe1rio",tags:["combate","atacar","bloquear","dano"]},{id:"6",title:"A Pilha (Stack)",content:"A pilha \xe9 onde m\xe1gicas e habilidades esperam para resolver:\n\n**Como Funciona:**\n- \xdaltima m\xe1gica/habilidade a entrar \xe9 a primeira a resolver (LIFO)\n- Jogadores podem responder adicionando mais \xe0 pilha\n- Quando todos passam, o item do topo resolve\n\n**Exemplo:**\n1. Jogador A joga Lightning Bolt\n2. Jogador B responde com Counterspell\n3. Jogador A responde com Red Elemental Blast\n4. Resolve: Red Elemental Blast → Counterspell → Lightning Bolt\n\n**Dicas Importantes:**\n- Mana permanece no pool durante resolu\xe7\xe3o\n- Voc\xea pode responder \xe0s suas pr\xf3prias m\xe1gicas\n- Algumas habilidades n\xe3o usam a pilha (mana abilities)",category:"spell",difficulty:"Avan\xe7ado",tags:["pilha","stack","resolu\xe7\xe3o","resposta"]}],x=[{icon:e$.A,title:"Pontos de Vida",desc:"Comece com 20, chegue a 0 e perde"},{icon:eo.A,title:"Limite de M\xe3o",desc:"M\xe1ximo de 7 cartas na m\xe3o"},{icon:eT.A,title:"Terrenos por Turno",desc:"Apenas 1 terreno por turno"},{icon:eG.A,title:"Velocidade da M\xe1gica",desc:"Instant\xe2neas podem ser jogadas a qualquer momento"}],u=m.filter(a=>{let t=e.toLowerCase(),r=(0,F.b)(t).toLowerCase(),l=a.title.toLowerCase().includes(t)||a.content.toLowerCase().includes(t)||a.tags.some(e=>e.toLowerCase().includes(t))||r!==t&&(a.title.toLowerCase().includes(r)||a.content.toLowerCase().includes(r)||a.tags.some(e=>e.toLowerCase().includes(r))),n="all"===s||a.category===s;return l&&n}),h=e=>{console.log("Toggle favorite for rule:",e)};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ar.A,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Regras do Magic"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[m.length," regras"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Consulte regras e refer\xeancias do Magic: The Gathering"})]}),(0,t.jsxs)(ae,{defaultValue:"regras",className:"w-full",children:[(0,t.jsx)("div",{className:"quantum-card-dense mb-4 p-1",children:(0,t.jsxs)(aa,{className:"bg-transparent flex w-full gap-1",children:[(0,t.jsxs)(as,{value:"regras",className:"quantum-tab flex-1",children:[(0,t.jsx)(ar.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Regras"})]}),(0,t.jsxs)(as,{value:"rapidas",className:"quantum-tab flex-1",children:[(0,t.jsx)(eG.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Refer\xeancia"})]}),(0,t.jsxs)(as,{value:"glossario",className:"quantum-tab flex-1",children:[(0,t.jsx)(ai.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Gloss\xe1rio"})]})]})}),(0,t.jsx)(at,{value:"regras",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(n.p,{placeholder:"Buscar regras...",value:e,onChange:e=>a(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]})}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5 text-cyan-400"}),"Categorias"]}),(0,t.jsx)("div",{className:"space-y-1",children:d.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:"w-full flex items-center gap-1.5 text-xs p-1.5 rounded-sm transition-colors\n                          ".concat(s===e.id?"bg-cyan-500/20 text-cyan-400":"hover:bg-gray-800 text-gray-400"),children:[(0,t.jsx)(a,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.name})]},e.id)})})]})]}),(0,t.jsx)("div",{className:"md:col-span-3",children:i?(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("button",{onClick:()=>o(null),className:"flex items-center text-xs text-gray-400 hover:text-cyan-400 transition-colors",children:"← Voltar \xe0s regras"})}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:i.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(c.E,{className:"h-5 text-[10px] ".concat("B\xe1sico"===i.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===i.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"),children:i.difficulty}),i.tags.map(e=>(0,t.jsx)(c.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-5 text-[10px]",children:e},e))]})]}),(0,t.jsx)("button",{onClick:()=>h(i.id),className:"p-1 text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"prose prose-invert max-w-none text-sm",children:(0,t.jsx)("div",{className:"whitespace-pre-wrap",children:i.content})})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h2",{className:"text-sm text-gray-400",children:[u.length," regra",1!==u.length?"s":""," encontrada",1!==u.length?"s":""]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:u.map(e=>(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight cursor-pointer",onClick:()=>o(e),children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),h(e.id)},className:"text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(N.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(ac.A,{className:"w-3.5 h-3.5 text-gray-500"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,t.jsx)(c.E,{className:"h-4 text-[10px] ".concat("B\xe1sico"===e.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===e.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"),children:e.difficulty})})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("p",{className:"text-gray-400 text-xs line-clamp-2",children:[e.content.substring(0,120),"..."]}),(0,t.jsxs)("div",{className:"flex gap-1 mt-2",children:[e.tags.slice(0,2).map(e=>(0,t.jsx)(c.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-4 text-[10px]",children:e},e)),e.tags.length>2&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 self-center",children:["+",e.tags.length-2]})]})]})]},e.id))})]})})]})}),(0,t.jsxs)(at,{value:"rapidas",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map((e,a)=>{let s=e.icon;return(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(s,{className:"w-4 h-4 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.desc})]})]})},a)})}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eB.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Cores de Mana"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Identidade e caracter\xedsticas de cada cor"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{color:"Branco",symbol:"W",bg:"from-yellow-400 to-orange-500",theme:"Ordem, prote\xe7\xe3o"},{color:"Azul",symbol:"U",bg:"from-blue-500 to-cyan-600",theme:"Conhecimento, controle"},{color:"Preto",symbol:"B",bg:"from-gray-700 to-gray-900",theme:"Poder, sacrif\xedcio"},{color:"Vermelho",symbol:"R",bg:"from-red-500 to-orange-600",theme:"Emo\xe7\xe3o, caos"},{color:"Verde",symbol:"G",bg:"from-green-500 to-emerald-600",theme:"Natureza, vida"}].map(e=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br ".concat(e.bg," rounded-lg flex items-center justify-center mx-auto mb-2 text-white font-bold text-sm"),children:e.symbol}),(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.color}),(0,t.jsx)("p",{className:"text-gray-400 text-[10px]",children:e.theme})]},e.symbol))})})]})]}),(0,t.jsxs)(at,{value:"glossario",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ai.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Gloss\xe1rio de Termos"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Defini\xe7\xf5es dos termos mais importantes"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{term:"CMC (Custo de Mana Convertido)",def:"O custo total de mana necess\xe1rio para jogar uma m\xe1gica"},{term:"Deathtouch",def:"Qualquer quantidade de dano desta criatura destr\xf3i uma criatura"},{term:"Flying (Voar)",def:"Esta criatura s\xf3 pode ser bloqueada por criaturas com flying ou reach"},{term:"Haste (\xcdmpeto)",def:"Esta criatura pode atacar no turno que entra em jogo"},{term:"Lifelink",def:"O dano causado por esta criatura tamb\xe9m ganha pontos de vida"},{term:"Reach (Alcance)",def:"Esta criatura pode bloquear criaturas com flying"},{term:"Trample (Atropelar)",def:"Dano excessivo no combate pode ser aplicado ao defensor"},{term:"Vigilance (Vigil\xe2ncia)",def:"Atacar n\xe3o faz esta criatura virar"}].map((e,a)=>(0,t.jsxs)("div",{className:"p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.term}),(0,t.jsx)("p",{className:"text-gray-400 text-[11px]",children:e.def})]},a))})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-1.5",children:[(0,t.jsx)(ez.A,{className:"w-3.5 h-3.5 text-cyan-400"}),"Recursos Externos"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(ep.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Regras Oficiais"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Comprehensive Rules"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(ao.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Judge Chat"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Tire suas d\xfavidas"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(ar.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Gatherer"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Base de dados oficial"})]})]})]})]})]})]})]})}var am=s(8749),ax=s(5488),au=s(1243),ah=s(9917),ag=s(2650);function ap(e){let{onImageUploaded:a,onMultipleImagesUploaded:s,onEditDetails:l}=e,[n,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[u,h]=(0,r.useState)(0),g=(0,r.useRef)(null),p=(0,r.useRef)(null),j=e=>new Promise((a,s)=>{if(!e.type.startsWith("image/")){s(Error("Arquivo n\xe3o \xe9 uma imagem v\xe1lida"));return}let t=new FileReader;t.onload=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result)?a(e.target.result):s(Error("Erro ao ler o arquivo"))},t.onerror=()=>s(Error("Erro ao processar a imagem")),t.readAsDataURL(e)}),b=async e=>{if(0!==e.length){d(!0),h(0);try{let t=[];for(let a=0;a<e.length;a++)t.push(j(e[a]));let r=[],l=t.length;for(let e=0;e<l;e++){let a=await t[e];r.push(a),h(Math.round((e+1)/l*100))}x(r),1===r.length?a(r[0]):r.length>1&&s?s(r):r.length>1&&a(r[0])}catch(e){console.error("Erro ao processar imagens:",e),alert("Ocorreu um erro ao processar as imagens.")}finally{d(!1),h(0)}}},v=async()=>{try{for(let e of(await navigator.clipboard.read()))for(let a of e.types)if(a.startsWith("image/")){let s=await e.getType(a),t=new File([s],"clipboard-image.png",{type:a}),r=new DataTransfer;r.items.add(t),b(r.files);return}alert("Nenhuma imagem encontrada na \xe1rea de transfer\xeancia.")}catch(e){console.error("Erro ao acessar a \xe1rea de transfer\xeancia:",e),alert("N\xe3o foi poss\xedvel acessar a \xe1rea de transfer\xeancia. Verifique as permiss\xf5es do navegador.")}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{ref:p,className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(n?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),c(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),c(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&b(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},children:[(0,t.jsx)("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:e=>{e.target.files&&e.target.files.length>0&&b(e.target.files)},multiple:!0}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)(es.A,{className:"w-8 h-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Arraste e solte imagens aqui, ou clique para selecionar"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Formatos suportados: JPG, PNG, GIF (m\xfaltiplas imagens permitidas)"})]})]}),o&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-md p-2",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-300 mb-1",children:["Processando imagens... ",u,"%"]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 h-1 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"bg-purple-500 h-1 rounded-full",style:{width:"".concat(u,"%")}})})]}),m.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-400 mb-1",children:[m.length," imagens carregadas:"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[m.slice(0,6).map((e,a)=>(0,t.jsxs)("div",{className:"relative aspect-[63/88] bg-gray-800 rounded-md overflow-hidden group",children:[(0,t.jsx)("img",{src:e,alt:"Imagem ".concat(a+1),className:"w-full h-full object-contain"}),l&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>l(e),className:"bg-blue-900/50 border-blue-700 text-blue-300",children:"Editar Detalhes"})})]},a)),m.length>6&&(0,t.jsx)("div",{className:"relative aspect-[63/88] bg-gray-800/50 rounded-md flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-gray-400 text-sm",children:["+",m.length-6]})})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{variant:"outline",className:"flex-1",onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},disabled:o,children:[(0,t.jsx)(ey.A,{className:"w-4 h-4 mr-1"}),"Selecionar Imagens"]}),(0,t.jsxs)(i.$,{variant:"outline",className:"flex-1",onClick:v,disabled:o,children:[(0,t.jsx)(ag.A,{className:"w-4 h-4 mr-1"}),"Colar da \xc1rea de Transfer\xeancia"]})]})]})}function aj(e){let{onCardsUploaded:a}=e,[s,l]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),m=(0,r.useRef)(null),x=e=>{c(!0),d(null);let s=new FileReader;s.onload=e=>{try{var s;if(null===(s=e.target)||void 0===s?void 0:s.result){let s=e.target.result,t=JSON.parse(s);if(!Array.isArray(t))throw Error("O arquivo deve conter um array de cartas.");let r=t.filter(e=>{var a;return e&&"object"==typeof e&&(e.name||(null===(a=e.image_uris)||void 0===a?void 0:a.normal))});if(0===r.length)throw Error("Nenhuma carta v\xe1lida encontrada no arquivo.");a(r)}}catch(e){console.error("Erro ao processar arquivo JSON:",e),d(e instanceof Error?e.message:"Erro ao processar o arquivo.")}finally{c(!1)}},s.onerror=()=>{d("Erro ao ler o arquivo."),c(!1)},s.readAsText(e)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(s?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),l(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),l(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),l(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&x(e.dataTransfer.files[0])},onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},children:[(0,t.jsx)("input",{type:"file",ref:m,className:"hidden",accept:".json",onChange:e=>{e.target.files&&e.target.files[0]&&x(e.target.files[0])}}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)(ee.A,{className:"w-8 h-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Arraste e solte um arquivo JSON aqui, ou clique para selecionar"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"O arquivo deve conter um array de objetos com as propriedades das cartas"})]})]}),o&&(0,t.jsxs)("div",{className:"bg-red-900/30 border border-red-800 rounded-md p-3 flex items-start gap-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-300",children:o})]}),(0,t.jsxs)(i.$,{variant:"outline",className:"w-full",onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},disabled:n,children:[(0,t.jsx)(es.A,{className:"w-4 h-4 mr-1"}),n?"Processando...":"Selecionar Arquivo JSON"]})]})}function ab(e){var a;let{isOpen:s,onClose:r,card:n}=e;return n?(0,t.jsx)(H.lG,{open:s,onOpenChange:e=>!e&&r(),children:(0,t.jsx)(H.Cf,{className:"quantum-card-dense fixed-modal max-w-md p-2",children:(0,t.jsx)("div",{className:"relative w-full",children:(0,t.jsx)(l.default,{src:(null===(a=n.image_uris)||void 0===a?void 0:a.normal)||"/placeholder.png",alt:n.name,width:480,height:680,className:"w-full h-auto rounded-lg"})})})}):null}function av(e){var a;let{isOpen:s,onClose:c,card:o,onSave:d}=e,[x,u]=(0,r.useState)(o);return(o&&(!x||x.id!==o.id)&&u(o),x)?(0,t.jsx)(H.lG,{open:s,onOpenChange:e=>!e&&c(),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ah.A,{className:"w-5 h-5 text-blue-400"}),"Editar Carta"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"relative w-full aspect-[63/88] rounded-lg overflow-hidden mb-4",children:(0,t.jsx)(l.default,{src:(null===(a=x.image_uris)||void 0===a?void 0:a.normal)||"/placeholder.png",alt:x.name,fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(n.p,{value:x.name,onChange:e=>u({...x,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(n.p,{value:x.mana_cost||"",onChange:e=>u({...x,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:x.rarity||"common",onChange:e=>u({...x,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(n.p,{value:x.type_line||"",onChange:e=>u({...x,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(m.T,{value:x.oracle_text||"",onChange:e=>u({...x,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Fonte do Spoiler"}),(0,t.jsx)(n.p,{value:x.spoilerSource||"",onChange:e=>u({...x,spoilerSource:e.target.value}),placeholder:"Wizards.com, Twitter, etc."})]})]}),(0,t.jsxs)(H.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:c,children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{x&&d(x)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-1"}),"Salvar Altera\xe7\xf5es"]})]})]})}):null}function aN(e){let{isOpen:a,onClose:s,imageUrl:c,onSave:o}=e,[d,x]=(0,r.useState)({name:"",type_line:"",oracle_text:"",mana_cost:"",rarity:"common",set:"eoe",set_name:"Edges of Eternities",image_uris:{normal:c}});return(0,t.jsx)(H.lG,{open:a,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ah.A,{className:"w-5 h-5 text-blue-400"}),"Adicionar Detalhes da Carta"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"relative w-full aspect-[63/88] rounded-lg overflow-hidden mb-4",children:(0,t.jsx)(l.default,{src:c,alt:"Pr\xe9via da carta",fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(n.p,{value:d.name,onChange:e=>x({...d,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(n.p,{value:d.mana_cost||"",onChange:e=>x({...d,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:d.rarity||"common",onChange:e=>x({...d,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(n.p,{value:d.type_line||"",onChange:e=>x({...d,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(m.T,{value:d.oracle_text||"",onChange:e=>x({...d,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]})]}),(0,t.jsxs)(H.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:s,children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{o(d),s()},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-1"}),"Salvar e Adicionar"]})]})]})})}let af=e=>{try{let a=e.map(e=>{let{image_uris:a,...s}=e;return{...s,image_ref:e.id}});return localStorage.setItem("mtg-spoiler-cards-data",JSON.stringify(a)),e.forEach(e=>{var a;if(null===(a=e.image_uris)||void 0===a?void 0:a.normal)try{localStorage.setItem("mtg-spoiler-image-".concat(e.id),e.image_uris.normal)}catch(a){console.warn("N\xe3o foi poss\xedvel salvar a imagem da carta ".concat(e.name,":"),a)}}),!0}catch(e){return console.error("Erro ao salvar cartas de spoiler:",e),!1}},ay=()=>{try{let e=localStorage.getItem("mtg-spoiler-cards-data");if(!e)return[];return JSON.parse(e).map(e=>{let a=null;try{a=localStorage.getItem("mtg-spoiler-image-".concat(e.id))}catch(a){console.warn("N\xe3o foi poss\xedvel carregar a imagem da carta ".concat(e.name,":"),a)}let{image_ref:s,...t}=e;return{...t,image_uris:{normal:a||"",large:a||"",png:a||"",art_crop:a||""}}})}catch(e){return console.error("Erro ao carregar cartas de spoiler:",e),[]}},aw=e=>{try{let a=ay();return a.unshift(e),af(a)}catch(e){return console.error("Erro ao adicionar carta de spoiler:",e),!1}},aC=e=>{try{let a=ay(),s=[...e,...a];return af(s)}catch(e){return console.error("Erro ao adicionar cartas de spoiler:",e),!1}},ak=e=>{try{let a=ay().filter(a=>a.id!==e);try{localStorage.removeItem("mtg-spoiler-image-".concat(e))}catch(a){console.warn("N\xe3o foi poss\xedvel remover a imagem da carta ".concat(e,":"),a)}return af(a)}catch(e){return console.error("Erro ao remover carta de spoiler:",e),!1}};function aA(e){var a,s;let{isAdmin:c=!1}=e,[o,d]=(0,r.useState)([]),[x,u]=(0,r.useState)("Edges of Eternities"),[h,p]=(0,r.useState)(!1),[j,b]=(0,r.useState)({name:"",type_line:"",oracle_text:"",mana_cost:"",image_uris:{normal:""},rarity:"common",set:"eoe",set_name:"Edges of Eternities",isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""}),[v,N]=(0,r.useState)(c),[y,w]=(0,r.useState)("form"),[C,k]=(0,r.useState)(null),[A,q]=(0,r.useState)(!1),[S,E]=(0,r.useState)(null),[_,P]=(0,r.useState)(!1),[D,T]=(0,r.useState)(!1),[M,z]=(0,r.useState)(""),[L,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{let e=[...ay()].sort((e,a)=>{let s=e.id.split("-")[1]||"0",t=a.id.split("-")[1]||"0";return parseInt(t)-parseInt(s)});d(e),I(null)}catch(e){console.error("Erro ao carregar cartas de spoiler:",e),I("Erro ao carregar cartas de spoiler. Algumas imagens podem n\xe3o estar dispon\xedveis.")}},[]),(0,r.useEffect)(()=>{if(o.length>0)try{af(o)?I(null):I("Aviso: Algumas imagens podem n\xe3o ter sido salvas devido a limita\xe7\xf5es de armazenamento.")}catch(e){console.error("Erro ao salvar cartas de spoiler:",e),I("Erro ao salvar cartas. Algumas imagens podem n\xe3o ter sido salvas.")}},[o]);let R=e=>{let a=e.replace(/[{}]/g,"").split(""),s=0;for(let e of a)isNaN(parseInt(e))?"X"!==e&&"Y"!==e&&"Z"!==e&&(s+=1):s+=parseInt(e);return s},F=e=>{if(confirm("Tem certeza que deseja remover esta carta?"))try{ak(e)?d(a=>a.filter(a=>a.id!==e)):(I("Erro ao remover a carta do armazenamento."),d(a=>a.filter(a=>a.id!==e)))}catch(e){console.error("Erro ao remover carta:",e),I("Erro ao remover carta. Tente novamente.")}},$=e=>{k(e),q(!0)},V=e=>{E({...e}),P(!0)},O=()=>{b({name:"",type_line:"",oracle_text:"",mana_cost:"",image_uris:{normal:""},rarity:"common",set:"eoe",set_name:"Edges of Eternities",isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""}),w("form")},B=e=>{b(a=>({...a,image_uris:{...a.image_uris,normal:e}}))};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4 card-purple",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eB.A,{className:"w-5 h-5 text-purple-400"}),(0,t.jsxs)("h2",{className:"text-lg font-semibold text-white",children:["Spoilers: ",x]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>{N(e=>!e)},className:"text-gray-400 hover:text-white",children:[v?(0,t.jsx)(am.A,{className:"w-4 h-4 mr-1"}):(0,t.jsx)(f.A,{className:"w-4 h-4 mr-1"}),v?"Modo Visualiza\xe7\xe3o":"Modo Admin"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Confira os spoilers mais recentes da pr\xf3xima cole\xe7\xe3o de Magic: The Gathering"})]}),v&&(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-1"}),"Adicionar Carta"]}),(0,t.jsxs)(i.$,{variant:"outline",className:"border-cyan-800/50 text-cyan-400",onClick:()=>{d([...o].sort((e,a)=>{let s=e.id.split("-")[1]||"0";return parseInt(a.id.split("-")[1]||"0")-parseInt(s)}))},children:[(0,t.jsx)(ax.A,{className:"w-4 h-4 mr-1"}),"Ordenar por Recentes"]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[o.length," cartas no spoiler"]})]}),L&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-yellow-900/30 border border-yellow-800 rounded-md flex items-start gap-2",children:[(0,t.jsx)(au.A,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-yellow-200",children:L})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.map(e=>{var a;return(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] group cursor-pointer",onClick:()=>$(e),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.default,{src:(null===(a=e.image_uris)||void 0===a?void 0:a.normal)||"/placeholder.png",alt:e.name,width:265,height:370,className:"w-full h-auto"}),e.isNew&&(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-purple-900/70 text-purple-200",children:"Novo"})}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:e.rarity})]})}),v&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2 transition-opacity",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),V(e)},className:"w-8 h-8 p-0 rounded-full bg-blue-900/50 border-blue-700",children:(0,t.jsx)(ah.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)(i.$,{variant:"destructive",size:"sm",onClick:a=>{a.stopPropagation(),F(e.id)},className:"w-8 h-8 p-0 rounded-full",children:(0,t.jsx)(ex.A,{className:"w-4 h-4"})})]})]})},e.id)})}),(0,t.jsx)(ab,{isOpen:A,onClose:()=>q(!1),card:C}),(0,t.jsx)(av,{isOpen:_,onClose:()=>P(!1),card:S,onSave:()=>{if(S)try{let e=o.map(e=>e.id===S.id?S:e);af(e)||I("Erro ao salvar as altera\xe7\xf5es da carta."),d(e),P(!1),E(null)}catch(e){console.error("Erro ao salvar altera\xe7\xf5es da carta:",e),I("Erro ao salvar altera\xe7\xf5es da carta. Tente novamente.")}}}),(0,t.jsx)(aN,{isOpen:D,onClose:()=>T(!1),imageUrl:M,onSave:e=>{var a,s,t,r;let l={id:"spoiler-".concat(Date.now()),name:e.name||"Carta sem nome",type_line:e.type_line||"",oracle_text:e.oracle_text||"",mana_cost:e.mana_cost||"",cmc:R(e.mana_cost||""),image_uris:{normal:(null===(a=e.image_uris)||void 0===a?void 0:a.normal)||"",large:(null===(s=e.image_uris)||void 0===s?void 0:s.normal)||"",png:(null===(t=e.image_uris)||void 0===t?void 0:t.normal)||"",art_crop:(null===(r=e.image_uris)||void 0===r?void 0:r.normal)||""},rarity:e.rarity||"common",set:e.set||"eoe",set_name:e.set_name||"Edges of Eternities",collector_number:"".concat(o.length+1),isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""};try{aw(l)?d(e=>[l,...e]):I("N\xe3o foi poss\xedvel adicionar a carta devido a limita\xe7\xf5es de armazenamento.")}catch(e){console.error("Erro ao adicionar carta:",e),I("Erro ao adicionar carta. Tente novamente com uma imagem menor.")}}}),(0,t.jsx)(H.lG,{open:h,onOpenChange:p,children:(0,t.jsxs)(H.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5 text-purple-400"}),"Adicionar Nova Carta"]})}),(0,t.jsxs)(ae,{value:y,onValueChange:w,children:[(0,t.jsxs)(aa,{className:"grid grid-cols-3 mb-4",children:[(0,t.jsx)(as,{value:"form",children:"Formul\xe1rio"}),(0,t.jsx)(as,{value:"image",children:"Imagem"}),(0,t.jsx)(as,{value:"batch",children:"Em Lote"})]}),(0,t.jsxs)(at,{value:"form",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(n.p,{value:j.name,onChange:e=>b({...j,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(n.p,{value:j.mana_cost,onChange:e=>b({...j,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(n.p,{value:j.type_line,onChange:e=>b({...j,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(m.T,{value:j.oracle_text,onChange:e=>b({...j,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"URL da Imagem"}),(0,t.jsx)(n.p,{value:null===(a=j.image_uris)||void 0===a?void 0:a.normal,onChange:e=>b({...j,image_uris:{...j.image_uris||{},normal:e.target.value}}),placeholder:"https://exemplo.com/imagem.jpg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:j.rarity,onChange:e=>b({...j,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Fonte do Spoiler"}),(0,t.jsx)(n.p,{value:j.spoilerSource,onChange:e=>b({...j,spoilerSource:e.target.value}),placeholder:"Wizards.com, Twitter, etc."})]})]}),(0,t.jsx)(at,{value:"image",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Fa\xe7a upload de uma ou v\xe1rias imagens ou cole da \xe1rea de transfer\xeancia"}),(0,t.jsx)(ap,{onImageUploaded:B,onMultipleImagesUploaded:e=>{if(0===e.length)return;if(1===e.length){B(e[0]);return}let a=e.map((e,a)=>({id:"spoiler-".concat(Date.now(),"-").concat(a),name:j.name||"Carta ".concat(a+1),type_line:j.type_line||"",oracle_text:j.oracle_text||"",mana_cost:j.mana_cost||"",cmc:R(j.mana_cost||""),image_uris:{normal:e,large:e,png:e,art_crop:e},rarity:j.rarity||"common",set:j.set||"eoe",set_name:j.set_name||"Edges of Eternities",collector_number:"".concat(o.length+a+1),isNew:!0,releaseDate:j.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:j.spoilerSource||""}));try{aC(a)?d(e=>[...a,...e]):(I("Algumas imagens podem n\xe3o ter sido salvas devido a limita\xe7\xf5es de armazenamento."),d(e=>[...a,...e])),p(!1),O()}catch(e){console.error("Erro ao adicionar m\xfaltiplas imagens:",e),I("Erro ao adicionar m\xfaltiplas imagens. Tente novamente com menos imagens ou imagens menores.")}},onEditDetails:e=>{z(e),T(!0)}}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Nota: Imagens grandes podem exceder o limite de armazenamento do navegador. Recomendamos usar imagens menores ou comprimir as imagens antes do upload."}),(null===(s=j.image_uris)||void 0===s?void 0:s.normal)&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Pr\xe9via da imagem:"}),(0,t.jsx)("div",{className:"relative w-full h-64 bg-gray-800 rounded-md overflow-hidden",children:(0,t.jsx)("img",{src:j.image_uris.normal,alt:"Pr\xe9via",className:"w-full h-full object-contain"})})]})]})}),(0,t.jsx)(at,{value:"batch",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Fa\xe7a upload de um arquivo JSON contendo m\xfaltiplas cartas"}),(0,t.jsx)(aj,{onCardsUploaded:e=>{let a=e.map((e,a)=>{var s,t,r,l,n,i,c;return{id:"spoiler-batch-".concat(Date.now(),"-").concat(a),name:e.name||"Carta sem nome",type_line:e.type_line||"",oracle_text:e.oracle_text||"",mana_cost:e.mana_cost||"",cmc:R(e.mana_cost||""),image_uris:{normal:(null===(s=e.image_uris)||void 0===s?void 0:s.normal)||"",large:(null===(t=e.image_uris)||void 0===t?void 0:t.large)||(null===(r=e.image_uris)||void 0===r?void 0:r.normal)||"",png:(null===(l=e.image_uris)||void 0===l?void 0:l.png)||(null===(n=e.image_uris)||void 0===n?void 0:n.normal)||"",art_crop:(null===(i=e.image_uris)||void 0===i?void 0:i.art_crop)||(null===(c=e.image_uris)||void 0===c?void 0:c.normal)||""},rarity:e.rarity||"common",set:e.set||"eoe",set_name:e.set_name||"Edges of Eternities",collector_number:"".concat(o.length+a+1),isNew:!0,releaseDate:e.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:e.spoilerSource||""}});try{aC(a)?d(e=>[...a,...e]):(I("Algumas cartas podem n\xe3o ter sido adicionadas devido a limita\xe7\xf5es de armazenamento."),d(e=>[...a,...e])),p(!1)}catch(e){console.error("Erro ao adicionar cartas em lote:",e),I("Erro ao adicionar cartas em lote. Tente novamente com menos imagens ou imagens menores.")}}}),(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-gray-700",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Formato esperado:"}),(0,t.jsx)("pre",{className:"text-xs text-gray-300 overflow-x-auto p-2 bg-gray-900 rounded-md",children:'[\n  {\n    "name": "Nome da Carta",\n    "image_uris": {\n      "normal": "url_da_imagem"\n    },\n    "rarity": "rare"\n  },\n  ...\n]'})]})]})})]}),(0,t.jsxs)(H.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),(0,t.jsxs)(i.$,{onClick:()=>{var e,a,s,t,r;if(!j.name&&!(null===(e=j.image_uris)||void 0===e?void 0:e.normal)){alert("Nome ou imagem s\xe3o obrigat\xf3rios");return}let l={id:"spoiler-".concat(Date.now()),name:j.name||"Carta sem nome",type_line:j.type_line||"",oracle_text:j.oracle_text||"",mana_cost:j.mana_cost||"",cmc:R(j.mana_cost||""),image_uris:{normal:(null===(a=j.image_uris)||void 0===a?void 0:a.normal)||"",large:(null===(s=j.image_uris)||void 0===s?void 0:s.normal)||"",png:(null===(t=j.image_uris)||void 0===t?void 0:t.normal)||"",art_crop:(null===(r=j.image_uris)||void 0===r?void 0:r.normal)||""},rarity:j.rarity||"common",set:j.set||"eoe",set_name:j.set_name||"Edges of Eternities",collector_number:"".concat(o.length+1),isNew:!0,releaseDate:j.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:j.spoilerSource||""};try{aw(l)?(d(e=>[l,...e]),p(!1),O()):I("N\xe3o foi poss\xedvel adicionar a carta devido a limita\xe7\xf5es de armazenamento.")}catch(e){console.error("Erro ao adicionar carta:",e),I("Erro ao adicionar carta. Tente novamente com uma imagem menor.")}},className:"bg-purple-600 hover:bg-purple-700",disabled:"batch"===y,children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-1"}),"Salvar Carta"]})]})]})})]})}var aq=s(4011);let aS=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(aq.bL,{ref:a,className:(0,eh.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});aS.displayName=aq.bL.displayName;let aE=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(aq._V,{ref:a,className:(0,eh.cn)("aspect-square h-full w-full",s),...r})});aE.displayName=aq._V.displayName;let a_=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(aq.H4,{ref:a,className:(0,eh.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});function aP(e){let{trigger:a,children:s,align:l="right"}=e,[n,i]=(0,r.useState)(!1),c=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&o.current&&!o.current.contains(e.target)&&i(!1)};return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n&&i(!1)};return n&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n]),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{ref:o,onClick:()=>i(!n),className:"cursor-pointer",children:a}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"md:hidden fixed inset-0 bg-black/20 z-40",onClick:()=>i(!1)}),(0,t.jsx)("div",{ref:c,className:"dropdown-menu ".concat("right"===l?"right-0":"left-0"),children:s})]})]})}a_.displayName=aq.H4.displayName;var aD=s(1007),aT=s(306),aM=s(2318),az=s(1264),aL=s(2919),aI=s(8126),aR=s(9099);function aF(e){let{isOpen:a,setIsOpen:s,onLogin:l}=e,[c,o]=(0,r.useState)("login"),[d,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)({email:"",password:""}),[h,g]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[p,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(""),N=async e=>{e.preventDefault(),j(!0),v(""),setTimeout(()=>{x.email&&x.password?(l({id:"1",name:x.email.split("@")[0],email:x.email,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(x.email),joinedAt:new Date().toISOString(),collectionsCount:3,totalCards:1247,achievements:["Primeiro Deck Criado","Colecionador Iniciante","Explorador de Cores"]}),s(!1),u({email:"",password:""})):v("Por favor, preencha todos os campos"),j(!1)},1500)},y=async e=>{if(e.preventDefault(),j(!0),v(""),h.password!==h.confirmPassword){v("As senhas n\xe3o coincidem"),j(!1);return}setTimeout(()=>{h.name&&h.email&&h.password?(l({id:"1",name:h.name,email:h.email,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(h.email),joinedAt:new Date().toISOString(),collectionsCount:0,totalCards:0,achievements:["Bem-vindo ao MTG Helper!"]}),s(!1),g({name:"",email:"",password:"",confirmPassword:""})):v("Por favor, preencha todos os campos"),j(!1)},1500)},w=e=>{j(!0),setTimeout(()=>{l({id:"1",name:"Usu\xe1rio ".concat(e),email:"usuario@".concat(e,".com"),avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e),joinedAt:new Date().toISOString(),collectionsCount:2,totalCards:856,achievements:["Login Social","Colecionador Iniciante"]}),s(!1),j(!1)},1e3)};return(0,t.jsx)(H.lG,{open:a,onOpenChange:s,children:(0,t.jsxs)(H.Cf,{className:"sm:max-w-md mtg-modal",children:[(0,t.jsx)(H.c7,{children:(0,t.jsxs)(H.L3,{className:"text-center text-2xl text-white mb-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-4 mx-auto shadow-xl",children:(0,t.jsx)(aD.A,{className:"w-8 h-8 text-white"})}),"Entrar no MTG Helper"]})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mtg-tabs mb-6",children:[(0,t.jsxs)("button",{onClick:()=>o("login"),className:"mtg-tab ".concat("login"===c?"mtg-tab-active":""),children:[(0,t.jsx)(aT.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]}),(0,t.jsxs)("button",{onClick:()=>o("register"),className:"mtg-tab ".concat("register"===c?"mtg-tab-active":""),children:[(0,t.jsx)(aM.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})]}),"login"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(az.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:"email",placeholder:"seu@email.com",value:x.email,onChange:e=>u(a=>({...a,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(aL.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:d?"text":"password",placeholder:"••••••••",value:x.password,onChange:e=>u(a=>({...a,password:e.target.value})),className:"mtg-input pl-10 pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:d?(0,t.jsx)(am.A,{className:"w-4 h-4"}):(0,t.jsx)(f.A,{className:"w-4 h-4"})})]})]}),b&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:b}),(0,t.jsx)(i.$,{type:"submit",className:"quantum-btn w-full primary",disabled:p,children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Entrando..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(aT.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Esqueceu sua senha?"})})]}),"register"===c&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(aD.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:"text",placeholder:"Seu nome",value:h.name,onChange:e=>g(a=>({...a,name:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(az.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:"email",placeholder:"seu@email.com",value:h.email,onChange:e=>g(a=>({...a,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(aL.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:"password",placeholder:"••••••••",value:h.password,onChange:e=>g(a=>({...a,password:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Confirmar Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(aL.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(n.p,{type:"password",placeholder:"••••••••",value:h.confirmPassword,onChange:e=>g(a=>({...a,confirmPassword:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),b&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:b}),(0,t.jsx)(i.$,{type:"submit",className:"quantum-btn w-full primary",disabled:p,children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Criando conta..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(aM.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})})]})}),(0,t.jsxs)("div",{className:"relative my-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t border-slate-700"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-slate-900 px-3 text-slate-400",children:"Ou continue com"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,t.jsxs)(i.$,{onClick:()=>w("google"),disabled:p,className:"quantum-btn compact",children:[(0,t.jsx)(aI.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Google"})]}),(0,t.jsxs)(i.$,{onClick:()=>w("github"),disabled:p,className:"quantum-btn compact",children:[(0,t.jsx)(aR.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"GitHub"})]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-slate-500",children:["Ao continuar, voc\xea concorda com nossos"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Termos de Uso"})," ","e"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Pol\xedtica de Privacidade"})]})]})]})})}var a$=s(3861),aV=s(7951),aO=s(4835);function aB(e){let{user:a,onLogin:s,onLogout:l}=e,[n,c]=(0,r.useState)(!1);return a?(0,t.jsxs)("div",{className:"flex items-center gap-3 lg:gap-6",children:[(0,t.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eM.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:a.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cole\xe7\xf5es"})]})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-slate-700"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:a.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cartas"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(a$.A,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(O.A,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,t.jsxs)(aP,{align:"right",trigger:(0,t.jsxs)(i.$,{variant:"ghost",className:"mtg-user-trigger flex items-center gap-3 px-2 py-1 hover:bg-gray-800/50 relative z-10",type:"button","aria-haspopup":"true",children:[(0,t.jsxs)(aS,{className:"w-10 h-10 ring-2 ring-slate-700",children:[(0,t.jsx)(aE,{src:a.avatar,alt:a.name}),(0,t.jsx)(a_,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:a.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:a.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Online"})]}),(0,t.jsx)(o.A,{className:"w-4 h-4 text-slate-400 hidden md:block"})]}),children:[(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(aS,{className:"w-14 h-14 ring-2 ring-blue-500/30",children:[(0,t.jsx)(aE,{src:a.avatar,alt:a.name}),(0,t.jsx)(a_,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-lg",children:a.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-white text-base",children:a.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 truncate",children:a.email}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-gray-800/50 text-green-400",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]}),(0,t.jsx)("div",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-blue-500 text-xs text-white",children:"PRO"})]})]})]})}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsx)("div",{className:"px-2 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(eM.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-blue-400",children:a.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cole\xe7\xf5es"})]}),(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(N.A,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-purple-400",children:a.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cartas"})]})]})}),a.achievements&&a.achievements.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsxs)("div",{className:"px-2 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(aV.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"font-medium text-slate-200",children:"Conquistas Recentes"})]}),(0,t.jsx)("div",{className:"space-y-2",children:a.achievements.slice(0,2).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(eM.A,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 flex-1 font-medium",children:e})]},a))})]})]}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(aD.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{children:"Meu Perfil"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(eL.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("span",{children:"Analytics"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(eI.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{children:"Comunidade"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(O.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{children:"Configura\xe7\xf5es"})]})]}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-400 rounded-md hover:bg-red-500/20",onClick:l,children:[(0,t.jsx)(aO.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Sair"})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:["        ",(0,t.jsxs)("button",{onClick:()=>c(!0),className:"quantum-btn quantum-btn-primary",children:[(0,t.jsx)(aD.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Entrar"})]}),(0,t.jsx)(aF,{isOpen:n,setIsOpen:c,onLogin:s})]})}var aU=s(4783),aG=s(7340);let aW=e=>{var a,s;let{user:l,activeTab:n,onTabChange:i,onLogout:c,onLogin:o}=e,[d,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),p=[{id:"painel",label:"Dashboard",icon:V.A},{id:"colecao",label:"Cole\xe7\xe3o",icon:Z.A},{id:"decks",label:"Deck Builder",icon:e8.A},{id:"regras",label:"Regras",icon:ar.A},{id:"extras",label:"Recursos",icon:eB.A}];(0,r.useEffect)(()=>{let e=()=>{u(window.scrollY>10),g(window.scrollY>300)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.useEffect)(()=>(d?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d]);let j=e=>{i(e),m(!1)},[b]=(0,r.useState)(2),[v,N]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:"mobile-header ".concat(x?"mobile-header-scrolled":""," mobile-header-animate-in"),children:[(0,t.jsxs)("div",{className:"mobile-header-container mobile-header-content-animate",children:[(0,t.jsxs)("div",{className:"mobile-logo-container",children:[(0,t.jsx)("div",{className:"mobile-logo-badge",onClick:()=>i("painel"),children:(0,t.jsx)("span",{className:"relative z-10",children:"MTG"})}),(0,t.jsxs)("div",{className:"mobile-logo-text",children:[(0,t.jsx)("span",{className:"mobile-logo-title",children:"MTG Helper"}),(0,t.jsx)("span",{className:"mobile-logo-subtitle",children:"Collection Manager"})]})]}),(0,t.jsxs)("button",{className:"mobile-nav-toggle",onClick:()=>m(!0),"aria-label":"Abrir menu de navega\xe7\xe3o",children:[(0,t.jsx)(aU.A,{size:20}),l&&l.totalCards>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full"})]})]}),(0,t.jsxs)("div",{className:"mobile-subheader mobile-header-content-animate",style:{animationDelay:"0.1s"},children:[(0,t.jsxs)("div",{className:"mobile-subheader-title",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(null===(a=p.find(e=>e.id===n))||void 0===a?void 0:a.icon)&&(0,t.jsx)("div",{className:"mobile-subheader-icon",children:(()=>{var e;let a=(null===(e=p.find(e=>e.id===n))||void 0===e?void 0:e.icon)||aG.A;return(0,t.jsx)(a,{size:18,className:"text-indigo-400"})})()}),(0,t.jsx)("span",{children:(null===(s=p.find(e=>e.id===n))||void 0===s?void 0:s.label)||"In\xedcio"})]}),(0,t.jsxs)("div",{className:"mobile-subheader-actions",children:[(0,t.jsxs)("button",{className:"mobile-subheader-button ".concat(v?"bg-blue-900/40 text-blue-400":""),"aria-label":"Pesquisar",onClick:()=>N(!v),children:[(0,t.jsx)(y.A,{size:16}),v&&(0,t.jsx)("span",{className:"absolute inset-0 bg-blue-500/10 animate-pulse rounded-full"})]}),(0,t.jsxs)("button",{className:"mobile-subheader-button relative","aria-label":"Notifica\xe7\xf5es",onClick:()=>alert("Notifica\xe7\xf5es em breve!"),children:[(0,t.jsx)(a$.A,{size:16}),b>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-[10px] text-white font-bold border border-indigo-900",children:b})]})]})]}),v&&(0,t.jsx)("div",{className:"p-2 bg-gray-900/70 border-t border-indigo-500/20 animate-fadeIn",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Pesquisar cartas...",className:"w-full px-3 py-2 bg-gray-800 border border-indigo-500/30 rounded-md text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",autoFocus:!0}),(0,t.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,t.jsx)(y.A,{size:14})})]})})]}),(0,t.jsx)("div",{className:"mobile-nav-overlay ".concat(d?"active":""),onClick:()=>m(!1),style:{backdropFilter:"blur(3px)",zIndex:9998}}),(0,t.jsxs)("nav",{className:"mobile-nav-menu ".concat(d?"open":""),style:{zIndex:9999},children:[(0,t.jsxs)("div",{className:"mobile-menu-header",children:[(0,t.jsxs)("div",{className:"mobile-menu-title",children:["Menu Principal",(0,t.jsx)("div",{className:"text-xs font-normal text-indigo-300 mt-1",children:"Vers\xe3o 1.2.0"})]}),(0,t.jsx)("button",{className:"mobile-menu-close interactive-header-element",onClick:()=>m(!1),"aria-label":"Fechar menu",children:(0,t.jsx)(eY.A,{size:18})})]}),l?(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsxs)("div",{className:"mobile-user-avatar",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.4)"},children:[l.avatar?(0,t.jsx)("img",{src:l.avatar,alt:"Avatar de ".concat(l.name),className:"w-full h-full object-cover rounded-full"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:l.name.charAt(0)}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900"})]}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsxs)("div",{className:"mobile-user-name flex items-center gap-1",children:[l.name,l.totalCards>100&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 bg-gradient-to-r from-amber-400 to-amber-600 rounded-full text-[8px] text-white",title:"Colecionador Experiente",children:"★"})]}),(0,t.jsxs)("div",{className:"mobile-user-stats flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(Z.A,{size:10,className:"text-blue-400"}),l.totalCards||0," cartas"]}),(0,t.jsx)("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(V.A,{size:10,className:"text-purple-400"}),l.collectionsCount||0," cole\xe7\xf5es"]})]})]}),c&&(0,t.jsx)("button",{onClick:c,className:"mobile-subheader-button hover:bg-red-900/30 hover:text-red-400 transition-colors","aria-label":"Sair da conta",children:(0,t.jsx)(aO.A,{size:16})})]}):(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsx)("div",{className:"mobile-user-avatar relative",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:(0,t.jsx)(aD.A,{size:16,className:"text-gray-400"})})}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsx)("div",{className:"mobile-user-name",children:"Visitante"}),(0,t.jsx)("div",{className:"mobile-user-stats",children:"Fa\xe7a login para salvar sua cole\xe7\xe3o"})]}),(0,t.jsx)("button",{className:"mobile-subheader-button hover:bg-blue-900/30 hover:text-blue-400 transition-colors","aria-label":"Entrar na conta",onClick:o,children:(0,t.jsx)(ac.A,{size:16})})]}),(0,t.jsxs)("div",{className:"mobile-menu-content",children:[(0,t.jsx)("div",{className:"py-2 px-4",children:(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Navega\xe7\xe3o"})}),(0,t.jsx)("div",{className:"mobile-nav-links",children:p.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>j(e.id),className:"mobile-nav-link ".concat(n===e.id?"active":""),children:[(0,t.jsx)("span",{className:"mobile-nav-link-icon ".concat(n===e.id?"bg-blue-500/10":""),children:(0,t.jsx)(a,{size:18})}),e.label,(0,t.jsx)("span",{className:"ml-auto transition-transform duration-200 ".concat(n===e.id?"rotate-90":""),children:(0,t.jsx)(ac.A,{size:16,className:n===e.id?"text-blue-400":"text-gray-500"})})]},e.id)})}),(0,t.jsxs)("div",{className:"py-2 px-4 mt-4",children:[(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("button",{className:"mobile-nav-link",children:[(0,t.jsx)("span",{className:"mobile-nav-link-icon",children:(0,t.jsx)(O.A,{size:18})}),"Prefer\xeancias"]})]})]}),(0,t.jsxs)("div",{className:"mobile-menu-footer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[(0,t.jsx)(e$.A,{size:12,className:"text-red-500 animate-pulse"}),(0,t.jsx)("span",{children:"Made for MTG Collectors"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-900/30 rounded text-[10px] text-blue-400 font-medium",children:"v1.2.0"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:"\xa9 2025"})]})]})]}),h&&(0,t.jsxs)("button",{className:"fixed bottom-20 right-4 w-12 h-12 rounded-full bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center shadow-lg z-40 animate-slideUp border-2 border-indigo-900/30",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Voltar ao topo",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-indigo-500/20 animate-pulse"}),(0,t.jsx)(aG.A,{className:"text-white",size:18})]})]})};function aJ(){let[e,a]=(0,r.useState)(null),[s,l]=(0,r.useState)("painel"),[n,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)([]),{currentCollection:d,setCurrentCollection:m,adicionarCarta:x,removerCarta:h}=(0,u.U)(),g=e=>{a(e),localStorage.setItem("mtg-user",JSON.stringify(e))},p=()=>{a(null),localStorage.removeItem("mtg-user")};(0,r.useEffect)(()=>{let e=localStorage.getItem("mtg-user");if(e)try{let s=JSON.parse(e),t={id:s.id||"1",name:s.name||"Usu\xe1rio",email:s.email||"",avatar:s.avatar,joinedAt:s.joinedAt||new Date().toISOString(),collectionsCount:s.collectionsCount||0,totalCards:s.totalCards||0,achievements:s.achievements||[]};a(t)}catch(e){console.error("Erro ao carregar usu\xe1rio salvo:",e),localStorage.removeItem("mtg-user")}},[]);let j=[{id:"painel",label:"Dashboard",icon:V.A,component:(0,t.jsx)(eJ,{onNavigate:l})},{id:"colecao",label:"Cole\xe7\xe3o",icon:Z.A,component:(0,t.jsx)(e_,{allCards:c,setAllCards:o,exportCollectionToCSV:e=>{let a=new Blob([[["Name","Set","Quantity","Foil","Condition","Language"],...e.cards.map(e=>[e.card.name,e.card.set_code,e.quantity.toString(),"Non-foil","Near Mint","English"])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download="".concat(e.name,"_manabox.csv"),t.click(),window.URL.revokeObjectURL(s)}})},{id:"decks",label:"Deck Builder",icon:e8.A,component:(0,t.jsx)(e7,{})},{id:"spoiler",label:"Spoilers",icon:N.A,component:(0,t.jsx)(aA,{isAdmin:(null==e?void 0:e.email)==="admin@example.com"})},{id:"regras",label:"Regras",icon:ar.A,component:(0,t.jsx)(ad,{})},{id:"extras",label:"Recursos",icon:eB.A,component:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4 card-purple",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eB.A,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recursos Avan\xe7ados"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Ferramentas premium para aprimorar sua experi\xeancia MTG"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-blue",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(y.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquisa Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Filtros avan\xe7ados com sintaxe Scryfall"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Em Breve"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-purple",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(a$.A,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Monitoramento de Pre\xe7os"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Alertas sobre pre\xe7os e tend\xeancias"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-yellow-900/30 text-yellow-400",children:"Beta"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-green",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(eR.A,{className:"w-4 h-4 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Analytics Profissional"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Insights sobre sua cole\xe7\xe3o"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-green-900/30 text-green-400",children:"Ativo"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-orange",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(aD.A,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Comunidade MTG"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Conecte-se com colecionadores"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Novo"})]})]})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense card-blue",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ez.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Ferramentas Premium"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(eG.A,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Importa\xe7\xe3o Massiva"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Importe via CSV/Excel"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"API Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Integra\xe7\xe3o com sistemas externos"})]})]})]})})]})]})}];return(0,r.useEffect)(()=>{let e=e=>{document.querySelectorAll(".quantum-card-dense, .compact-header .quantum-card-dense").forEach(a=>{let s=a.getBoundingClientRect(),t=(e.clientX-s.left)/s.width*100,r=(e.clientY-s.top)/s.height*100;t>=0&&t<=100&&r>=0&&r<=100&&(a.style.setProperty("--x","".concat(t,"%")),a.style.setProperty("--y","".concat(r,"%")))})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),(0,t.jsxs)("div",{className:"mtg-app quantum-compact",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)("header",{className:"compact-header sticky top-0 z-50 backdrop-blur-md shadow-lg",children:(0,t.jsx)("div",{className:"mtg-container py-2",children:(0,t.jsxs)("div",{className:"quantum-card-dense p-2 flex items-center justify-between bg-gradient-to-r from-gray-900/95 via-gray-800/90 to-gray-900/95 border border-cyan-900/30 rounded-lg card-glow",children:[(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 group",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-600 via-cyan-700 to-cyan-800 rounded-md flex items-center justify-center text-white font-bold shadow-md shadow-cyan-700/20 group-hover:shadow-cyan-500/30 transition-all",children:(0,t.jsx)("span",{className:"text-xs font-black tracking-wider",children:"MTG"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("h1",{className:"text-base font-bold text-white m-0 tracking-tight flex items-center",children:["MTG Helper",(0,t.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-cyan-600/20 border border-cyan-500/30 rounded-full text-[9px] font-medium text-cyan-300",children:"v2.5"})]}),(0,t.jsx)("p",{className:"text-[10px] text-cyan-300 m-0",children:"Premium Collection Manager"}),(0,t.jsx)("div",{className:"absolute h-0.5 w-0 bg-cyan-400 bottom-0 left-0 group-hover:w-full transition-all duration-300"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"hidden lg:flex items-center gap-1",children:(0,t.jsx)("a",{href:"#",className:"px-2 py-1 text-xs text-cyan-200 hover:text-white transition-colors rounded-md hover:bg-cyan-800/20",children:"Suporte"})}),(0,t.jsx)("div",{className:"h-5 w-px bg-cyan-800/30 hidden lg:block"}),(0,t.jsx)(aB,{user:e,onLogin:g,onLogout:p})]})]})})})}),(0,t.jsx)("div",{className:"block md:hidden",children:(0,t.jsx)(aW,{user:e,activeTab:s,onTabChange:l,onLogout:p,onLogin:()=>i(!0)})}),(0,t.jsx)(aF,{isOpen:n,setIsOpen:i,onLogin:g}),(0,t.jsxs)("div",{className:"mtg-container mt-4 relative",children:[(0,t.jsx)("div",{className:"ambient-glow-main pointer-events-none"}),(0,t.jsx)("nav",{className:"mb-3 responsive-nav",children:(0,t.jsxs)(ae,{value:s,onValueChange:l,className:"w-full navigation-tabs",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-2 md:p-3 bg-gradient-to-r from-gray-900/95 via-gray-800/90 to-gray-900/95 border border-cyan-900/30 rounded-lg card-glow relative",children:[(0,t.jsx)("div",{className:"nav-ambient-glow pointer-events-none"}),(0,t.jsx)(aa,{className:"mobile-tabs-grid flex flex-wrap justify-center gap-2 py-2 px-1 bg-transparent border-0 relative z-10 tab-list-container h-auto overflow-visible",children:j.map(e=>{let a=e.icon;return(0,t.jsxs)(as,{value:e.id,className:"quantum-tab group relative overflow-hidden z-20 border border-cyan-900/20 hover:border-cyan-600/30 transition-colors rounded-md",children:[(0,t.jsx)("span",{className:"tab-glow absolute inset-0 opacity-0 group-hover:opacity-30 group-data-[state=active]:opacity-60 transition-opacity pointer-events-none bg-cyan-600/20"}),(0,t.jsxs)("div",{className:"tab-content flex flex-col md:flex-row items-center justify-center relative z-10",children:[(0,t.jsx)("div",{className:"icon-container",children:(0,t.jsx)(a,{className:"w-4 h-4 md:mr-1.5 mb-0 tab-icon text-cyan-400"})}),(0,t.jsx)("span",{className:"text-xs font-medium tracking-wide tab-label text-gray-300",children:e.label})]})]},e.id)})}),(0,t.jsxs)("div",{className:"flex justify-center mt-2 mb-1 relative",children:[(0,t.jsx)("div",{className:"tab-indicator-container",children:(0,t.jsx)("div",{className:"tab-indicator-active",style:{background:"linear-gradient(135deg, rgba(8, 145, 178, 0.9), rgb(0 0 0 / 80%))"}})}),(0,t.jsx)("div",{className:"tab-indicator-glow"})]})]}),j.map(e=>(0,t.jsx)(at,{value:e.id,className:"quantum-content-area p-0 mt-3 transition-all duration-300 ease-in-out",children:(0,t.jsx)("div",{className:"content-wrapper",children:e.component})},e.id))]})})]})]})}},5319:()=>{},5640:()=>{},5708:(e,a,s)=>{"use strict";s.d(a,{VG:()=>r});let t=e=>{try{var a,s,t,r,l,n,i,c,o;if(!e.prints_search_uri)return e.image_uris||((null===(l=e.card_faces)||void 0===l?void 0:null===(r=l[0])||void 0===r?void 0:r.image_uris)?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:null===(n=e.card_faces[1])||void 0===n?void 0:n.image_uris}:null);if("pt"===e.lang||"pt-br"===e.lang)return e.image_uris||((null===(c=e.card_faces)||void 0===c?void 0:null===(i=c[0])||void 0===i?void 0:i.image_uris)?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:null===(o=e.card_faces[1])||void 0===o?void 0:o.image_uris}:null);if(e.all_parts&&Array.isArray(e.all_parts)){let a=e.all_parts.find(e=>"pt"===e.lang||"pt-br"===e.lang);if(a&&a.image_uris)return a.image_uris}return e.image_uris||((null===(s=e.card_faces)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.image_uris)?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:null===(t=e.card_faces[1])||void 0===t?void 0:t.image_uris}:null)}catch(e){return console.error("Erro ao processar imagens da carta:",e),null}},r=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";try{let l=t(e);if(!l)return"";if(l.isDoubleFaced){var s,r;return(null===(s=l.front)||void 0===s?void 0:s[a])||(null===(r=l.front)||void 0===r?void 0:r.normal)||""}return l[a]||l.normal||""}catch(e){return console.error("Erro ao obter URL da imagem:",e),""}}},5784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>x,eb:()=>p,gC:()=>g,l6:()=>d,yv:()=>m});var t=s(5155),r=s(2115),l=s(2697),n=s(6474),i=s(7863),c=s(5196),o=s(3999);let d=l.bL;l.YJ;let m=l.WT;l.LM.displayName="SelectViewport";let x=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(l.l9,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let g=r.forwardRef((e,a)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:a,className:(0,o.cn)("z-[9999] max-h-96 min-w-[8rem] rounded-lg text-gray-200 bg-gray-800/95 shadow-2xl overflow-hidden border border-gray-700/50 p-1",s),position:n,sideOffset:4,align:"center",side:"bottom",avoidCollisions:!0,collisionPadding:8,...i,children:[(0,t.jsx)(u,{}),(0,t.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(h,{})]})})});g.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let p=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(l.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-pointer select-none items-center rounded-md py-2 pl-8 pr-2 text-sm text-gray-200 outline-none focus:bg-blue-500/20 hover:bg-blue-500/10 hover:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[highlighted]:bg-blue-500/20 data-[highlighted]:text-white",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:r})]})});p.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},6346:(e,a,s)=>{Promise.resolve().then(s.bind(s,5311))},6440:()=>{},6520:()=>{},6631:()=>{},6918:()=>{},7733:()=>{},8005:()=>{},8278:()=>{},8501:()=>{},8704:()=>{},9178:()=>{},9474:(e,a,s)=>{"use strict";s.d(a,{T:()=>n});var t=s(5155),r=s(2115),l=s(3999);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-sm text-white ring-offset-background placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});n.displayName="Textarea"},9840:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>x,Es:()=>h,L3:()=>g,c7:()=>u,lG:()=>c,zM:()=>o});var t=s(5155),r=s(2115),l=s(5452),n=s(4416),i=s(3999);let c=l.bL,o=l.l9,d=l.ZL;l.bm;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-[9998] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(m,{className:"dialog-overlay"}),(0,t.jsxs)(l.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 p-6 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dialog-content",s),...c,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};u.displayName="DialogHeader";let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};h.displayName="DialogFooter";let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});g.displayName=l.hE.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.VY.displayName},9930:()=>{}},e=>{var a=a=>e(e.s=a);e.O(0,[262,683,476,287,582,718,761,448,803,444,103,783,675,451,670,441,684,358],()=>a(6346)),_N_E=e.O()}]);
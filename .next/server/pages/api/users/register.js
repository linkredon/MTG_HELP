"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users/register";
exports.ids = ["pages/api/users/register"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cregister.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cregister.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_register_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users\\register.js */ \"(api)/./pages/api/users/register.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_register_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_register_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users/register\",\n        pathname: \"/api/users/register\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_register_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJTJGcmVnaXN0ZXImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3VzZXJzJTVDcmVnaXN0ZXIuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx5REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdGctaGVscGVyLz82NjQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcdXNlcnNcXFxccmVnaXN0ZXIuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vycy9yZWdpc3RlclwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzL3JlZ2lzdGVyXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cregister.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Por favor, defina a vari\\xe1vel de ambiente MONGODB_URI dentro de .env.local\");\n}\n/**\n * Global é usado aqui para manter uma conexão em cache entre hot reloads\n * em desenvolvimento. Isso evita conexões crescentes sempre que\n * o servidor API é reiniciado.\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9OLFFBQVE7QUFFNUIsSUFBSSxDQUFDSyxRQUFRO0lBQ1hBLFNBQVNDLE9BQU9OLFFBQVEsR0FBRztRQUFFTyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN6RDtBQUVBLGVBQWVDO0lBQ2IsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CLE1BQU1FLE9BQU87WUFDWEMsZ0JBQWdCO1FBQ2xCO1FBRUFOLE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWFTLE1BQU1HLElBQUksQ0FBQyxDQUFDYjtZQUN6RCxPQUFPQTtRQUNUO0lBQ0Y7SUFDQUssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXRnLWhlbHBlci8uL2xpYi9kYkNvbm5lY3QuanM/MWQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnUG9yIGZhdm9yLCBkZWZpbmEgYSB2YXJpw6F2ZWwgZGUgYW1iaWVudGUgTU9OR09EQl9VUkkgZGVudHJvIGRlIC5lbnYubG9jYWwnXG4gICk7XG59XG5cbi8qKlxuICogR2xvYmFsIMOpIHVzYWRvIGFxdWkgcGFyYSBtYW50ZXIgdW1hIGNvbmV4w6NvIGVtIGNhY2hlIGVudHJlIGhvdCByZWxvYWRzXG4gKiBlbSBkZXNlbnZvbHZpbWVudG8uIElzc28gZXZpdGEgY29uZXjDtWVzIGNyZXNjZW50ZXMgc2VtcHJlIHF1ZVxuICogbyBzZXJ2aWRvciBBUEkgw6kgcmVpbmljaWFkby5cbiAqL1xubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcblxuaWYgKCFjYWNoZWQpIHtcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcbiAgaWYgKGNhY2hlZC5jb25uKSB7XG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xuICB9XG5cbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXG4gICAgfTtcblxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcbiAgICAgIHJldHVybiBtb25nb29zZTtcbiAgICB9KTtcbiAgfVxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICByZXR1cm4gY2FjaGVkLmNvbm47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Por favor, forne\\xe7a um nome\"\n        ],\n        maxlength: [\n            50,\n            \"Nome n\\xe3o pode ter mais de 50 caracteres\"\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Por favor, forne\\xe7a um email\"\n        ],\n        unique: true,\n        match: [\n            /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Por favor, forne\\xe7a um email v\\xe1lido\"\n        ]\n    },\n    password: {\n        type: String,\n        required: [\n            true,\n            \"Por favor, forne\\xe7a uma senha\"\n        ],\n        minlength: [\n            6,\n            \"Senha deve ter pelo menos 6 caracteres\"\n        ],\n        select: false\n    },\n    avatar: {\n        type: String,\n        default: \"\"\n    },\n    joinedAt: {\n        type: Date,\n        default: Date.now\n    },\n    collectionsCount: {\n        type: Number,\n        default: 0\n    },\n    totalCards: {\n        type: Number,\n        default: 0\n    },\n    achievements: {\n        type: Array,\n        default: []\n    },\n    role: {\n        type: String,\n        enum: [\n            \"user\",\n            \"admin\"\n        ],\n        default: \"user\"\n    },\n    resetPasswordToken: String,\n    resetPasswordExpire: Date\n}, {\n    timestamps: true\n});\n// Criptografar senha antes de salvar\nUserSchema.pre(\"save\", async function(next) {\n    if (!this.isModified(\"password\")) {\n        next();\n    }\n    const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n    this.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(this.password, salt);\n});\n// Método para verificar senha\nUserSchema.methods.matchPassword = async function(enteredPassword) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(enteredPassword, this.password);\n};\n// Método para gerar token JWT\nUserSchema.methods.getSignedJwtToken = function() {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n        id: this._id\n    }, process.env.JWT_SECRET, {\n        expiresIn: process.env.JWT_EXPIRE\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvVXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdDO0FBQ0Y7QUFDQztBQUUvQixNQUFNRyxhQUFhLElBQUlILHdEQUFlLENBQUM7SUFDckNLLE1BQU07UUFDSkMsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBNkI7UUFDOUNDLFdBQVc7WUFBQztZQUFJO1NBQTBDO0lBQzVEO0lBQ0FDLE9BQU87UUFDTEosTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBOEI7UUFDL0NHLFFBQVE7UUFDUkMsT0FBTztZQUNMO1lBQ0E7U0FDRDtJQUNIO0lBQ0FDLFVBQVU7UUFDUlAsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBK0I7UUFDaERNLFdBQVc7WUFBQztZQUFHO1NBQXlDO1FBQ3hEQyxRQUFRO0lBQ1Y7SUFDQUMsUUFBUTtRQUNOVixNQUFNQztRQUNOVSxTQUFTO0lBQ1g7SUFDQUMsVUFBVTtRQUNSWixNQUFNYTtRQUNORixTQUFTRSxLQUFLQyxHQUFHO0lBQ25CO0lBQ0FDLGtCQUFrQjtRQUNoQmYsTUFBTWdCO1FBQ05MLFNBQVM7SUFDWDtJQUNBTSxZQUFZO1FBQ1ZqQixNQUFNZ0I7UUFDTkwsU0FBUztJQUNYO0lBQ0FPLGNBQWM7UUFDWmxCLE1BQU1tQjtRQUNOUixTQUFTLEVBQUU7SUFDYjtJQUNBUyxNQUFNO1FBQ0pwQixNQUFNQztRQUNOb0IsTUFBTTtZQUFDO1lBQVE7U0FBUTtRQUN2QlYsU0FBUztJQUNYO0lBQ0FXLG9CQUFvQnJCO0lBQ3BCc0IscUJBQXFCVjtBQUN2QixHQUFHO0lBQ0RXLFlBQVk7QUFDZDtBQUVBLHFDQUFxQztBQUNyQzNCLFdBQVc0QixHQUFHLENBQUMsUUFBUSxlQUFlQyxJQUFJO0lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUNDLFVBQVUsQ0FBQyxhQUFhO1FBQ2hDRDtJQUNGO0lBRUEsTUFBTUUsT0FBTyxNQUFNakMsdURBQWMsQ0FBQztJQUNsQyxJQUFJLENBQUNZLFFBQVEsR0FBRyxNQUFNWixvREFBVyxDQUFDLElBQUksQ0FBQ1ksUUFBUSxFQUFFcUI7QUFDbkQ7QUFFQSw4QkFBOEI7QUFDOUIvQixXQUFXa0MsT0FBTyxDQUFDQyxhQUFhLEdBQUcsZUFBZUMsZUFBZTtJQUMvRCxPQUFPLE1BQU10Qyx1REFBYyxDQUFDc0MsaUJBQWlCLElBQUksQ0FBQzFCLFFBQVE7QUFDNUQ7QUFFQSw4QkFBOEI7QUFDOUJWLFdBQVdrQyxPQUFPLENBQUNJLGlCQUFpQixHQUFHO0lBQ3JDLE9BQU92Qyx3REFBUSxDQUFDO1FBQUV5QyxJQUFJLElBQUksQ0FBQ0MsR0FBRztJQUFDLEdBQUdDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxFQUFFO1FBQ3hEQyxXQUFXSCxRQUFRQyxHQUFHLENBQUNHLFVBQVU7SUFDbkM7QUFDRjtBQUVBLGlFQUFlakQsd0RBQWUsQ0FBQ21ELElBQUksSUFBSW5ELHFEQUFjLENBQUMsUUFBUUcsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL210Zy1oZWxwZXIvLi9tb2RlbHMvVXNlci5qcz83MzY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1BvciBmYXZvciwgZm9ybmXDp2EgdW0gbm9tZSddLFxuICAgIG1heGxlbmd0aDogWzUwLCAnTm9tZSBuw6NvIHBvZGUgdGVyIG1haXMgZGUgNTAgY2FyYWN0ZXJlcyddXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1BvciBmYXZvciwgZm9ybmXDp2EgdW0gZW1haWwnXSxcbiAgICB1bmlxdWU6IHRydWUsXG4gICAgbWF0Y2g6IFtcbiAgICAgIC9eXFx3KyhbXFwuLV0/XFx3KykqQFxcdysoW1xcLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8sXG4gICAgICAnUG9yIGZhdm9yLCBmb3JuZcOnYSB1bSBlbWFpbCB2w6FsaWRvJ1xuICAgIF1cbiAgfSxcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUG9yIGZhdm9yLCBmb3JuZcOnYSB1bWEgc2VuaGEnXSxcbiAgICBtaW5sZW5ndGg6IFs2LCAnU2VuaGEgZGV2ZSB0ZXIgcGVsbyBtZW5vcyA2IGNhcmFjdGVyZXMnXSxcbiAgICBzZWxlY3Q6IGZhbHNlXG4gIH0sXG4gIGF2YXRhcjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnJ1xuICB9LFxuICBqb2luZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgfSxcbiAgY29sbGVjdGlvbnNDb3VudDoge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG4gIHRvdGFsQ2FyZHM6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgZGVmYXVsdDogMFxuICB9LFxuICBhY2hpZXZlbWVudHM6IHtcbiAgICB0eXBlOiBBcnJheSxcbiAgICBkZWZhdWx0OiBbXVxuICB9LFxuICByb2xlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IFsndXNlcicsICdhZG1pbiddLFxuICAgIGRlZmF1bHQ6ICd1c2VyJ1xuICB9LFxuICByZXNldFBhc3N3b3JkVG9rZW46IFN0cmluZyxcbiAgcmVzZXRQYXNzd29yZEV4cGlyZTogRGF0ZVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuLy8gQ3JpcHRvZ3JhZmFyIHNlbmhhIGFudGVzIGRlIHNhbHZhclxuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICghdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSB7XG4gICAgbmV4dCgpO1xuICB9XG4gIFxuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xuICB0aGlzLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwgc2FsdCk7XG59KTtcblxuLy8gTcOpdG9kbyBwYXJhIHZlcmlmaWNhciBzZW5oYVxuVXNlclNjaGVtYS5tZXRob2RzLm1hdGNoUGFzc3dvcmQgPSBhc3luYyBmdW5jdGlvbihlbnRlcmVkUGFzc3dvcmQpIHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKGVudGVyZWRQYXNzd29yZCwgdGhpcy5wYXNzd29yZCk7XG59O1xuXG4vLyBNw6l0b2RvIHBhcmEgZ2VyYXIgdG9rZW4gSldUXG5Vc2VyU2NoZW1hLm1ldGhvZHMuZ2V0U2lnbmVkSnd0VG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGp3dC5zaWduKHsgaWQ6IHRoaXMuX2lkIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkpXVF9FWFBJUkVcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbCgnVXNlcicsIFVzZXJTY2hlbWEpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImJjcnlwdCIsImp3dCIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWF4bGVuZ3RoIiwiZW1haWwiLCJ1bmlxdWUiLCJtYXRjaCIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwic2VsZWN0IiwiYXZhdGFyIiwiZGVmYXVsdCIsImpvaW5lZEF0IiwiRGF0ZSIsIm5vdyIsImNvbGxlY3Rpb25zQ291bnQiLCJOdW1iZXIiLCJ0b3RhbENhcmRzIiwiYWNoaWV2ZW1lbnRzIiwiQXJyYXkiLCJyb2xlIiwiZW51bSIsInJlc2V0UGFzc3dvcmRUb2tlbiIsInJlc2V0UGFzc3dvcmRFeHBpcmUiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsImlzTW9kaWZpZWQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJtZXRob2RzIiwibWF0Y2hQYXNzd29yZCIsImVudGVyZWRQYXNzd29yZCIsImNvbXBhcmUiLCJnZXRTaWduZWRKd3RUb2tlbiIsInNpZ24iLCJpZCIsIl9pZCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiSldUX0VYUElSRSIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/User.js\n");

/***/ }),

/***/ "(api)/./pages/api/users/register.js":
/*!*************************************!*\
  !*** ./pages/api/users/register.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/User */ \"(api)/./models/User.js\");\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"M\\xe9todo n\\xe3o permitido\"\n        });\n    }\n    try {\n        await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const { name, email, password } = req.body;\n        // Verificar se o usuário já existe\n        const userExists = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email\n        });\n        if (userExists) {\n            return res.status(400).json({\n                success: false,\n                message: \"Email j\\xe1 est\\xe1 em uso\"\n            });\n        }\n        // Criar usuário\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            name,\n            email,\n            password\n        });\n        // Gerar token JWT\n        const token = user.getSignedJwtToken();\n        // Retornar resposta com token\n        res.status(201).json({\n            success: true,\n            token,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email,\n                avatar: user.avatar,\n                role: user.role,\n                joinedAt: user.joinedAt,\n                collectionsCount: user.collectionsCount,\n                totalCards: user.totalCards,\n                achievements: user.achievements\n            }\n        });\n    } catch (error) {\n        console.error(\"Erro ao registrar usu\\xe1rio:\", error);\n        res.status(500).json({\n            success: false,\n            message: \"Erro ao registrar usu\\xe1rio\",\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlcnMvcmVnaXN0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdDO0FBQ1A7QUFFbEIsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPQyxTQUFTO1FBQXVCO0lBQ2hGO0lBRUEsSUFBSTtRQUNGLE1BQU1ULDBEQUFTQTtRQUVmLE1BQU0sRUFBRVUsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHVCxJQUFJVSxJQUFJO1FBRTFDLG1DQUFtQztRQUNuQyxNQUFNQyxhQUFhLE1BQU1iLG9EQUFJQSxDQUFDYyxPQUFPLENBQUM7WUFBRUo7UUFBTTtRQUU5QyxJQUFJRyxZQUFZO1lBQ2QsT0FBT1YsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT0MsU0FBUztZQUF1QjtRQUNoRjtRQUVBLGdCQUFnQjtRQUNoQixNQUFNTyxPQUFPLE1BQU1mLG9EQUFJQSxDQUFDZ0IsTUFBTSxDQUFDO1lBQzdCUDtZQUNBQztZQUNBQztRQUNGO1FBRUEsa0JBQWtCO1FBQ2xCLE1BQU1NLFFBQVFGLEtBQUtHLGlCQUFpQjtRQUVwQyw4QkFBOEI7UUFDOUJmLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFU7WUFDQUYsTUFBTTtnQkFDSkksSUFBSUosS0FBS0ssR0FBRztnQkFDWlgsTUFBTU0sS0FBS04sSUFBSTtnQkFDZkMsT0FBT0ssS0FBS0wsS0FBSztnQkFDakJXLFFBQVFOLEtBQUtNLE1BQU07Z0JBQ25CQyxNQUFNUCxLQUFLTyxJQUFJO2dCQUNmQyxVQUFVUixLQUFLUSxRQUFRO2dCQUN2QkMsa0JBQWtCVCxLQUFLUyxnQkFBZ0I7Z0JBQ3ZDQyxZQUFZVixLQUFLVSxVQUFVO2dCQUMzQkMsY0FBY1gsS0FBS1csWUFBWTtZQUNqQztRQUNGO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBOEJBO1FBQzVDeEIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLFNBQVM7WUFBNkJtQixPQUFPQSxNQUFNbkIsT0FBTztRQUFDO0lBQ3BHO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tdGctaGVscGVyLy4vcGFnZXMvYXBpL3VzZXJzL3JlZ2lzdGVyLmpzPzUwNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiQ29ubmVjdCBmcm9tICdAL2xpYi9kYkNvbm5lY3QnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbHMvVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTcOpdG9kbyBuw6NvIHBlcm1pdGlkbycgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuXG4gICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gVmVyaWZpY2FyIHNlIG8gdXN1w6FyaW8gasOhIGV4aXN0ZVxuICAgIGNvbnN0IHVzZXJFeGlzdHMgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcblxuICAgIGlmICh1c2VyRXhpc3RzKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0VtYWlsIGrDoSBlc3TDoSBlbSB1c28nIH0pO1xuICAgIH1cblxuICAgIC8vIENyaWFyIHVzdcOhcmlvXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgIG5hbWUsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkXG4gICAgfSk7XG5cbiAgICAvLyBHZXJhciB0b2tlbiBKV1RcbiAgICBjb25zdCB0b2tlbiA9IHVzZXIuZ2V0U2lnbmVkSnd0VG9rZW4oKTtcblxuICAgIC8vIFJldG9ybmFyIHJlc3Bvc3RhIGNvbSB0b2tlblxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB0b2tlbixcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgaWQ6IHVzZXIuX2lkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIGpvaW5lZEF0OiB1c2VyLmpvaW5lZEF0LFxuICAgICAgICBjb2xsZWN0aW9uc0NvdW50OiB1c2VyLmNvbGxlY3Rpb25zQ291bnQsXG4gICAgICAgIHRvdGFsQ2FyZHM6IHVzZXIudG90YWxDYXJkcyxcbiAgICAgICAgYWNoaWV2ZW1lbnRzOiB1c2VyLmFjaGlldmVtZW50c1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcmVnaXN0cmFyIHVzdcOhcmlvOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRXJybyBhbyByZWdpc3RyYXIgdXN1w6FyaW8nLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJVc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsInVzZXJFeGlzdHMiLCJmaW5kT25lIiwidXNlciIsImNyZWF0ZSIsInRva2VuIiwiZ2V0U2lnbmVkSnd0VG9rZW4iLCJpZCIsIl9pZCIsImF2YXRhciIsInJvbGUiLCJqb2luZWRBdCIsImNvbGxlY3Rpb25zQ291bnQiLCJ0b3RhbENhcmRzIiwiYWNoaWV2ZW1lbnRzIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/register.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5Cregister.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
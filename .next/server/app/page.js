(()=>{var e={};e.id=974,e.ids=[974],e.modules={512:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{default:function(){return g},defaultHead:function(){return m}});let t=s(4985),r=s(740),l=s(687),i=r._(s(3210)),n=t._(s(7755)),c=s(4959),d=s(9513),o=s(4604);function m(e){void 0===e&&(e=!1);let a=[(0,l.jsx)("meta",{charSet:"utf-8"},"charset")];return e||a.push((0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),a}function x(e,a){return"string"==typeof a||"number"==typeof a?e:a.type===i.default.Fragment?e.concat(i.default.Children.toArray(a.props.children).reduce((e,a)=>"string"==typeof a||"number"==typeof a?e:e.concat(a),[])):e.concat(a)}s(148);let u=["name","httpEquiv","charSet","itemProp"];function h(e,a){let{inAmpMode:s}=a;return e.reduce(x,[]).reverse().concat(m(s).reverse()).filter(function(){let e=new Set,a=new Set,s=new Set,t={};return r=>{let l=!0,i=!1;if(r.key&&"number"!=typeof r.key&&r.key.indexOf("$")>0){i=!0;let a=r.key.slice(r.key.indexOf("$")+1);e.has(a)?l=!1:e.add(a)}switch(r.type){case"title":case"base":a.has(r.type)?l=!1:a.add(r.type);break;case"meta":for(let e=0,a=u.length;e<a;e++){let a=u[e];if(r.props.hasOwnProperty(a)){if("charSet"===a)s.has(a)?l=!1:s.add(a);else{let e=r.props[a],s=t[a]||new Set;("name"!==a||!i)&&s.has(e)?l=!1:(s.add(e),t[a]=s)}}}}return l}}()).reverse().map((e,a)=>{let t=e.key||a;if(process.env.__NEXT_OPTIMIZE_FONTS&&!s&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(a=>e.props.href.startsWith(a))){let a={...e.props||{}};return a["data-href"]=a.href,a.href=void 0,a["data-optimized-fonts"]=!0,i.default.cloneElement(e,a)}return i.default.cloneElement(e,{key:t})})}let g=function(e){let{children:a}=e,s=(0,i.useContext)(c.AmpStateContext),t=(0,i.useContext)(d.HeadManagerContext);return(0,l.jsx)(n.default,{reduceComponentsToState:h,headManager:t,inAmpMode:(0,o.isInAmpMode)(s),children:a})};("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},597:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\P\xc1GINA MTG HELPER\\\\colecao-page-main\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\page.tsx","default")},670:()=>{},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},871:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var t=s(5239),r=s(8088),l=s(8170),i=s.n(l),n=s(893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(a,c);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,597)),"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}],o=["F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1261:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{default:function(){return c},getImageProps:function(){return n}});let t=s(4985),r=s(4953),l=s(6533),i=t._(s(1933));function n(e){let{props:a}=(0,r.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(a))void 0===s&&delete a[e];return{props:a}}let c=l.Image},1480:(e,a)=>{"use strict";function s(e){let{widthInt:a,heightInt:s,blurWidth:t,blurHeight:r,blurDataURL:l,objectFit:i}=e,n=t?40*t:a,c=r?40*r:s,d=n&&c?"viewBox='0 0 "+n+" "+c+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+l+"'/%3E%3C/svg%3E"}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},1531:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},1573:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>s6});var t=s(687);s(4979),s(8688),s(3218),s(9556),s(8236),s(670),s(4211),s(9505),s(3744),s(1821),s(4576),s(4208),s(3262);var r=s(3210),l=s.n(r),i=s(1261),n=s.n(i),c=s(8988),d=s(4934),o=s(9821),m=s(8272);function x({value:e,onChange:a,options:s,placeholder:l="Selecione...",className:i=""}){let[n,c]=(0,r.useState)(!1),d=(0,r.useRef)(null),o=s.find(a=>a.value===e);return(0,t.jsxs)("div",{ref:d,className:`relative ${i}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-7 px-2 py-1 bg-gray-800 border border-gray-700 rounded-md text-sm text-white cursor-pointer",onClick:()=>c(!n),children:[(0,t.jsx)("span",{className:"truncate",children:o?o.label:l}),(0,t.jsx)(m.A,{className:"w-4 h-4 ml-1 text-gray-400"})]}),n&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-md shadow-lg",children:s.map(s=>(0,t.jsx)("div",{className:`px-2 py-1 text-sm cursor-pointer hover:bg-gray-700 ${s.value===e?"bg-gray-700 text-white":"text-gray-300"}`,onClick:()=>{a(s.value),c(!1)},children:s.label},s.value))})]})}var u=s(5616),h=s(2673),g=s(7493),p=s(2688);let j=(0,p.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var b=s(6474),v=s(5748),f=s(3613),N=s(3589);let y=(0,p.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var w=s(4398),C=s(3861),k=s(9270),S=s(6882);let A=(0,p.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var q=s(3124),$=s(5959);function _({card:e,collection:a,compact:s=!1}){let l=(0,r.useMemo)(()=>a.filter(a=>a.card.id===e.id).reduce((e,a)=>e+a.quantity,0),[e.id,a]);return 0===l?null:s?(0,t.jsxs)(o.E,{variant:"outline",className:"h-5 px-1.5 bg-blue-900/50 text-blue-300 border-blue-700/50 text-[10px] ml-1",children:[l,"x"]}):(0,t.jsxs)(o.E,{variant:"secondary",className:"bg-blue-600/90 text-white border-blue-500/50 shadow-glow-sm",children:[l,"x"]})}var E=s(5366);let M=(0,p.A)("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]),P=(0,p.A)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),z=({className:e="",size:a="default"})=>{let{visualizationType:s,setVisualizationType:r}=(0,h.h)(),l="sm"===a?"h-7 w-7 p-1":"h-9 w-9 p-2";return(0,t.jsxs)("div",{className:`inline-flex items-center rounded-md overflow-hidden shadow-sm shadow-blue-500/10 ${e}`,children:[(0,t.jsxs)(d.$,{variant:"list"===s?"default":"outline",size:"icon",className:`${l} ${"list"===s?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,onClick:()=>r("list"),title:"Lista: Visualiza\xe7\xe3o compacta em linhas (ideal para ver muitas cartas)","aria-label":"Visualiza\xe7\xe3o em lista",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),"sm"!==a&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Lista"})]}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-gray-700 opacity-50"}),(0,t.jsxs)(d.$,{variant:"grid"===s?"default":"outline",size:"icon",className:`${l} ${"grid"===s?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,onClick:()=>r("grid"),title:"Grade: Visualiza\xe7\xe3o em miniaturas (melhor para ver imagens das cartas)","aria-label":"Visualiza\xe7\xe3o em grade",children:[(0,t.jsx)(M,{className:"h-4 w-4"}),"sm"!==a&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Grade"})]}),(0,t.jsx)("div",{className:"w-[1px] h-full bg-gray-700 opacity-50"}),(0,t.jsxs)(d.$,{variant:"details"===s?"default":"outline",size:"icon",className:`${l} ${"details"===s?"bg-blue-600 hover:bg-blue-700 rounded-none border-0":"border-0 rounded-none text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,onClick:()=>r("details"),title:"Detalhes: Visualiza\xe7\xe3o expandida com informa\xe7\xf5es completas (ideal para ler os textos das cartas)","aria-label":"Visualiza\xe7\xe3o em detalhes",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),"sm"!==a&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"Detalhes"})]})]})},T={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}},rarity:e=>{try{if(!e)return"comum";return e.rarity||"comum"}catch(e){return console.warn("Erro ao acessar rarity",e),"comum"}}},D=e=>{switch(e.toLowerCase()){case"common":default:return"border-gray-500";case"uncommon":return"border-green-500";case"rare":return"border-yellow-500";case"mythic":return"border-orange-500";case"special":return"border-purple-500";case"bonus":return"border-blue-300"}},I=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-yellow-400";case"mythic":return"text-orange-400";case"special":return"text-purple-400";case"bonus":return"text-blue-300"}},R=(e,a="small")=>(0,q.VG)(e,a),L=l().memo(({onAdd:e,compact:a=!1})=>{let[s,l]=(0,r.useState)(1),[i,n]=(0,r.useState)(!1),c=(0,r.useCallback)(()=>{e(s),n(!0),setTimeout(()=>n(!1),1e3)},[s,e]),o=(0,r.useCallback)(()=>{l(e=>Math.min(e+1,99))},[]),m=(0,r.useCallback)(()=>{l(e=>Math.max(e-1,1))},[]);return a?(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:c,disabled:i,children:i?(0,t.jsx)(j,{className:"h-3 w-3 animate-spin"}):(0,t.jsx)(b.A,{className:"h-3 w-3"})})}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:m,children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}),(0,t.jsx)("div",{className:"w-6 text-center text-sm font-medium",children:s}),(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-7 w-7 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:o,children:(0,t.jsx)(b.A,{className:"h-3 w-3"})}),(0,t.jsxs)(d.$,{variant:"default",className:"h-7 px-2 text-xs bg-blue-600 hover:bg-blue-700",onClick:c,disabled:i,children:[i?(0,t.jsx)(j,{className:"h-3 w-3 animate-spin mr-1"}):(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),(0,t.jsx)("span",{children:"Adicionar"})]})]})});L.displayName="QuantityControl";let O=l().memo(({card:e,collection:a,onAddCard:s,viewMode:l,index:i,isVersion:c=!1,originalId:o,isExpanded:x=!1,isLoading:u=!1,onToggleVersions:g,versionsCount:p=0,onShowInListing:b,isPlaceholder:v=!1,hasNoVersions:k=!1})=>{let{openModal:S}=(0,h.h)(),[A,q]=(0,r.useState)(!1),[$,E]=(0,r.useState)(!0),M=(0,r.useMemo)(()=>R(e,"small"),[e]),P=(0,r.useMemo)(()=>D(T.rarity(e)),[e]),z=(0,r.useMemo)(()=>I(T.rarity(e)),[e]);(0,r.useMemo)(()=>c?e.id&&void 0===b?"ring-2 ring-emerald-500/70 scale-95 origin-top-left shadow-lg shadow-emerald-500/30":"ring-2 ring-blue-500/50 scale-95 origin-top-left shadow-lg shadow-blue-500/20":"",[c,e.id,b]);let O=(0,r.useMemo)(()=>`${Math.min(.05*i,.5)}s`,[i]),F=(0,r.useCallback)(()=>{E(!1)},[]),V=(0,r.useCallback)(()=>{q(!0),E(!1)},[]),G=(0,r.useCallback)(a=>{a.stopPropagation(),S(e)},[e,S]),B=(0,r.useCallback)((a=1)=>{s(e,a)},[e,s]),U=(0,r.useCallback)(a=>{a.stopPropagation(),c&&b&&b(e)},[e,c,b]),H=(0,r.useCallback)(e=>{e.stopPropagation(),g&&g()},[g]);return v?"grid"===l?(0,t.jsx)("div",{className:"relative group animate-fadeIn card-version",style:{animationDelay:O},children:(0,t.jsx)("div",{className:`card-grid rounded-xl overflow-hidden border p-4 flex items-center justify-center h-48 ${u?"border-blue-600/30 bg-blue-900/20":"border-gray-600 bg-gray-800/50"}`,children:(0,t.jsxs)("div",{className:"text-center",children:[u?(0,t.jsx)(j,{className:"h-6 w-6 text-blue-400 mx-auto mb-2 animate-spin"}):(0,t.jsx)(f.A,{className:"h-6 w-6 text-gray-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:`text-sm ${u?"text-blue-300":"text-gray-400"}`,children:e.name}),(0,t.jsx)("p",{className:`text-xs mt-1 ${u?"text-blue-400/70":"text-gray-500"}`,children:e.type_line})]})})}):(0,t.jsx)("div",{className:"animate-fadeIn ml-4",style:{animationDelay:O},children:(0,t.jsx)("div",{className:`p-3 rounded-lg backdrop-blur-md border ${u?"border-blue-600/30 bg-blue-900/20":"border-gray-600 bg-gray-800/50"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[u?(0,t.jsx)(j,{className:"h-4 w-4 text-blue-400 animate-spin"}):(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("p",{className:`text-sm ${u?"text-blue-300":"text-gray-400"}`,children:e.name})]})})}):"grid"===l?(0,t.jsxs)("div",{className:`relative group animate-fadeIn ${c?"card-version":""}`,"data-card-name":e.id,style:{animationDelay:O},children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,t.jsx)(_,{card:e,collection:a})}),!c&&p>0&&(0,t.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,t.jsxs)("div",{className:"bg-blue-600/90 text-white text-[10px] px-1.5 py-0.5 rounded-full font-medium border border-blue-500/50",children:[p,"v"]})}),(0,t.jsxs)("div",{className:`card-grid cursor-pointer rounded-xl overflow-hidden flex flex-col border ${P} transition-all ${x?"card-active":""}`,onClick:G,children:[M&&!A?(0,t.jsxs)("div",{className:"aspect-[63/88] relative overflow-hidden bg-gray-900 flex items-center justify-center",children:[$&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-800 rounded-t-xl animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:"Carregando..."})}),(0,t.jsx)(n(),{src:M,alt:e.name,fill:!0,className:`object-contain transition-opacity ${$?"opacity-0":"opacity-100"}`,onLoad:F,onError:V,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw"})]}):(0,t.jsx)("div",{className:"aspect-[63/88] bg-gray-800 flex items-center justify-center text-center p-2",children:(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.name})}),(0,t.jsxs)("div",{className:"bg-gray-900/90 p-2 flex flex-col h-16",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("div",{className:"flex-1 truncate",children:(0,t.jsx)("span",{className:"text-xs font-medium text-white truncate block",children:e.name})}),(0,t.jsx)("span",{className:`text-[10px] ${z}`,children:T.rarity(e).charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-400 truncate block flex-1",children:T.setName(e)}),(0,t.jsx)("span",{className:"text-[10px] text-gray-500",children:T.setCode(e)})]}),(0,t.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center flex-col gap-2 p-3",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(L,{onAdd:B,compact:!0}),!c&&(0,t.jsxs)("button",{onClick:H,className:"text-xs h-5 px-2 rounded border transition-colors flex items-center gap-1 text-blue-400 hover:text-blue-300 border-blue-500/30 bg-blue-500/10 hover:bg-blue-500/20",children:[x?(0,t.jsx)(N.A,{className:"h-3 w-3"}):(0,t.jsx)(m.A,{className:"h-3 w-3"}),u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{className:"h-3 w-3 animate-spin"})," Buscando..."]}):p>0?(0,t.jsxs)(t.Fragment,{children:["Vers\xf5es (",p,")"]}):(0,t.jsx)(t.Fragment,{children:"Vers\xf5es"})]}),c&&(0,t.jsx)(t.Fragment,{children:b?(0,t.jsxs)("button",{onClick:U,className:"text-xs text-emerald-400 hover:text-emerald-300 h-5 px-2 rounded border border-emerald-500/30 bg-emerald-500/10 hover:bg-emerald-500/20 transition-colors flex items-center gap-1",children:[(0,t.jsx)(y,{className:"h-3 w-3"}),"Mostrar na Listagem"]}):(0,t.jsxs)("div",{className:"text-xs text-emerald-500 h-5 px-2 rounded border border-emerald-500/30 bg-emerald-500/10 flex items-center gap-1",children:[(0,t.jsx)(w.A,{className:"h-3 w-3"}),"Na Listagem Principal"]})})]})]})]})]}):(0,t.jsx)("div",{"data-card-name":e.id,className:`animate-fadeIn ${c?"ml-4":""}`,style:{animationDelay:O},children:(0,t.jsx)("div",{className:`p-2 rounded-lg bg-gray-900/70 backdrop-blur-md border ${P} hover:border-blue-500/50 hover:bg-gray-800/70 transition-all group ${c?"card-version":""} ${x?"card-active":""}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative flex-shrink-0",children:M&&!A?(0,t.jsxs)("div",{className:"relative w-12 h-16 rounded-md overflow-hidden cursor-pointer hover:ring-2 hover:ring-blue-500/50 transition-all",onClick:G,children:[$&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"}),(0,t.jsx)(n(),{src:M,alt:e.name,fill:!0,className:`object-cover transition-opacity ${$?"opacity-0":"opacity-100"}`,onLoad:F,onError:V,sizes:"48px"})]}):(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-800 rounded-md flex items-center justify-center cursor-pointer",onClick:G,children:(0,t.jsx)("span",{className:"text-[8px] text-gray-500 text-center p-1",children:e.name})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white truncate cursor-pointer hover:text-blue-300 transition-colors",onClick:G,children:e.name}),(0,t.jsx)(_,{card:e,collection:a,compact:!0})]}),(0,t.jsxs)("div",{className:"flex items-center text-xs gap-1",children:[(0,t.jsx)("span",{className:`${z}`,children:T.rarity(e).charAt(0).toUpperCase()}),(0,t.jsx)("span",{className:"text-gray-400",children:"•"}),(0,t.jsx)("span",{className:"text-gray-400 truncate",children:e.set_name})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs truncate",children:e.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(L,{onAdd:B,compact:!0}),(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700",onClick:G,children:(0,t.jsx)(C.A,{className:"h-3 w-3"})}),!c&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:`h-6 w-6 bg-gray-800 hover:bg-gray-700 border-gray-700 ${x?"bg-blue-900/30 text-blue-400":""} ${u?"animate-pulse":""}`,onClick:H,title:u?"Buscando vers\xf5es...":p>0?`${p} vers\xf5es dispon\xedveis`:"Ver outras vers\xf5es",children:x?(0,t.jsx)(N.A,{className:"h-3 w-3"}):u?(0,t.jsx)(j,{className:"h-3 w-3 animate-spin"}):(0,t.jsx)(m.A,{className:"h-3 w-3"})}),p>0&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-[8px] px-1 py-0.5 rounded-full font-bold min-w-[14px] text-center leading-none",children:p})]}),c&&(0,t.jsx)(t.Fragment,{children:b?(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-emerald-900/30 hover:bg-emerald-800/50 border-emerald-700/50 text-emerald-400",onClick:U,title:"Mostrar na Listagem Principal",children:(0,t.jsx)(y,{className:"h-3 w-3"})}):(0,t.jsx)(d.$,{variant:"outline",size:"icon",className:"h-6 w-6 bg-emerald-900/50 border-emerald-700/70 text-emerald-400 cursor-default",title:"Adicionado \xe0 Listagem Principal",children:(0,t.jsx)(w.A,{className:"h-3 w-3"})})})]})]})})})});function F({cards:e,collection:a,onAddCard:s,className:l="",searchResults:i,onSortChange:n,currentSort:c={mode:"name",direction:"asc"}}){let{visualizationType:o}=(0,h.h)(),[m,x]=(0,r.useState)(o||"grid"),[u,g]=(0,r.useState)(null),[p,b]=(0,r.useState)({}),[v,f]=(0,r.useState)({}),[w,C]=(0,r.useState)({});(0,r.useCallback)(async e=>{if(void 0===w[e.id])try{console.log(`Buscando contagem de vers\xf5es para: ${e.name}`);let a=`https://api.scryfall.com/cards/search?q="${encodeURIComponent(e.name)}"+unique:prints&order=released&page=1`,s=await fetch(a);if(s.ok){let a=(await s.json()).total_cards||0,t=a>0?a-1:0;C(a=>({...a,[e.id]:t})),console.log(`${e.name} tem ${t} vers\xf5es alternativas`)}else 404===s.status&&C(a=>({...a,[e.id]:0}))}catch(a){console.error(`Erro ao buscar contagem de vers\xf5es para ${e.name}:`,a),C(a=>({...a,[e.id]:0}))}},[w]);let q=(0,r.useCallback)(async e=>{if(!v[e.id]&&!p[e.id]){f(a=>({...a,[e.id]:!0}));try{console.log(`Buscando vers\xf5es para carta: ${e.name}`);let a=await (0,$.vI)(e.name);if(!a.ok){if(404===a.status){b(a=>({...a,[e.id]:[]}));return}throw Error(`Erro ao buscar vers\xf5es: ${a.status}`)}let s=await a.json();console.log(`Dados recebidos para ${e.name}:`,s);let t=s.data||[];console.log(`${t.length} vers\xf5es brutas encontradas para ${e.name}`);let r=t.filter(a=>a&&a.id&&a.id!==e.id);console.log(`${r.length} vers\xf5es filtradas para ${e.name}`),b(a=>({...a,[e.id]:r}))}catch(a){console.error(`Erro ao buscar vers\xf5es para carta ${e.name} (id: ${e.id}):`,a),b(a=>({...a,[e.id]:[]}))}finally{f(a=>({...a,[e.id]:!1}))}}},[p,v]),_=(0,r.useCallback)((e,a)=>{g(s=>s===e?null:(p[e]||v[e]||q(a),e))},[q,p,v]),[E,M]=(0,r.useState)(()=>[]),P=(0,r.useCallback)(e=>{E.includes(e.id)||M([...E,e.id])},[E]),T=(0,r.useMemo)(()=>{let a=[];return e.forEach((e,s)=>{if(a.push({card:e,index:s}),u===e.id){if(p[e.id]&&p[e.id].length>0){let t=p[e.id].map((a,t)=>({card:a,isVersion:!0,originalId:e.id,index:s+.1+.01*t}));a=[...a,...t]}else v[e.id]?a.push({card:{id:`loading-${e.id}`,name:"Buscando vers\xf5es alternativas...",set_name:"",set_code:"",rarity:"common",type_line:"Aguarde enquanto buscamos outras impress\xf5es desta carta."},isVersion:!0,originalId:e.id,index:s+.1,isPlaceholder:!0,isLoading:!0}):p[e.id]&&0===p[e.id].length&&a.push({card:{id:`no-versions-${e.id}`,name:"N\xe3o h\xe1 vers\xf5es alternativas dispon\xedveis",set_name:"",set_code:"",rarity:"common",type_line:"Esta carta n\xe3o possui outras impress\xf5es dispon\xedveis."},isVersion:!0,originalId:e.id,index:s+.1,isPlaceholder:!0})}}),Object.entries(p).forEach(([e,s])=>{s.forEach(e=>{E.includes(e.id)&&!a.some(a=>a.card.id===e.id)&&a.push({card:e,index:a.length+1})})}),a},[e,u,p,E]),D=(0,r.useMemo)(()=>"grid"===m?`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 ${l}`:`space-y-2 ${l}`,[m,l]),I=(0,r.useCallback)(()=>i&&(i.hasMore||i.totalCards)?(0,t.jsxs)("div",{className:"mt-4 flex flex-col gap-3 p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400",children:i.totalCards&&(0,t.jsxs)("span",{children:["Mostrando ",e.length," de ",i.totalCards," cartas",i.currentPage&&(0,t.jsxs)("span",{className:"ml-2",children:["• P\xe1gina ",i.currentPage]})]})}),i.hasMore&&(0,t.jsx)(d.$,{onClick:i.nextPage,disabled:i.isLoadingMore,className:"bg-blue-600 hover:bg-blue-700 text-white",children:i.isLoadingMore?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{className:"h-4 w-4 mr-2 animate-spin"}),"Carregando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Carregar mais cartas"]})})]}),i.hasMore&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[(0,t.jsx)(S.A,{className:"h-3 w-3 inline mr-1"}),'H\xe1 mais resultados dispon\xedveis. Clique em "Carregar mais cartas" para ver resultados adicionais.']})]}):null,[i,e.length]),R=(0,r.useCallback)(()=>(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-3 pb-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Ordenar por:"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.$,{variant:"name"===c.mode?"default":"outline",className:`quantum-btn compact text-xs ${"name"===c.mode?"primary":""}`,onClick:()=>n?.("name",c.direction),children:"Nome"}),(0,t.jsx)(d.$,{variant:"set"===c.mode?"default":"outline",className:`quantum-btn compact text-xs ${"set"===c.mode?"primary":""}`,onClick:()=>n?.("set",c.direction),children:"Cole\xe7\xe3o"}),(0,t.jsx)(d.$,{variant:"rarity"===c.mode?"default":"outline",className:`quantum-btn compact text-xs ${"rarity"===c.mode?"primary":""}`,onClick:()=>n?.("rarity",c.direction),children:"Raridade"}),(0,t.jsx)(d.$,{variant:"released"===c.mode?"default":"outline",className:`quantum-btn compact text-xs ${"released"===c.mode?"primary":""}`,onClick:()=>n?.("released",c.direction),children:"Lan\xe7amento"})]}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,t.jsx)(d.$,{variant:"asc"===c.direction?"default":"outline",className:`quantum-btn compact text-xs ${"asc"===c.direction?"primary":""}`,onClick:()=>n?.(c.mode,"asc"),title:"released"===c.mode?"Mais antigas primeiro":"name"===c.mode?"A-Z":"set"===c.mode?"A-Z":"Crescente",children:"↑ Cresc."}),(0,t.jsx)(d.$,{variant:"desc"===c.direction?"default":"outline",className:`quantum-btn compact text-xs ${"desc"===c.direction?"primary":""}`,onClick:()=>n?.(c.mode,"desc"),title:"released"===c.mode?"Mais recentes primeiro":"name"===c.mode?"Z-A":"set"===c.mode?"Z-A":"Decrescente",children:"↓ Decr."})]})]}),u&&(0,t.jsxs)(d.$,{variant:"outline",className:"h-7 px-2.5 text-xs bg-blue-900/30 hover:bg-blue-900/50 border-blue-900/50 text-blue-400",onClick:()=>g(null),children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-1"}),"Fechar vers\xf5es"]})]}),"released"===c.mode&&(0,t.jsx)("div",{className:"text-xs text-gray-500 px-2",children:"asc"===c.direction?"\uD83D\uDCC5 Mostrando das cole\xe7\xf5es mais antigas para as mais recentes":"\uD83D\uDCC5 Mostrando das cole\xe7\xf5es mais recentes para as mais antigas"}),(0,t.jsxs)("div",{className:"flex items-start gap-1 px-2 py-1.5 bg-blue-900/20 rounded-md border border-blue-800/30",children:[(0,t.jsx)(S.A,{className:"h-3 w-3 text-blue-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-blue-300 leading-tight mb-1",children:'Cada carta mostra quantas vers\xf5es alternativas est\xe3o dispon\xedveis. Use o bot\xe3o "Vers\xf5es" para explorar impress\xf5es alternativas e "Mostrar na Listagem" para adicion\xe1-las.'}),E.length>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("button",{onClick:()=>{let e=[];Object.values(p).forEach(a=>{a.forEach(a=>{E.includes(a.id)||e.push(a.id)})}),e.length>0&&M([...E,...e])},className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-0.5",children:[(0,t.jsx)(y,{className:"h-2.5 w-2.5"}),(0,t.jsx)("span",{children:"Mostrar todas as vers\xf5es"})]}),(0,t.jsxs)("button",{onClick:()=>{M([])},className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-0.5",children:[(0,t.jsx)(A,{className:"h-2.5 w-2.5"}),(0,t.jsxs)("span",{children:["Limpar vers\xf5es adicionadas (",E.length,")"]})]})]})]})]})]}),[c.mode,c.direction,u,E,p]);return 0===e.length?null:(0,t.jsxs)("div",{children:[R(),(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4 bg-slate-800/30 p-3 rounded-md border border-slate-700/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-white font-medium flex items-center",children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-2 text-blue-400"}),"Resultados da Pesquisa"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[e.length," cartas correspondentes com visualiza\xe7\xe3o avan\xe7ada"]})]}),(0,t.jsxs)("div",{className:"flex items-center bg-slate-800/70 rounded-md p-1.5 border border-slate-700/30",children:[(0,t.jsx)("span",{className:"text-xs text-slate-400 mr-2 hidden sm:inline-block",children:"Visualiza\xe7\xe3o:"}),(0,t.jsx)(z,{size:"sm",className:"inline-flex"})]})]}),{}),(0,t.jsx)("div",{className:D,children:T.map(e=>(0,t.jsx)(O,{card:e.card,collection:a,onAddCard:s,viewMode:m,index:Math.floor(e.index),isVersion:e.isVersion,isExpanded:u===(e.originalId||e.card.id),isLoading:e.isLoading||v[e.card.id]||!1,originalId:e.originalId,onToggleVersions:()=>_(e.card.id,e.card),versionsCount:e.isVersion?0:w[e.card.id]??0,onShowInListing:e.isVersion&&!e.isPlaceholder?P:void 0,isPlaceholder:e.isPlaceholder,hasNoVersions:!1},`enhanced-card-${e.isVersion?`version-${e.card.id}`:e.card.id}`))}),I()]})}O.displayName="SearchCardItem";var V=s(4014),G=s(5192),B=s(6943);let U=(0,p.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),H=(0,p.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var W=s(9567);let Z=(e,a="small")=>(0,q.VG)(e,a),J={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}}},K=({collectionCards:e,onRemoveCard:a,onAddCard:s,onUpdateCardQuantity:i,onAddToDeck:n,className:x=""})=>{let{openModal:u,visualizationType:g}=(0,h.h)(),[p,y]=(0,r.useState)({}),[w,C]=(0,r.useState)("grid"),[k,S]=(0,r.useState)({}),[A,q]=(0,r.useState)(null),[_,M]=(0,r.useState)({}),P=e.reduce((e,a)=>{let s=a.card.name;return e[s]||(e[s]=[]),e[s].push(a),e},{}),z=(0,r.useCallback)((e,a)=>{let s=k[e];if(s){let e=a.find(e=>e.card.id===s);if(e)return e}return a[0]},[k]),T=(0,r.useCallback)((e,a)=>{S(s=>({...s,[e]:a}))},[]),D=(0,r.useCallback)(e=>{a(e)},[a]);(0,r.useCallback)(e=>{(P[e]||[]).forEach(e=>{a(e.card)})},[P,a]);let I=(0,r.useCallback)((e,a)=>{i&&i(e,a)},[i]),R=(0,r.useCallback)(async e=>{let a=p[e];y(s=>({...s,[e]:!a})),a||_[e]||(await L(e),setTimeout(()=>{let a=document.querySelector(`[data-card-name="${e}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100))},[p,_]),L=(0,r.useCallback)(async e=>{if(!_[e]?.loading){M(a=>({...a,[e]:{versions:[],loading:!0,error:null}}));try{let a=await (0,$.vI)(e);if(!a.ok)throw Error("Erro ao buscar vers\xf5es");let s=(await a.json()).data||[],t=new Set(P[e]?.map(e=>e.card.id)||[]),r=s.filter(e=>!t.has(e.id));M(a=>({...a,[e]:{versions:r,loading:!1,error:null}}))}catch(a){console.error("Erro ao buscar vers\xf5es:",a),M(a=>({...a,[e]:{versions:[],loading:!1,error:"Erro ao buscar vers\xf5es alternativas"}}))}}},[P,_]),O=(0,r.useCallback)(async e=>{q(e.id);try{s(e),M(a=>{let s={...a};return Object.keys(s).forEach(a=>{s[a]&&(s[a]={...s[a],versions:s[a].versions.filter(a=>a.id!==e.id)})}),s}),setTimeout(()=>q(null),1e3)}catch(e){console.error("Erro ao adicionar carta:",e),q(null)}},[s]),F=(0,r.useCallback)(({card:e,quantity:a,onAdd:s,onUpdate:i,onRemove:n})=>{let[o,m]=(0,r.useState)(1),[x,u]=(0,r.useState)(a||0);l().useEffect(()=>{u(a||0)},[a]);let h=e=>{let a=Math.max(0,x+e);i&&i(a)},g=e=>{let a=Math.max(0,e);i&&i(a)};return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[void 0!==a?(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>h(-1),className:"h-6 w-6 p-0 text-white hover:bg-red-600",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.p,{type:"number",value:x,onChange:e=>g(parseInt(e.target.value)||0),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"0"}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>h(1),className:"h-6 w-6 p-0 text-white hover:bg-green-600",children:(0,t.jsx)(b.A,{className:"h-3 w-3"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>m(Math.max(1,o-1)),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.p,{type:"number",value:o,onChange:e=>m(Math.max(1,parseInt(e.target.value)||1)),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"1"}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>m(o+1),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(b.A,{className:"h-3 w-3"})})]}),(0,t.jsxs)(d.$,{onClick:()=>{s&&s(o)},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 h-6",children:["+",o]})]}),n&&(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:n,className:"h-6 w-6 p-0 text-red-400 hover:bg-red-900/20",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})})]})},[]),V=(0,r.useCallback)((e,a)=>{let r=_[e],l=a.reduce((e,a)=>e+a.quantity,0),i=a.length>1;return(0,t.jsxs)("div",{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-700/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white",children:e}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Gerencie suas vers\xf5es e quantidades"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>C("grid"),className:`h-7 w-7 p-0 ${"grid"===w?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:(0,t.jsx)(B.A,{className:"h-3 w-3"})}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>C("list"),className:`h-7 w-7 p-0 ${"list"===w?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:(0,t.jsx)(E.A,{className:"h-3 w-3"})})]})]})}),(0,t.jsxs)("div",{className:"h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800 hover:scrollbar-thumb-gray-500",children:[r?.loading&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(j,{className:"h-5 w-5 animate-spin text-blue-500 mr-2"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Buscando vers\xf5es..."})]}),i&&!r?.loading&&(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Na sua cole\xe7\xe3o"}),(0,t.jsxs)(o.E,{variant:"secondary",className:"bg-green-600/20 text-green-400 text-xs",children:[l,"x total"]}),(0,t.jsxs)(d.$,{size:"sm",variant:"ghost",onClick:()=>T(e,a[0].card.id),className:"text-xs text-blue-400 hover:text-blue-300 h-5 px-2",title:"Trocar arte principal",children:[(0,t.jsx)(U,{className:"h-3 w-3 mr-1"}),"Trocar Principal"]})]}),"grid"===w?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:a.map((a,r)=>(0,t.jsxs)("div",{className:"relative group bg-gray-800/50 rounded-lg p-2 hover:bg-gray-800/70 transition-colors",children:[(0,t.jsx)("div",{className:"w-full aspect-[63/88] bg-gray-900 rounded overflow-hidden border border-gray-600 mb-2",children:Z(a.card)?(0,t.jsx)("img",{src:Z(a.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>u(a.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:J.setCode(a.card)})})}),(0,t.jsxs)("div",{className:"text-center mb-2",children:[(0,t.jsx)("div",{className:"text-xs text-white font-medium truncate",children:J.setCode(a.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:J.setName(a.card)})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(F,{card:a.card,quantity:a.quantity,onAdd:e=>s(a.card,e),onRemove:()=>D(a.card),onUpdate:e=>I(a.card,e)})}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>T(e,a.card.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 h-6 w-6 p-0 bg-blue-600/80 hover:bg-blue-600 text-white transition-all",title:"Definir como arte principal",children:(0,t.jsx)(H,{className:"h-3 w-3"})})]},`${a.card.id}-${r}`))}):(0,t.jsx)("div",{className:"space-y-2",children:a.map((a,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:Z(a.card)?(0,t.jsx)("img",{src:Z(a.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>u(a.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:J.setCode(a.card)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:J.setCode(a.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:J.setName(a.card)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F,{card:a.card,quantity:a.quantity,onAdd:e=>s(a.card,e),onRemove:()=>D(a.card),onUpdate:e=>I(a.card,e)}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>T(e,a.card.id),className:"h-6 w-6 p-0 text-blue-400 hover:bg-blue-900/20 opacity-0 group-hover:opacity-100 transition-all",title:"Definir como arte principal",children:(0,t.jsx)(H,{className:"h-3 w-3"})})]})]},`${a.card.id}-${r}`))})]}),r&&!r.loading&&(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:r.error?(0,t.jsxs)("div",{className:"text-red-400 text-sm flex items-center gap-2 py-4",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:r.error})]}):0===r.versions.length?(0,t.jsx)("div",{className:"text-gray-400 text-sm py-4 text-center",children:"Nenhuma vers\xe3o alternativa encontrada"}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Outras vers\xf5es dispon\xedveis"}),(0,t.jsxs)(o.E,{variant:"outline",className:"bg-blue-600/20 text-blue-400 text-xs border-blue-600/30",children:[r.versions.length," encontradas"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:r.versions.map(a=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:Z(a)?(0,t.jsx)("img",{src:Z(a),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>u(a)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:J.setCode(a)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:J.setCode(a)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:J.setName(a)})]}),(0,t.jsx)(d.$,{size:"sm",onClick:()=>O(a),disabled:A===a.id,className:`px-3 py-1 text-xs opacity-70 group-hover:opacity-100 transition-all duration-200 transform hover:scale-105 ${A===a.id?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:A===a.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{className:"w-3 h-3 mr-1 animate-spin"}),"Adicionado!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"Adicionar"]})})]},a.id))})]})}),(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:(0,t.jsx)(W.A,{card:a[0]?.card,className:"w-full"})})]})]})},[_,u,O,s,a]);return"grid"===g?(0,t.jsx)("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 ${x}`,children:Object.entries(P).map(([e,a])=>{let s=a.reduce((e,a)=>e+a.quantity,0),r=p[e],l=z(e,a);return(0,t.jsx)("div",{"data-card-name":e,className:`relative transition-all duration-300 ${r?"col-span-full":""}`,children:r?(0,t.jsxs)("div",{className:"flex gap-4 bg-gray-800/30 rounded-lg p-4 border border-gray-700/50",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("div",{className:"w-48 aspect-[63/88] rounded-lg overflow-hidden border border-gray-700 hover:border-blue-500 transition-colors",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-sm rounded-full w-8 h-8 flex items-center justify-center font-bold z-10",children:s}),(0,t.jsx)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center cursor-pointer",onClick:()=>u(l.card),children:Z(l.card)?(0,t.jsx)("img",{src:Z(l.card),alt:e,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-sm text-gray-400 text-center p-4",children:e})})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsxs)(d.$,{size:"sm",variant:"ghost",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>R(e),children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"Ocultar Vers\xf5es"]}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white px-3",onClick:()=>D(z(e,a).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:V(e,a)})]}):(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg overflow-hidden flex flex-col border border-gray-700 hover:border-blue-500 hover:shadow-md hover:shadow-blue-500/20 transition-all duration-200",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold z-10",children:s}),(0,t.jsxs)("div",{className:"aspect-[63/88] overflow-hidden bg-gray-900 flex items-center justify-center relative",onClick:()=>u(l.card),children:[Z(l.card)?(0,t.jsx)("img",{src:Z(l.card),alt:e,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:e}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsxs)("p",{className:"text-xs font-medium",children:[a.length," vers\xe3o",a.length>1?"\xf5es":""]}),(0,t.jsx)("p",{className:"text-xs text-gray-300",children:"Clique para detalhes"})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-2 flex gap-1",children:[(0,t.jsxs)(d.$,{size:"sm",variant:"ghost",className:"flex-1 bg-gray-700 hover:bg-blue-600 text-white h-7 transition-colors duration-200",onClick:()=>R(e),children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Vers\xf5es"]}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white h-7 px-2 transition-colors duration-200",onClick:()=>D(z(e,a).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})})]})]})})},e)})}):"list"===g?(0,t.jsx)("div",{className:`space-y-3 ${x}`,children:Object.entries(P).map(([e,a])=>{let s=p[e],r=a.reduce((e,a)=>e+a.quantity,0),l=z(e,a);return(0,t.jsx)(G.Zp,{"data-card-name":e,className:"bg-gray-800/50 border-gray-700/50 hover:bg-gray-700/50 transition-colors",children:(0,t.jsxs)(G.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-20 bg-gray-900 rounded overflow-hidden",children:Z(l.card)?(0,t.jsx)("img",{src:Z(l.card),alt:e,className:"w-full h-full object-contain cursor-pointer",onClick:()=>u(l.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:e})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:r})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:e}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:J.setName(l.card)}),(0,t.jsxs)("p",{className:"text-gray-500 text-xs",children:[a.length," vers\xe3o",a.length>1?"\xf5es":""," na cole\xe7\xe3o"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>n(l.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:(0,t.jsx)(b.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>R(e),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:s?(0,t.jsx)(N.A,{className:"w-4 h-4"}):(0,t.jsx)(m.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>D(z(e,a).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),s&&V(e,a)]})},e)})}):(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(P).map(([e,a])=>{let s=p[e],r=a.reduce((e,a)=>e+a.quantity,0),l=z(e,a);return(0,t.jsx)(G.Zp,{className:"bg-gray-800/50 border-gray-700/50 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-900 rounded overflow-hidden",children:Z(l.card)?(0,t.jsx)("img",{src:Z(l.card),alt:e,className:"w-full h-full object-contain cursor-pointer",onClick:()=>u(l.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:e})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:r})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:e}),(0,t.jsx)("p",{className:"text-gray-400",children:J.setName(l.card)}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:l.card.type_line})]}),l.card.oracle_text&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-gray-200 mb-1",children:"Texto:"}),(0,t.jsx)("p",{className:"italic",children:l.card.oracle_text})]}),(l.card.power||l.card.toughness)&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-200",children:"P/T:"})," ",l.card.power,"/",l.card.toughness]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[n&&(0,t.jsxs)(d.$,{size:"sm",variant:"outline",onClick:()=>n(l.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Deck"]}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>R(e),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:s?(0,t.jsx)(N.A,{className:"w-4 h-4"}):(0,t.jsx)(m.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>D(z(e,a).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),s&&V(e,a)]})},e)})})};var Q=s(7826),X=s(1531);let Y=(0,p.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ee=(0,p.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var ea=s(8492),es=s(8122);let et=(0,p.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),er=(0,p.A)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),el=(0,p.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ei=(0,p.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var en=s(9080),ec=s(3964);function ed({isOpen:e,onClose:a,onSuccess:s}){let{currentCollection:l,adicionarCarta:i}=(0,g.U)(),[n,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[p,j]=(0,r.useState)({processed:0,total:0}),b=(0,r.useRef)(null),v=async e=>{let a=e.split(/\r?\n/).filter(e=>e.trim());if(a.length<2)throw Error("Arquivo CSV inv\xe1lido ou vazio");let s=a[0].split(",").map(e=>e.toLowerCase());if(!s.includes("name")&&!s.includes("nome")&&!s.includes("card name"))throw Error("Formato de CSV n\xe3o reconhecido. O arquivo deve incluir uma coluna para o nome da carta (Name, Nome, Card Name)");let t=s.findIndex(e=>"name"===e||"nome"===e||"card name"===e),r=s.findIndex(e=>"quantity"===e||"quantidade"===e||"count"===e||"amount"===e||"qtd"===e),l=s.findIndex(e=>"set"===e||"conjunto"===e||"edition"===e||"edi\xe7\xe3o"===e||"set code"===e);if(-1===t)throw Error("Coluna de nome n\xe3o encontrada no CSV");let n=a.length-1,c=0,d=0;for(let e=1;e<a.length;e++){let s=a[e];if(!s.trim())continue;let o=s.split(","),m=o[t]?.trim(),x=-1!==r&&parseInt(o[r])||1,u=-1!==l?o[l]?.trim():void 0;if(m)try{let e=u?`!"${m}" set:${u}`:`!"${m}"`,a=await fetch(`https://api.scryfall.com/cards/search?q=${encodeURIComponent(e)}`);if(a.ok){let e=await a.json();if(e.data&&e.data.length>0){let a=e.data[0];for(let e=0;e<x;e++)await i(a),d++}}}catch(e){console.error(`Erro ao processar carta: ${m}`,e)}j({processed:++c,total:n})}return d},N=async()=>{if(n&&l){x(!0),h(null),j({processed:0,total:0});try{let e=await n.text();if(console.log("Conte\xfado do CSV:",e.substring(0,200)),!e.trim())throw Error("O arquivo CSV est\xe1 vazio");let t=await v(e);s(t),a()}catch(e){console.error("Erro ao importar cole\xe7\xe3o:",e),h(e instanceof Error?e.message:"Erro ao processar o arquivo")}finally{x(!1)}}};return(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(el,{className:"w-4 h-4 text-cyan-400"}),"Importar Cole\xe7\xe3o (CSV)"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-500/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(S.A,{className:"w-4 h-4 text-cyan-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-xs text-gray-300",children:[(0,t.jsx)("p",{className:"mb-1",children:"Importe sua cole\xe7\xe3o a partir de um arquivo CSV no formato Manabox:"}),(0,t.jsxs)("ul",{className:"list-disc pl-4 space-y-0.5",children:[(0,t.jsx)("li",{children:"O arquivo deve conter colunas para Nome, Quantidade e Conjunto (opcional)"}),(0,t.jsx)("li",{children:"Formatos aceitos: Manabox, MTG Studio, Deckbox"}),(0,t.jsxs)("li",{children:["Exemplo: ",(0,t.jsx)("code",{className:"bg-gray-700/50 px-1 rounded",children:"Name,Set,Quantity"})]})]}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-700/50 rounded text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-cyan-400 mb-1",children:"Exemplo de conte\xfado:"}),(0,t.jsxs)("code",{children:["Name,Set,Quantity",(0,t.jsx)("br",{}),"Lightning Bolt,M10,4",(0,t.jsx)("br",{}),"Counterspell,7ED,2"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-xs text-cyan-400 font-medium",children:"Selecione o arquivo CSV"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.p,{ref:b,type:"file",accept:".csv",onChange:e=>{if(e.target.files&&e.target.files[0]){let a=e.target.files[0];if("text/csv"!==a.type&&!a.name.endsWith(".csv")){h("Por favor, selecione um arquivo CSV v\xe1lido"),o(null);return}o(a),h(null)}},className:"hidden"}),(0,t.jsxs)(d.$,{onClick:()=>b.current?.click(),variant:"outline",className:"flex-1 border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10",children:[(0,t.jsx)(el,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivo"]})]}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-300 bg-gray-800/50 p-2 rounded",children:[(0,t.jsx)(ec.A,{className:"w-3 h-3 text-green-400"}),(0,t.jsx)("span",{children:n.name})]})]}),u&&(0,t.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded p-2 flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-red-300",children:u})]}),m&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-cyan-400",style:{width:`${p.total?p.processed/p.total*100:0}%`}})}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 text-center",children:["Processando ",p.processed," de ",p.total," cartas..."]})]})]}),(0,t.jsxs)(Q.Es,{children:[(0,t.jsx)(d.$,{variant:"outline",onClick:a,disabled:m,children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:N,disabled:!n||m,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(el,{className:"w-4 h-4 mr-2"}),"Importar"]})]})]})})}let eo=(0,p.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),em=(0,p.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),ex=(0,p.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var eu=s(5336);let eh=(0,p.A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),eg=(0,p.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);s(2373);var ep=s(569),ej=s(8599),eb=s(1273),ev=s(5551),ef=s(3721),eN=s(8853),ey=s(4163),ew="Switch",[eC,ek]=(0,eb.A)(ew),[eS,eA]=eC(ew),eq=r.forwardRef((e,a)=>{let{__scopeSwitch:s,name:l,checked:i,defaultChecked:n,required:c,disabled:d,value:o="on",onCheckedChange:m,form:x,...u}=e,[h,g]=r.useState(null),p=(0,ej.s)(a,e=>g(e)),j=r.useRef(!1),b=!h||x||!!h.closest("form"),[v,f]=(0,ev.i)({prop:i,defaultProp:n??!1,onChange:m,caller:ew});return(0,t.jsxs)(eS,{scope:s,checked:v,disabled:d,children:[(0,t.jsx)(ey.sG.button,{type:"button",role:"switch","aria-checked":v,"aria-required":c,"data-state":eM(v),"data-disabled":d?"":void 0,disabled:d,value:o,...u,ref:p,onClick:(0,ep.m)(e.onClick,e=>{f(e=>!e),b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),b&&(0,t.jsx)(eE,{control:h,bubbles:!j.current,name:l,value:o,checked:v,required:c,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});eq.displayName=ew;var e$="SwitchThumb",e_=r.forwardRef((e,a)=>{let{__scopeSwitch:s,...r}=e,l=eA(e$,s);return(0,t.jsx)(ey.sG.span,{"data-state":eM(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:a})});e_.displayName=e$;var eE=r.forwardRef(({__scopeSwitch:e,control:a,checked:s,bubbles:l=!0,...i},n)=>{let c=r.useRef(null),d=(0,ej.s)(c,n),o=(0,ef.Z)(s),m=(0,eN.X)(a);return r.useEffect(()=>{let e=c.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&a){let t=new Event("click",{bubbles:l});a.call(e,s),e.dispatchEvent(t)}},[o,s,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function eM(e){return e?"checked":"unchecked"}eE.displayName="SwitchBubbleInput";var eP=s(6241);let ez=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(eq,{className:(0,eP.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-cyan-600 data-[state=unchecked]:bg-gray-700",e),...a,ref:s,children:(0,t.jsx)(e_,{className:(0,eP.cn)("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ez.displayName=eq.displayName;var eT=s(5334);function eD({isOpen:e,onClose:a,missingCards:s}){let[l,i]=(0,r.useState)(1),[n,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(0),u=()=>{let e=[];for(let a of s){let s=Math.min(a.need-a.have,l);for(let t=0;t<s&&(e.push(a.card),!(e.length>=9));t++);if(e.length>=9)break}return e},h=()=>{x(e=>e+1)},g=u(),p=Math.min(g.length,9);return(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(Q.Cf,{className:`quantum-card-dense fixed-modal print-modal-content ${n?"max-w-3xl":"max-w-md"}`,children:[(0,t.jsx)(Q.c7,{className:"print-modal-header",children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(eh,{className:"w-5 h-5 text-cyan-400"}),n?"Visualiza\xe7\xe3o de Impress\xe3o":"Imprimir Proxies"]})}),n?(0,t.jsxs)("div",{className:"mtg-print-preview print-modal-preview",children:[(0,t.jsx)("div",{className:"print-sheet-container",children:(0,t.jsx)("div",{className:"print-sheet",children:(0,t.jsx)("div",{className:"print-grid cut-lines",children:g.slice(0,9).map((e,a)=>{let s=e.image_uris?.normal||e.image_uris?.large||e.image_uris?.png||"";return(0,t.jsx)("div",{className:"print-card",children:(0,t.jsx)("img",{src:s,alt:e.name,onLoad:h,onError:h,style:{maxWidth:"100%",maxHeight:"100%"}})},a)})})})}),m<p&&(0,t.jsxs)("div",{className:"loading-indicator",children:["Carregando imagens... (",m,"/",p,")"]}),(0,t.jsxs)("div",{className:"print-controls print-modal-footer",children:[(0,t.jsxs)(d.$,{onClick:()=>{window.print()},disabled:m<p,className:"bg-cyan-800 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(eh,{className:"w-4 h-4 mr-2"}),"Imprimir"]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>{let e=u().map(e=>e.id).join("|"),a=`https://mtgprint.net/?ids=${e}`;window.open(a,"_blank")},className:"border-cyan-800/50 text-cyan-400",children:[(0,t.jsx)(eT.A,{className:"w-4 h-4 mr-2"}),"Abrir no MTGPrint.net"]}),(0,t.jsx)(d.$,{variant:"outline",onClick:()=>{o(!1)},children:"Fechar"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-800/20",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Imprima as cartas que faltam para sua cole\xe7\xe3o, organizadas em uma grade 3x3."}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"C\xf3pias por carta:"}),(0,t.jsx)(c.p,{type:"number",min:"1",max:"4",value:l,onChange:e=>i(parseInt(e.target.value)||1),className:"quantum-field-sm w-16"})]})]}),(0,t.jsxs)("div",{className:"bg-cyan-900/20 p-3 rounded-md border border-cyan-800/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eh,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Informa\xe7\xf5es de Impress\xe3o"})]}),(0,t.jsxs)("ul",{className:"text-xs text-gray-300 space-y-1 list-disc pl-5",children:[(0,t.jsx)("li",{children:"Tamanho das cartas: 63mm x 88mm (tamanho real)"}),(0,t.jsx)("li",{children:"9 cartas por p\xe1gina em formato A4"}),(0,t.jsx)("li",{children:"Vers\xe3o de teste: apenas 1 p\xe1gina ser\xe1 impressa"}),(0,t.jsx)("li",{children:"Op\xe7\xe3o para abrir no MTGPrint.net para mais op\xe7\xf5es"})]})]}),(0,t.jsxs)(Q.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:a,children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{o(!0),x(0)},disabled:0===s.length,className:"bg-cyan-800 hover:bg-cyan-700 text-white",children:[(0,t.jsx)(eh,{className:"w-4 h-4 mr-1"}),"Visualizar Impress\xe3o"]})]})]})]})})}s(8812);let eI=["med","me2","me3","me4","vma","tpr","pz1","pz2","pmei","akr","klr","j21","y22","y23","slx","htr","htr17","htr18","htr19","mtga","ana","anb","xln","rix","dom","grn","rna","war","eld","thb","iko","znr","khm","stx","afr","mid","vow","neo","snc","dmu","bro","one","mom","woe","lci","ltr","who"];function eR({isOpen:e,onClose:a}){let{collections:s,currentCollection:l}=(0,g.U)(),[i,m]=(0,r.useState)(""),[u,h]=(0,r.useState)([]),[p,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)("grid"),[f,N]=(0,r.useState)(""),[y,w]=(0,r.useState)(4),[C,S]=(0,r.useState)("name"),[A,q]=(0,r.useState)("asc"),[$,_]=(0,r.useState)([]),[M,P]=(0,r.useState)(!0),[z,T]=(0,r.useState)(!1),[D,I]=(0,r.useState)({completed:[],missing:[],allCards:[],progress:0}),R=["Elf","Goblin","Zombie","Angel","Dragon","Vampire","Wizard","Warrior","Human","Beast","Spirit","Sliver","Merfolk","Dinosaur"],L=e=>{if(!l)return{inCollection:!1,quantity:0,missing:y};let a=l.cards.find(a=>a.card.name===e.name&&a.card.set===e.set),s=a?.quantity||0,t=Math.max(0,y-s);return{inCollection:s>=y,quantity:s,missing:t}},O=async()=>{if(f.trim()){j(!0);try{let e=`type:${f} prints:all`;M&&(eI.forEach(a=>{e+=` -e:${a}`}),e+=" -is:digital"),console.log("Query de busca:",e);let a=await fetch(`https://api.scryfall.com/cards/search?q=${encodeURIComponent(e)}&order=released&unique=prints`);if(!a.ok)throw Error(`Erro na API: ${a.status}`);let s=await a.json(),t=s.data||[],r=s.next_page;for(;r;){let e=await fetch(r);if(e.ok){let a=await e.json();t=[...t,...a.data||[]],r=a.next_page}else break}h(t),F(t)}catch(e){console.error("Erro ao buscar cartas:",e),h([])}finally{j(!1)}}},F=e=>{if(!l||0===e.length)return;let a=[],s=[];for(let t of e){let e=l.cards.find(e=>e.card.name===t.name&&e.card.set===t.set),r=e?.quantity||0;r>=y?a.push({card:t,have:r,need:y}):s.push({card:t,have:r,need:y})}let t=e.length*y,r=a.reduce((e,a)=>e+a.have,0)+s.reduce((e,a)=>e+a.have,0);I({completed:a,missing:s,allCards:e,progress:t>0?Math.min(100,Math.round(r/t*100)):0})},V=e=>{C===e?q(e=>"asc"===e?"desc":"asc"):(S(e),q("asc"))},G=(0,r.useMemo)(()=>D.allCards.length?[...D.allCards].sort((e,a)=>{let s=0;switch(C){case"name":s=e.name.localeCompare(a.name);break;case"rarity":let t={common:1,uncommon:2,rare:3,mythic:4};s=(t[e.rarity]||0)-(t[a.rarity]||0);break;case"cmc":s=(e.cmc||0)-(a.cmc||0);break;case"set":let r=e.set_name||"",l=a.set_name||"";0===(s=r.localeCompare(l))&&e.collector_number&&a.collector_number&&(s=(parseInt(e.collector_number)||0)-(parseInt(a.collector_number)||0));break;case"collected":let i=L(e),n=L(a);s=i.quantity-n.quantity;break;case"released":s=(e.released_at?new Date(e.released_at).getTime():0)-(a.released_at?new Date(a.released_at).getTime():0)}return"asc"===A?s:-s}):[],[D.allCards,C,A,l,y]),U=(0,r.useMemo)(()=>{let e={};return D.allCards.forEach(a=>{e[a.name]||(e[a.name]={total:0,collected:0,variants:[]}),e[a.name].total++,e[a.name].variants.push(a);let{inCollection:s}=L(a);s&&e[a.name].collected++}),e},[D.allCards,l,y]),H=(0,r.useMemo)(()=>{let e=D.allCards.length,a=Object.keys(U).length;return{totalVariants:e,uniqueCards:a,collectedVariants:D.completed.length,averageVariantsPerCard:a>0?(e/a).toFixed(1):"0"}},[D,U]);return(0,t.jsxs)(t.Fragment,{children:[z&&(0,t.jsx)(eD,{isOpen:z,onClose:()=>T(!1),missingCards:D.missing}),(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal max-w-5xl max-h-[90vh] overflow-hidden",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(er,{className:"w-5 h-5 text-cyan-400"}),"Completar Cole\xe7\xe3o"]})}),(0,t.jsxs)("div",{className:"flex flex-col h-[calc(80vh-120px)]",children:[(0,t.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(x,{value:f,onChange:N,options:[{value:"",label:"Selecione um tipo..."},...R.map(e=>({value:e.toLowerCase(),label:e}))],placeholder:"Selecione um tipo",className:"w-full"})}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"C\xf3pias:"}),(0,t.jsx)(c.p,{type:"number",min:"1",max:"99",value:y,onChange:e=>w(parseInt(e.target.value)||1),className:"quantum-field-sm w-16"})]}),(0,t.jsx)(d.$,{onClick:O,className:"quantum-btn compact bg-cyan-600 hover:bg-cyan-700",disabled:!f||p,children:p?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"animate-spin mr-1",children:"⟳"})," Buscando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{className:"w-3 h-3 mr-1"}),"Buscar"]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ez,{id:"exclude-digital",checked:M,onCheckedChange:P}),(0,t.jsxs)("label",{htmlFor:"exclude-digital",className:"text-xs text-gray-300 flex items-center cursor-pointer",children:[(0,t.jsx)(eo,{className:"w-3 h-3 mr-1 text-gray-400"}),"Excluir edi\xe7\xf5es digitais"]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.$,{variant:"outline",size:"sm",className:`h-7 w-7 p-0 ${"grid"===b?"bg-gray-700":""}`,onClick:()=>v("grid"),children:(0,t.jsx)(B.A,{className:"w-3 h-3"})}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",className:`h-7 w-7 p-0 ${"list"===b?"bg-gray-700":""}`,onClick:()=>v("list"),children:(0,t.jsx)(E.A,{className:"w-3 h-3"})})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto pb-1",children:R.map(e=>(0,t.jsx)(o.E,{className:`cursor-pointer ${f===e.toLowerCase()?"bg-cyan-600":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>{N(e.toLowerCase()),setTimeout(()=>O(),100)},children:e},e))}),D.allCards.length>0&&(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-cyan-500/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-white font-medium",children:"Progresso:"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-cyan-400",children:[D.progress,"%"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[D.completed.length," completas / ",D.missing.length," faltantes"]})})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full bg-cyan-400",style:{width:`${D.progress}%`}})}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-2 text-center",children:[(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Cartas \xdanicas"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:H.uniqueCards})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Variantes"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:H.totalVariants})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Coletadas"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:H.collectedVariants})]}),(0,t.jsxs)("div",{className:"bg-gray-800/70 rounded p-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"M\xe9dia/Carta"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:H.averageVariantsPerCard})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-3 pt-2 border-t border-gray-700 max-h-16 overflow-y-auto",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-400 mr-1 flex items-center",children:[(0,t.jsx)(em,{className:"w-3 h-3 mr-1"}),"Ordenar por:"]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"name"===C?"bg-gray-700":""}`,onClick:()=>V("name"),children:["Nome ","name"===C&&("asc"===A?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"rarity"===C?"bg-gray-700":""}`,onClick:()=>V("rarity"),children:["Raridade ","rarity"===C&&("asc"===A?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"cmc"===C?"bg-gray-700":""}`,onClick:()=>V("cmc"),children:["CMC ","cmc"===C&&("asc"===A?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"set"===C?"bg-gray-700":""}`,onClick:()=>V("set"),children:["Cole\xe7\xe3o ","set"===C&&("asc"===A?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"released"===C?"bg-gray-700":""}`,onClick:()=>V("released"),children:[(0,t.jsx)(ex,{className:"w-3 h-3 mr-1"}),"Lan\xe7amento ","released"===C&&("asc"===A?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",className:`h-6 text-xs px-2 ${"collected"===C?"bg-gray-700":""}`,onClick:()=>V("collected"),children:["Coletadas ","collected"===C&&("asc"===A?"↑":"↓")]})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-1 quantum-scrollbar",children:D.allCards.length>0?"grid"===b?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:G.map((e,a)=>{let{inCollection:s,quantity:r,missing:l}=L(e),i=r>0;return(0,t.jsx)("div",{className:`relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] ${s?"ring-2 ring-green-500":i?"ring-2 ring-cyan-800":"ring-1 ring-gray-700"}`,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n(),{src:e.image_uris?.normal||"/placeholder.png",alt:e.name,width:265,height:370,className:`w-full h-auto ${i?"":"grayscale"}`}),i&&!s&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 w-1/2 bg-gradient-to-l from-cyan-800/80 to-transparent flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-4xl font-bold text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:["-",l]})}),(0,t.jsxs)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsxs)(o.E,{className:s?"bg-green-600":i?"bg-cyan-800":"bg-gray-600",children:[r,"/",y]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 truncate",children:e.set_name}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.collector_number})]})]})]})},`${e.id}-${a}`)})}):(0,t.jsx)("div",{className:"space-y-1",children:G.map((e,a)=>{let{inCollection:s,quantity:r,missing:l}=L(e),i=r>0;return(0,t.jsxs)("div",{className:`flex items-center gap-2 p-2 rounded-md ${s?"bg-green-900/20":i?"bg-cyan-950/30":"bg-gray-800/50"}`,children:[(0,t.jsxs)("div",{className:"w-8 h-8 relative flex-shrink-0",children:[(0,t.jsx)(n(),{src:e.image_uris?.art_crop||"/placeholder.png",alt:e.name,fill:!0,className:`rounded-md object-cover ${i?"":"grayscale"}`}),i&&!s&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-l from-cyan-800/80 to-transparent flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-bold text-white",children:["-",l]})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-white",children:e.name}),(0,t.jsxs)(o.E,{className:s?"bg-green-600":i?"bg-cyan-800":"bg-gray-600",children:[r,"/",y]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[e.set_name," #",e.collector_number]}),s?(0,t.jsx)(eu.A,{className:"w-3 h-3 text-green-400"}):i?(0,t.jsxs)("span",{className:"text-xs text-cyan-600 font-bold",children:["Faltam ",l]}):(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"N\xe3o coletada"})]})]})]},`${e.id}-${a}`)})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(er,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Selecione um tipo para come\xe7ar"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 max-w-md mx-auto",children:'Escolha um tipo de carta (como "Elfo" ou "Goblin") e clique em "Buscar" para ver todas as artes dispon\xedveis. As cartas que voc\xea j\xe1 possui aparecer\xe3o coloridas, enquanto as que faltam estar\xe3o em preto e branco.'})]})})]}),(0,t.jsxs)(Q.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[D.missing.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.$,{onClick:()=>{if(0===D.missing.length)return;let e=new Blob([[["Name","Set","Quantity","Have","Need"],...D.missing.map(e=>[e.card.name,e.card.set_name||"",(e.need-e.have).toString(),e.have.toString(),e.need.toString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="missing_cards.csv",s.click(),window.URL.revokeObjectURL(a)},variant:"outline",className:"mr-2",children:[(0,t.jsx)(ei,{className:"w-4 h-4 mr-1"}),"Exportar CSV"]}),(0,t.jsxs)(d.$,{onClick:()=>T(!0),variant:"outline",className:"mr-auto bg-cyan-900/30 hover:bg-cyan-800/50 text-cyan-400 border-cyan-800/50",children:[(0,t.jsx)(eh,{className:"w-4 h-4 mr-1"}),"Imprimir Proxies"]})]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>{h([]),I({completed:[],missing:[],allCards:[],progress:0})},disabled:0===D.allCards.length,children:[(0,t.jsx)(eg,{className:"w-4 h-4 mr-1"}),"Limpar"]}),(0,t.jsx)(d.$,{onClick:a,children:"Fechar"})]})]})})]})}s(7792),s(3847),s(9578),s(7581),s(6867);let eL=(0,p.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),eO=(0,p.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),eF=(0,p.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function eV({collection:e,onSelect:a,onDelete:s,onEdit:r,onDuplicate:l,onSetBackground:i,isActive:n}){let c=e.cards.reduce((e,a)=>e+a.quantity,0),d=e.cards.length;return(0,t.jsxs)("div",{className:`quantum-card-dense hover-highlight group relative overflow-hidden ${n?"ring-2 ring-cyan-400":""}`,onClick:()=>a(e.id),children:[e.backgroundImage&&(0,t.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"}),(0,t.jsx)("img",{src:e.backgroundImage,alt:"",className:"w-full h-full object-cover filter blur-sm"})]}),(0,t.jsx)("div",{className:"p-3 border-b border-cyan-500/20 relative z-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white truncate",children:e.name}),(0,t.jsx)("div",{className:"flex items-center gap-1 mt-1",children:(0,t.jsxs)(o.E,{className:"bg-gray-700/60 text-gray-200 text-[10px] h-4 px-1",children:[(0,t.jsx)(et,{className:"w-2 h-2 mr-1"}),"Cole\xe7\xe3o"]})})]}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),r(e.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eL,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),l(e.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eO,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),i(e.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eF,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),s(e.id)},className:"p-1 text-gray-400 hover:text-red-400 transition",children:(0,t.jsx)(A,{className:"w-3.5 h-3.5"})})]})]})}),(0,t.jsxs)("div",{className:"p-3 text-xs text-gray-400 relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Cartas \xfanicas:"}),(0,t.jsx)("span",{className:"font-mono text-cyan-400",children:d})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Total de cartas:"}),(0,t.jsx)("span",{className:"font-mono text-cyan-400",children:c})]}),e.description&&(0,t.jsx)("div",{className:"mt-2 border-t border-gray-800 pt-2 line-clamp-2 text-[11px]",children:e.description})]}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-transparent via-cyan-900/10 to-transparent cursor-pointer relative z-10",children:(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[11px] text-gray-500 group-hover:text-cyan-400",children:[(0,t.jsx)(C.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:n?"Selecionada":"Selecionar"})]})})]})}let eG=["all","common","uncommon","rare","mythic","special","bonus"],eB=["all","creature","artifact","enchantment","instant","sorcery","planeswalker","land","token","artifact creature","enchantment creature"],eU=["all","elf","goblin","zombie","angel","dragon","vampire","wizard","warrior","human","beast","spirit","sliver","merfolk","dinosaur","giant","elemental","knight","soldier","rogue","cleric"],eH=["all","legendary","basic","snow","world","ongoing"],eW=["all","foil","nonfoil"],eZ=["W","U","B","R","G","C"];function eJ({allCards:e,setAllCards:a,exportCollectionToCSV:s}){let{collections:l,currentCollection:i,currentCollectionId:m,setCurrentCollectionId:p,createCollection:j,deleteCollection:v,duplicateCollection:N,adicionarCarta:y,removerCarta:C,updateCollection:S}=(0,g.U)(),[q,_]=(0,r.useState)(null),[E,M]=(0,r.useState)(null),[P,z]=(0,r.useState)("pesquisa"),[T,D]=(0,r.useState)(!1),[I,R]=(0,r.useState)(!1),L={busca:"",raridade:"all",tipo:"all",subtipo:"all",supertipo:"all",cmc:"",foil:"all",oracleText:"",manaColors:[]},[O,G]=(0,r.useReducer)(function(e,a){switch(a.type){case"SET_FIELD":return{...e,[a.field]:a.value};case"TOGGLE_MANA_COLOR":return{...e,manaColors:e.manaColors.includes(a.color)?e.manaColors.filter(e=>e!==a.color):[...e.manaColors,a.color]};case"RESET_FILTERS":return L;default:return e}},L),B=e=>G({type:"SET_FIELD",field:"busca",value:e}),H=e=>G({type:"SET_FIELD",field:"raridade",value:e}),W=e=>G({type:"SET_FIELD",field:"tipo",value:e}),Z=e=>G({type:"SET_FIELD",field:"subtipo",value:e}),J=e=>G({type:"SET_FIELD",field:"supertipo",value:e}),ec=e=>G({type:"SET_FIELD",field:"cmc",value:e}),eo=e=>G({type:"SET_FIELD",field:"foil",value:e}),em=e=>G({type:"SET_FIELD",field:"oracleText",value:e}),ex=e=>G({type:"TOGGLE_MANA_COLOR",color:e}),[eu,eh]=(0,r.useState)("name"),[eg,ep]=(0,r.useState)("asc"),[ej,eb]=(0,r.useState)("all"),[ev,ef]=(0,r.useState)("all"),[eN,ey]=(0,r.useState)(""),[ew,eC]=(0,r.useState)("name"),[ek,eS]=(0,r.useState)("asc"),[eA,eq]=(0,r.useState)([]),[e$,e_]=(0,r.useState)(!1),[eE,eM]=(0,r.useState)(null),[eP,ez]=(0,r.useState)({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1}),[eT,eD]=(0,r.useState)(!1),[eI,eL]=(0,r.useState)(""),[eO,eF]=(0,r.useState)([]),[eJ,eK]=(0,r.useState)(!1),[eQ,eX]=(0,r.useState)(!1),[eY,e0]=(0,r.useState)([]),[e1,e2]=(0,r.useState)(""),[e4,e3]=(0,r.useState)(!1),[e5,e8]=(0,r.useState)(!1),[e6,e7]=(0,r.useState)(!1),e9=(0,r.useMemo)(()=>Array.from(new Set(["Lightning Bolt","Counterspell","Sol Ring","Swords to Plowshares","Dark Ritual",...i?i.cards.map(e=>e.card.name).slice(0,5):[]])),[i]),ae=(0,r.useCallback)(e=>{e.trim()&&(B(e),z("pesquisa"),eK(!1),eF(a=>[e,...a.filter(a=>a!==e)].slice(0,10)),eX(!0),ar("info",`Pesquisando por "${e}"...`))},[]),[aa,as]=(0,r.useState)({type:"info",message:"",visible:!1}),{openModal:at}=(0,h.h)();(0,r.useCallback)((e,a=1)=>{for(let s=0;s<a;s++)y(e);ar("success",`${a}x ${e.name} adicionada${a>1?"s":""} \xe0 cole\xe7\xe3o!`)},[y]);let ar=(0,r.useCallback)((e,a)=>{as({type:e,message:a,visible:!0}),setTimeout(()=>{as(e=>({...e,visible:!1}))},3e3)},[]),al=(0,r.useMemo)(()=>{if(!i)return[];let e=i.cards;if(eN.trim()){let a=eN.trim();e=e.filter(e=>(0,V.S)(e.card,a))}return"all"!==ej&&(e=e.filter(e=>e.card.rarity===ej)),"all"!==ev&&(e="colorless"===ev?e.filter(e=>!e.card.color_identity||0===e.card.color_identity.length):e.filter(e=>e.card.color_identity&&e.card.color_identity.includes(ev))),e.sort((e,a)=>{let s=0;switch(eu){case"name":s=e.card.name.localeCompare(a.card.name);break;case"rarity":let t={common:1,uncommon:2,rare:3,mythic:4};s=(t[e.card.rarity]||0)-(t[a.card.rarity]||0);break;case"cmc":s=(e.card.cmc||0)-(a.card.cmc||0);break;case"quantity":s=e.quantity-a.quantity;break;case"date":s=new Date(e.card.released_at||"").getTime()-new Date(a.card.released_at||"").getTime()}return"asc"===eg?s:-s}),e},[i,eN,ej,ev,eu,eg]),ai=(0,r.useCallback)(e=>{eu===e?ep(e=>"asc"===e?"desc":"asc"):(eh(e),ep("asc"))},[eu]),an=(0,r.useCallback)((e,a)=>{console.log(`Mudan\xe7a de ordena\xe7\xe3o: ${e} ${a}`),eC(e),eS(a),setTimeout(()=>ac(),100)},[]),ac=async()=>{if(!O.busca.trim()&&"all"===O.raridade&&"all"===O.tipo&&"all"===O.subtipo&&"all"===O.supertipo&&!O.cmc&&!O.oracleText&&0===O.manaColors.length&&"all"===O.foil){eM("Por favor, defina pelo menos um filtro para pesquisar");return}O.busca.trim()&&eF(e=>[O.busca.trim(),...e.filter(e=>e!==O.busca.trim())].slice(0,10)),e_(!0),eM(null);try{let e=[];if(O.busca.trim()&&e.push(O.busca.trim()),"all"!==O.raridade&&e.push(`rarity:${O.raridade}`),"all"!==O.tipo&&e.push(`type:${O.tipo}`),"all"!==O.subtipo&&e.push(`type:${O.subtipo}`),"all"!==O.supertipo&&e.push(`is:${O.supertipo}`),O.cmc){let a=parseInt(O.cmc);isNaN(a)||e.push(`cmc=${a}`)}"foil"===O.foil&&e.push("is:foil"),"nonfoil"===O.foil&&e.push("-is:foil"),O.oracleText.trim()&&e.push(`oracle:"${O.oracleText.trim()}"`),O.manaColors.length>0&&e.push(`colors:${O.manaColors.join("")}`);let a=e.join(" ");console.log("Query constru\xedda:",a),console.log("Ordena\xe7\xe3o busca:",ew,ek);let s=await (0,$.z)(a,ew,ek);if(!s.ok){if(404===s.status)eq([]),eM("Nenhuma carta encontrada com os filtros especificados");else throw Error(`Erro na API: ${s.status}`);return}let t=await s.json();eq(t.data||[]),ez({hasMore:t.has_more||!1,totalCards:t.total_cards||null,nextPageUrl:t.next_page||null,currentPage:1}),t.data&&0===t.data.length&&eM("Nenhuma carta encontrada com os filtros especificados")}catch(e){console.error("Erro ao pesquisar cartas:",e),eM("Erro ao pesquisar cartas. Tente novamente."),eq([]),ez({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1})}finally{e_(!1)}},ad=async()=>{if(eP.nextPageUrl&&!eT){eD(!0);try{let e=await fetch(eP.nextPageUrl);if(!e.ok)throw Error(`Erro na API: ${e.status}`);let a=await e.json();eq(e=>[...e,...a.data||[]]),ez(e=>({hasMore:a.has_more||!1,totalCards:a.total_cards||e.totalCards,nextPageUrl:a.next_page||null,currentPage:e.currentPage+1}))}catch(e){console.error("Erro ao carregar pr\xf3xima p\xe1gina:",e),as({type:"error",message:"Erro ao carregar mais cartas. Tente novamente.",visible:!0}),setTimeout(()=>{as(e=>({...e,visible:!1}))},3e3)}finally{eD(!1)}}},ao=e=>{let[a,s]=e.split(": ");G({type:"RESET_FILTERS"}),s.split(" ").forEach(e=>{if(e.includes(":")||e.includes("=")){if(e.startsWith("rarity:"))H(e.replace("rarity:",""));else if(e.startsWith("type:")){let a=e.replace("type:","");eU.includes(a)?Z(a):W(a)}else if(e.startsWith("is:")){let a=e.replace("is:","");"foil"===a?eo("foil"):J(a)}else e.startsWith("-is:foil")?eo("nonfoil"):e.startsWith("cmc=")?ec(e.replace("cmc=","")):e.startsWith("oracle:")?em(e.replace("oracle:","").replace(/"/g,"")):e.startsWith("colors:")&&e.replace("colors:","").split("").forEach(e=>{eZ.includes(e)&&ex(e)})}else B(e)}),setTimeout(()=>ac(),100),ar("info",`Pesquisa "${a}" carregada!`)},am=e=>{let a=[...eY],s=a[e].split(": ")[0];a.splice(e,1),e0(a),localStorage.setItem("savedSearches",JSON.stringify(a)),ar("info",`Pesquisa "${s}" removida!`)},ax=e=>e.charAt(0).toUpperCase()+e.slice(1),au=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-yellow-400";case"mythic":return"text-orange-400"}};return(0,t.jsxs)("div",{className:"quantum-compact relative",children:[(0,t.jsx)("div",{className:"ambient-glow pointer-events-none"}),aa.visible&&(0,t.jsx)("div",{className:`quantum-notification ${"success"===aa.type?"quantum-notification-success":"error"===aa.type?"quantum-notification-error":"quantum-notification-info"}`,children:aa.message}),(0,t.jsx)(ed,{isOpen:e5,onClose:()=>e8(!1),onSuccess:e=>{ar("success",`Importa\xe7\xe3o conclu\xedda! ${e} cartas adicionadas \xe0 cole\xe7\xe3o.`)}}),(0,t.jsx)(eR,{isOpen:e6,onClose:()=>e7(!1)}),(0,t.jsx)("div",{className:"quantum-card-dense mb-2 card-glow card-glow-blue",children:(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.p,{type:"text",placeholder:"Busca r\xe1pida de cartas...",value:eI,onChange:e=>{eL(e.target.value),eK(e.target.value.length>0)},onKeyPress:e=>{"Enter"===e.key&&ae(eI)},className:"quantum-field"}),(0,t.jsx)(k.A,{className:"absolute right-2 top-2 w-4 h-4 text-gray-400"}),eJ&&eI.length>0&&(0,t.jsx)("div",{className:"absolute top-full mt-1 w-full rounded-sm bg-gray-900/90 backdrop-blur-sm shadow-md overflow-hidden border border-gray-700/50 z-10",children:e9.filter(e=>e.toLowerCase().includes(eI.toLowerCase())).slice(0,5).map((e,a)=>(0,t.jsx)("button",{onClick:()=>ae(e),className:"w-full text-left px-2 py-1 text-sm hover:bg-gray-800/80 transition-colors",children:e},a))})]})})}),(0,t.jsx)("div",{className:"quantum-card-dense bg-blue-900/20 border border-blue-500/30 mb-2 card-glow card-glow-purple",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{z("pesquisa"),B(""),eM(null),eq([])},className:`quantum-btn compact ${"pesquisa"===P?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,style:{minWidth:"100px"},children:[(0,t.jsx)(k.A,{className:"w-3 h-3 mr-1"}),"Pesquisar"]}),(0,t.jsxs)("button",{onClick:()=>{z("colecao"),B("")},className:`quantum-btn compact ${"colecao"===P?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,style:{minWidth:"100px"},children:[(0,t.jsx)(X.A,{className:"w-3 h-3 mr-1"}),"Cole\xe7\xe3o (",i?.cards?.length||0,")"]}),(0,t.jsxs)("button",{onClick:()=>z("estatisticas"),className:`quantum-btn compact ${"estatisticas"===P?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,style:{minWidth:"100px"},children:[(0,t.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Estat\xedsticas"]})]}),(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:["pesquisa"===P&&(0,t.jsxs)("button",{onClick:()=>e3(!0),className:"quantum-btn compact bg-purple-600 text-white",style:{minWidth:"100px"},disabled:!O.busca.trim()&&"all"===O.raridade&&"all"===O.tipo&&"all"===O.subtipo&&"all"===O.supertipo&&!O.cmc&&!O.oracleText&&0===O.manaColors.length&&"all"===O.foil,children:[(0,t.jsx)(Y,{className:"w-3 h-3 mr-1"}),"Salvar"]}),(0,t.jsxs)("button",{onClick:()=>eX(!eQ),className:`quantum-btn compact ${eQ?"bg-green-600 text-white":"bg-gray-700 text-gray-200"}`,style:{minWidth:"100px"},children:[(0,t.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Hist\xf3rico"]})]})]}),eQ&&(0,t.jsxs)("div",{className:"mt-3 p-3 bg-green-900/20 rounded-md border border-green-500/30 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-white flex items-center gap-1",children:[(0,t.jsx)(ee,{className:"w-3 h-3 text-green-400"}),"Pesquisas recentes"]}),eY.length>0&&(0,t.jsxs)(o.E,{className:"bg-purple-700 text-white cursor-default",children:["Salvas: ",eY.length]})]}),eO.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:eO.map((e,a)=>(0,t.jsx)(o.E,{className:"bg-green-700 hover:bg-green-600 cursor-pointer text-white px-2 py-0.5 text-xs",onClick:()=>ae(e),children:e},a))}):(0,t.jsx)("p",{className:"text-gray-300 italic text-xs mb-3",children:"Nenhuma pesquisa recente. Fa\xe7a uma busca para come\xe7ar!"}),eY.length>0&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-green-500/30 pt-2 mt-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-white mb-2 flex items-center gap-1",children:[(0,t.jsx)(Y,{className:"w-3 h-3 text-purple-400"}),"Pesquisas salvas"]}),(0,t.jsx)("div",{className:"space-y-1",children:eY.map((e,a)=>{let[s]=e.split(": ");return(0,t.jsxs)("div",{className:"flex justify-between items-center bg-gray-800/50 rounded px-2 py-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-200",children:s}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>ao(e),className:"p-1 rounded hover:bg-gray-700/50",children:(0,t.jsx)(k.A,{className:"w-3 h-3 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>am(a),className:"p-1 rounded hover:bg-gray-700/50",children:(0,t.jsx)(A,{className:"w-3 h-3 text-red-400"})})]})]},a)})})]})})]})]})}),"pesquisa"===P&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-2",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"quantum-card-dense p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ea.A,{className:"w-3 h-3 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Filtros"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Nome"}),(0,t.jsx)(c.p,{type:"text",placeholder:"Ex: Lightning Bolt",value:O.busca,onChange:e=>B(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ac()},className:"quantum-field-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Raridade"}),(0,t.jsx)(x,{value:O.raridade,onChange:H,options:eG.map(e=>({value:e,label:"all"===e?"Todas":ax(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Tipo"}),(0,t.jsx)(x,{value:O.tipo,onChange:W,options:eB.map(e=>({value:e,label:"all"===e?"Todos":ax(e)}))})]})]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>D(!T),className:"quantum-btn w-full text-xs h-7",size:"sm",children:[(0,t.jsx)(U,{className:"w-3 h-3 mr-1"}),T?"Ocultar":"Mais"," Filtros"]}),T&&(0,t.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-800",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Subtipo"}),(0,t.jsx)(x,{value:O.subtipo,onChange:Z,options:eU.map(e=>({value:e,label:"all"===e?"Todos":ax(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"CMC"}),(0,t.jsx)(c.p,{type:"number",placeholder:"Ex: 3",value:O.cmc,onChange:e=>ec(e.target.value),className:"quantum-field-sm h-7"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Supertipo"}),(0,t.jsx)(x,{value:O.supertipo,onChange:J,options:eH.map(e=>({value:e,label:"all"===e?"Todos":ax(e)}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Foil"}),(0,t.jsx)(x,{value:O.foil,onChange:eo,options:eW.map(e=>({value:e,label:"all"===e?"Todas":"foil"===e?"Foil":"Normal"}))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Texto Oracle"}),(0,t.jsx)(u.T,{placeholder:"Ex: exile target creature",value:O.oracleText,onChange:e=>em(e.target.value),className:"quantum-field-sm",rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:eZ.map(e=>(0,t.jsx)(d.$,{variant:O.manaColors.includes(e)?"default":"outline",onClick:()=>ex(e),className:`w-6 h-6 p-0 text-xs ${O.manaColors.includes(e)?"W"===e?"bg-yellow-200 text-gray-900":"U"===e?"bg-blue-500":"B"===e?"bg-gray-900 text-white border-gray-600":"R"===e?"bg-red-500":"G"===e?"bg-green-500":"bg-gray-400":"border-gray-600 text-gray-300"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(d.$,{onClick:ac,disabled:e$,className:"quantum-btn flex-1 compact primary",size:"sm",children:[e$?(0,t.jsx)(es.A,{className:"w-3 h-3 mr-1 animate-spin"}):(0,t.jsx)(k.A,{className:"w-3 h-3 mr-1"}),"Buscar"]}),(0,t.jsx)(d.$,{variant:"outline",onClick:()=>{G({type:"RESET_FILTERS"}),eq([]),eM(null),ez({hasMore:!1,totalCards:null,nextPageUrl:null,currentPage:1})},className:"quantum-btn",size:"sm",children:(0,t.jsx)(A,{className:"w-3 h-3"})})]}),(0,t.jsxs)("div",{className:"flex items-center pt-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrarCartasNaColecao",checked:I,onChange:e=>R(e.target.checked),className:"mr-1 h-3 w-3"}),(0,t.jsx)("label",{htmlFor:"mostrarCartasNaColecao",className:"text-xs text-gray-400",children:"Destacar cartas na cole\xe7\xe3o"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:eE?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(f.A,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:eE}),(0,t.jsxs)(d.$,{onClick:ac,variant:"outline",className:"quantum-btn mt-2",children:[(0,t.jsx)(es.A,{className:"w-3 h-3 mr-1"}),"Tentar Novamente"]})]}):e$?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(es.A,{className:"w-8 h-8 mx-auto mb-2 text-blue-500 animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Pesquisando cartas..."})]}):eA.length>0?(0,t.jsx)(F,{cards:eA,collection:i?.cards||[],onAddCard:y,searchResults:{hasMore:eP.hasMore,nextPage:ad,totalCards:eP.totalCards||void 0,currentPage:eP.currentPage,isLoadingMore:eT},onSortChange:an,currentSort:{mode:ew,direction:ek}}):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(k.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquise por cartas"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:"Use os filtros ao lado para encontrar cartas espec\xedficas"}),(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)(d.$,{onClick:()=>B("Lightning Bolt"),className:"quantum-btn text-xs h-7",children:"Lightning Bolt"}),(0,t.jsx)(d.$,{onClick:()=>H("mythic"),className:"quantum-btn text-xs h-7",children:"Cartas M\xedticas"})]})]})})})]}),"colecao"===P&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(et,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Minhas Cole\xe7\xf5es"})]}),(0,t.jsxs)(d.$,{onClick:()=>j("Nova Cole\xe7\xe3o"),className:"quantum-btn compact primary",children:[(0,t.jsx)(b.A,{className:"w-3.5 h-3.5 mr-1"}),"Nova Cole\xe7\xe3o"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:l.map(e=>(0,t.jsx)(eV,{collection:e,onSelect:p,onDelete:v,onEdit:e=>_(l.find(a=>a.id===e)||null),onDuplicate:N,onSetBackground:M,isActive:m===e.id},e.id))})]}),(0,t.jsx)(Q.lG,{open:e4,onOpenChange:e3,children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(Y,{className:"w-4 h-4 text-purple-400"}),"Salvar Pesquisa"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"search-name",className:"quantum-label",children:"Nome da pesquisa"}),(0,t.jsx)(c.p,{id:"search-name",value:e1,onChange:e=>e2(e.target.value),placeholder:"Ex: Criaturas Vermelhas",className:"quantum-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Filtros atuais"}),(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded p-2 text-xs text-gray-300 max-h-24 overflow-y-auto",children:[O.busca.trim()&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Busca:"})," ",O.busca]}),"all"!==O.raridade&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Raridade:"})," ",O.raridade]}),"all"!==O.tipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Tipo:"})," ",O.tipo]}),"all"!==O.subtipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Subtipo:"})," ",O.subtipo]}),"all"!==O.supertipo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Supertipo:"})," ",O.supertipo]}),O.cmc&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"CMC:"})," ",O.cmc]}),"all"!==O.foil&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Foil:"})," ",O.foil]}),O.oracleText.trim()&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Texto Oracle:"})," ",O.oracleText]}),O.manaColors.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-cyan-400",children:"Cores:"})," ",O.manaColors.join(", ")]})]})]})]}),(0,t.jsxs)(Q.Es,{children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>e3(!1),children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{if(!e1.trim())return;let e=[];O.busca.trim()&&e.push(O.busca.trim()),"all"!==O.raridade&&e.push(`rarity:${O.raridade}`),"all"!==O.tipo&&e.push(`type:${O.tipo}`),"all"!==O.subtipo&&e.push(`type:${O.subtipo}`),"all"!==O.supertipo&&e.push(`is:${O.supertipo}`),O.cmc&&e.push(`cmc=${O.cmc}`),"foil"===O.foil&&e.push("is:foil"),"nonfoil"===O.foil&&e.push("-is:foil"),O.oracleText.trim()&&e.push(`oracle:"${O.oracleText.trim()}"`),O.manaColors.length>0&&e.push(`colors:${O.manaColors.join("")}`);let a=e.join(" "),s=[...eY,`${e1}: ${a}`];e0(s),localStorage.setItem("savedSearches",JSON.stringify(s)),e3(!1),e2(""),ar("success",`Pesquisa "${e1}" salva com sucesso!`)},disabled:!e1.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[(0,t.jsx)(Y,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})}),(0,t.jsx)(Q.lG,{open:!!q,onOpenChange:e=>!e&&_(null),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsx)(Q.L3,{children:"Editar Cole\xe7\xe3o"})}),q&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"collection-name",className:"quantum-label",children:"Nome"}),(0,t.jsx)(c.p,{id:"collection-name",value:q.name,onChange:e=>_({...q,name:e.target.value}),className:"quantum-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"collection-description",className:"quantum-label",children:"Descri\xe7\xe3o"}),(0,t.jsx)(u.T,{id:"collection-description",value:q.description,onChange:e=>_({...q,description:e.target.value}),className:"quantum-field"})]})]}),(0,t.jsxs)(Q.Es,{children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>_(null),children:"Cancelar"}),(0,t.jsx)(d.$,{onClick:()=>{q&&(S(q.id,{name:q.name,description:q.description}),_(null))},children:"Salvar"})]})]})}),(0,t.jsx)(Q.lG,{open:!!E,onOpenChange:e=>!e&&M(null),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense overflow-hidden border border-cyan-500/20 bg-gradient-to-b from-gray-900/95 to-black/95 backdrop-blur-lg focus:outline-none fixed-modal card-selector-modal z-[10000]",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-cyan-500/20 pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(et,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)(Q.L3,{className:"text-lg font-medium text-cyan-400",children:"Escolher Imagem de Fundo"})]}),(0,t.jsx)(d.$,{onClick:()=>M(null),className:"h-7 w-7 p-0 rounded-full bg-gray-800/60 hover:bg-gray-700/60 border-none",children:(0,t.jsx)(b.A,{className:"h-3.5 w-3.5 text-gray-400 rotate-45"})})]})}),(0,t.jsx)("div",{className:"max-h-[60vh] overflow-y-auto p-1 quantum-scrollbar",children:(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:l.find(e=>e.id===E)?.cards.map(e=>t.jsxs("div",{className:"relative cursor-pointer rounded-md overflow-hidden transition-all hover:scale-[1.03] group ring-1 ring-gray-700 hover:ring-cyan-400",onClick:()=>{let a=e.card.image_uris?.art_crop||e.card.image_uris?.normal;a&&E&&S(E,{backgroundImage:a})},children:[t.jsx(n(),{src:e.card.image_uris?.small||"/placeholder.png",alt:e.card.name,width:146,height:204,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-1",children:t.jsx("p",{className:"text-xs text-white truncate",children:e.card.name})})]},e.card.id))})}),(0,t.jsxs)(Q.Es,{className:"pt-4 border-t border-cyan-500/20",children:[(0,t.jsx)(d.$,{variant:"outline",className:"quantum-btn compact",onClick:()=>{E&&S(E,{backgroundImage:void 0}),M(null)},children:"Usar Padr\xe3o"}),(0,t.jsx)(d.$,{className:"quantum-btn primary compact",onClick:()=>M(null),children:"Conclu\xeddo"})]})]})}),i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"quantum-title",children:i.name})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{onClick:()=>e7(!0),className:"quantum-btn compact bg-purple-600 hover:bg-purple-700",size:"sm",disabled:!i,children:[(0,t.jsx)(er,{className:"w-3 h-3 mr-1"}),"Completar"]}),(0,t.jsxs)(d.$,{onClick:()=>e8(!0),className:"quantum-btn compact bg-cyan-600 hover:bg-cyan-700",size:"sm",disabled:!i,children:[(0,t.jsx)(el,{className:"w-3 h-3 mr-1"}),"Importar"]}),(0,t.jsxs)(d.$,{onClick:()=>s(i),className:"quantum-btn compact",size:"sm",disabled:!i,children:[(0,t.jsx)(ei,{className:"w-3 h-3 mr-1"}),"Exportar"]})]})]}),(0,t.jsx)("div",{className:"quantum-card-dense p-2 mb-2 filtros-colecao",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,t.jsx)(c.p,{placeholder:"Buscar na cole\xe7\xe3o...",value:eN,onChange:e=>ey(e.target.value),className:"quantum-field-sm h-7"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(x,{value:ej,onChange:eb,options:[{value:"all",label:"Todas"},{value:"common",label:"Comum"},{value:"uncommon",label:"Incomum"},{value:"rare",label:"Rara"},{value:"mythic",label:"M\xedtica"}],placeholder:"Raridade",className:"flex-1"}),(0,t.jsx)(x,{value:ev,onChange:ef,options:[{value:"all",label:"Todas"},{value:"W",label:"Branco"},{value:"U",label:"Azul"},{value:"B",label:"Preto"},{value:"R",label:"Vermelho"},{value:"G",label:"Verde"},{value:"colorless",label:"Incolor"}],placeholder:"Cor",className:"flex-1"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>ai("name"),className:"quantum-btn compact flex-1",size:"sm",children:["Nome ","name"===eu&&("asc"===eg?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>ai("rarity"),className:"quantum-btn compact flex-1",size:"sm",children:["Raridade ","rarity"===eu&&("asc"===eg?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>ai("date"),className:"quantum-btn compact flex-1",size:"sm",children:["Data ","date"===eu&&("asc"===eg?"↑":"↓")]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>ai("cmc"),className:"quantum-btn compact flex-1",size:"sm",children:["CMC ","cmc"===eu&&("asc"===eg?"↑":"↓")]})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:0===al.length?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(X.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Cole\xe7\xe3o vazia"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:'Adicione cartas \xe0 sua cole\xe7\xe3o pesquisando na aba "Pesquisar"'}),(0,t.jsxs)(d.$,{onClick:()=>z("pesquisa"),className:"quantum-btn primary",children:[(0,t.jsx)(k.A,{className:"w-3 h-3 mr-1"}),"Pesquisar Cartas"]})]}):(0,t.jsx)(K,{collectionCards:al,onAddCard:y,onRemoveCard:C})})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Nenhuma cole\xe7\xe3o selecionada. Crie uma para come\xe7ar."})})]}),"estatisticas"===P&&(0,t.jsx)("div",{className:"space-y-2",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"quantum-grid-3",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(X.A,{className:"w-5 h-5 mx-auto mb-1 text-blue-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:i.cards.length}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cartas \xfanicas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(en.A,{className:"w-5 h-5 mx-auto mb-1 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:i.cards.reduce((e,a)=>e+a.quantity,0)}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Total de cartas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(w.A,{className:"w-5 h-5 mx-auto mb-1 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:new Set(i.cards.map(e=>e.card.set_code)).size}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cole\xe7\xf5es diferentes"})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Distribui\xe7\xe3o por Raridade"}),(0,t.jsx)("div",{className:"space-y-2",children:["common","uncommon","rare","mythic"].map(e=>{let a=i.cards.filter(a=>a.card.rarity===e).length,s=i.cards.length>0?(a/i.cards.length*100).toFixed(1):"0";return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:`text-xs font-medium ${au(e)}`,children:ax(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-700 rounded-full h-1.5",children:(0,t.jsx)("div",{className:`h-1.5 rounded-full ${"common"===e?"bg-gray-400":"uncommon"===e?"bg-green-400":"rare"===e?"bg-yellow-400":"bg-orange-400"}`,style:{width:`${s}%`}})}),(0,t.jsx)("span",{className:"text-gray-300 text-xs w-6 text-right",children:a}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-10 text-right",children:["(",s,"%)"]})]})]},e)})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Top 5 Cole\xe7\xf5es por Cartas"}),(0,t.jsx)("div",{className:"space-y-1",children:Object.entries(i.cards.reduce((e,a)=>{let s=a.card.set_name;return e[s]=(e[s]||0)+1,e},{})).sort(([,e],[,a])=>a-e).slice(0,5).map(([e,a],s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-4",children:[s+1,"."]}),(0,t.jsx)("span",{className:"text-white text-xs",children:e})]}),(0,t.jsx)("span",{className:"quantum-microtag",children:a})]},e))})]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Selecione uma cole\xe7\xe3o para ver as estat\xedsticas."})})})]})}var eK="Progress",[eQ,eX]=(0,eb.A)(eK),[eY,e0]=eQ(eK),e1=r.forwardRef((e,a)=>{var s,r;let{__scopeProgress:l,value:i=null,max:n,getValueLabel:c=e3,...d}=e;(n||0===n)&&!e6(n)&&console.error((s=`${n}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let o=e6(n)?n:100;null===i||e7(i,o)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=e7(i,o)?i:null,x=e8(m)?c(m,o):void 0;return(0,t.jsx)(eY,{scope:l,value:m,max:o,children:(0,t.jsx)(ey.sG.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":e8(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":e5(m,o),"data-value":m??void 0,"data-max":o,...d,ref:a})})});e1.displayName=eK;var e2="ProgressIndicator",e4=r.forwardRef((e,a)=>{let{__scopeProgress:s,...r}=e,l=e0(e2,s);return(0,t.jsx)(ey.sG.div,{"data-state":e5(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:a})});function e3(e,a){return`${Math.round(e/a*100)}%`}function e5(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function e8(e){return"number"==typeof e}function e6(e){return e8(e)&&!isNaN(e)&&e>0}function e7(e,a){return e8(e)&&!isNaN(e)&&e<=a&&e>=0}e4.displayName=e2;let e9=r.forwardRef(({className:e,value:a,...s},r)=>(0,t.jsx)(e1,{ref:r,className:(0,eP.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,t.jsx)(e4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));e9.displayName=e1.displayName;var ae=s(8947);let aa=(0,p.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),as=(0,p.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),at=(0,p.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var ar=s(1312);let al=(0,p.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ai=(0,p.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),an=(0,p.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ac=(0,p.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ad=(0,p.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ao=(0,p.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),am=(0,p.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ax=(0,p.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var au=s(7235);function ah({onNavigate:e}){let{currentCollection:a,decks:s}=(0,g.U)(),l=a=>{"add-card"===a?e("colecao"):alert(`A funcionalidade "${a}" est\xe1 em desenvolvimento.`)},i=(0,r.useMemo)(()=>{if(!a||!a.cards)return{totalCards:0,uniqueCards:0,totalDecks:s?.length||0,collectionValue:0,weeklyGoal:65,weeklyProgress:0,monthlyGrowth:0,avgCardValue:0};let e=a.cards.reduce((e,a)=>e+a.quantity,0),t=a.cards.length,r=a.cards.reduce((e,a)=>e+parseFloat(a.card.prices?.usd||"0")*a.quantity,0);return{totalCards:e,uniqueCards:t,totalDecks:s?.length||0,collectionValue:r,weeklyGoal:65,weeklyProgress:42,monthlyGrowth:12.5,avgCardValue:e>0?r/e:0}},[a,s]),[n]=(0,r.useState)([{name:"Colecionador Iniciante",description:"Possua 100 cartas \xfanicas",progress:100,icon:w.A,rarity:"common",unlockedAt:"2024-01-15"},{name:"Construtor de Decks",description:"Crie 5 decks diferentes",progress:80,icon:ae.A,rarity:"uncommon",unlockedAt:null},{name:"Explorador de Cores",description:"Tenha cartas de todas as 5 cores",progress:100,icon:aa,rarity:"rare",unlockedAt:"2024-02-03"},{name:"Veterano MTG",description:"Possua cartas de 10 expans\xf5es diferentes",progress:75,icon:as,rarity:"mythic",unlockedAt:null}]),[c]=(0,r.useState)([{name:"Lightning Bolt",set:"2XM",rarity:"common",addedAt:"2h",value:.25,quantity:4},{name:"Counterspell",set:"TSR",rarity:"common",addedAt:"5h",value:.5,quantity:2},{name:"Serra Angel",set:"M21",rarity:"uncommon",addedAt:"1d",value:1.2,quantity:1},{name:"Black Lotus",set:"LEA",rarity:"rare",addedAt:"2d",value:8500,quantity:1}]),[d]=(0,r.useState)([{color:"Azul",percentage:28,count:249,bgColor:"from-blue-500 to-blue-600"},{color:"Preto",percentage:24,count:214,bgColor:"from-gray-700 to-gray-900"},{color:"Vermelho",percentage:20,count:178,bgColor:"from-red-500 to-red-600"},{color:"Verde",percentage:16,count:143,bgColor:"from-green-500 to-green-600"},{color:"Branco",percentage:12,count:107,bgColor:"from-gray-200 to-gray-400"}]),[m]=(0,r.useState)([{label:"Add Carta",icon:b.A,action:"add-card",color:"blue"},{label:"Relat\xf3rios",icon:at,action:"reports",color:"purple"},{label:"Comunidade",icon:ar.A,action:"community",color:"green"},{label:"An\xe1lises",icon:al,action:"analytics",color:"yellow"},{label:"Eventos",icon:ai,action:"events",color:"red"},{label:"Favoritos",icon:an,action:"favorites",color:"pink"}]);return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ac,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400 ml-auto",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),(0,t.jsx)("span",{children:"Sincronizado"}),(0,t.jsx)(ex,{className:"w-3 h-3 ml-2"}),(0,t.jsx)("span",{children:"2min"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(at,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsx)(ad,{className:"w-3 h-3 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.totalCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-green-400",children:["+",i.monthlyGrowth,"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(ao,{className:"w-3.5 h-3.5 text-purple-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Cartas \xdanicas"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.uniqueCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[(i.uniqueCards/i.totalCards*100).toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(ae.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Decks Ativos"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:i.totalDecks}),(0,t.jsx)("span",{className:"text-xs text-green-400",children:"2 comp."})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(am,{className:"w-3.5 h-3.5 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Valor Estimado"})]}),(0,t.jsx)(al,{className:"w-3 h-3 text-yellow-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-white",children:["R$ ",i.collectionValue.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),(0,t.jsxs)("span",{className:"text-xs text-yellow-400",children:["~R$",i.avgCardValue.toFixed(2),"/un"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ax,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Meta Semanal"})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,t.jsx)(ex,{className:"w-3 h-3"}),"4d restantes"]})]})}),(0,t.jsxs)("div",{className:"p-3 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Progresso"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[i.weeklyProgress,"/",i.weeklyGoal," cartas"]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(e9,{value:i.weeklyProgress/i.weeklyGoal*100,className:"h-1.5 bg-gray-800"}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-500",children:[(0,t.jsx)("span",{children:"0"}),(0,t.jsxs)("span",{className:"font-medium text-blue-400",children:[Math.round(i.weeklyProgress/i.weeklyGoal*100),"%"]}),(0,t.jsx)("span",{children:i.weeklyGoal})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-900/20 p-2 rounded-md border border-blue-900/30",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] text-blue-400",children:"Faltam apenas"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-white",children:[i.weeklyGoal-i.weeklyProgress," cartas"]})]}),(0,t.jsx)(aa,{className:"w-6 h-6 text-yellow-400"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(as,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Conquistas"})]}),(0,t.jsxs)("span",{className:"text-xs bg-green-900/30 text-green-400 px-1.5 py-0.5 rounded text-[10px]",children:[n.filter(e=>100===e.progress).length," desbloqueadas"]})]})}),(0,t.jsx)("div",{className:"p-2",children:n.slice(0,3).map((e,a)=>{let s=e.icon,r=100===e.progress;return(0,t.jsx)("div",{className:"p-2 hover:bg-gray-800/50 rounded-sm transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-6 h-6 rounded-md flex items-center justify-center 
                      ${r?"bg-yellow-500/20 text-yellow-400":"bg-gray-700/30 text-gray-500"}`,children:(0,t.jsx)(s,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:`text-xs font-medium truncate
                          ${r?"text-white":"text-gray-400"}`,children:e.name}),(0,t.jsx)(o.E,{className:`h-4 text-[8px] px-1 ml-1 
                          ${"mythic"===e.rarity?"bg-red-900/30 text-red-400 hover:bg-red-900/40":"rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"}`,children:e.rarity})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:"flex-1 bg-gray-800/70 rounded-full h-1",children:(0,t.jsx)("div",{className:`h-1 rounded-full transition-all 
                              ${r?"bg-yellow-500/80":"bg-blue-500/70"}`,style:{width:`${e.progress}%`}})}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-medium",children:[e.progress,"%"]})]})]})]})},a)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ex,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Adi\xe7\xf5es Recentes"})]}),(0,t.jsxs)("button",{className:"text-xs text-gray-400 hover:text-cyan-400 flex items-center gap-1 transition-colors",children:[(0,t.jsx)(C.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver todas"})]})]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-800/50",children:c.map((e,a)=>(0,t.jsxs)("div",{className:"p-2 hover:bg-gray-800/30 transition-colors flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center text-blue-400 font-semibold text-xs flex-shrink-0",children:e.name.charAt(0)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white truncate",children:e.name}),(0,t.jsx)(o.E,{className:"h-4 text-[8px] px-1 bg-gray-700 text-gray-300 hover:bg-gray-600",children:e.set})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px]",children:[(0,t.jsx)(o.E,{className:`h-3.5 text-[8px] px-1
                        ${"rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"}`,children:e.rarity}),(0,t.jsxs)("span",{className:"text-gray-500",children:[e.quantity,"x"]}),(0,t.jsxs)("span",{className:"text-green-400",children:["R$ ",e.value.toFixed(2)]})]})]})]}),(0,t.jsx)("div",{className:"text-right flex-shrink-0",children:(0,t.jsx)("p",{className:"text-[10px] text-gray-500",children:e.addedAt})})]},a))})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(au.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Distribui\xe7\xe3o"})]})}),(0,t.jsx)("div",{className:"p-3 space-y-2",children:d.map((e,a)=>(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:`w-2.5 h-2.5 rounded-full bg-gradient-to-r ${e.bgColor}`}),(0,t.jsx)("span",{className:"text-gray-300",children:e.color})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("span",{className:"font-medium text-white",children:[e.percentage,"%"]})})]}),(0,t.jsx)("div",{className:"w-full bg-gray-800/70 rounded-full h-1.5",children:(0,t.jsx)("div",{className:`h-1.5 rounded-full bg-gradient-to-r ${e.bgColor} transition-all duration-300`,style:{width:`${e.percentage}%`}})}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500 text-right mt-0.5",children:[e.count," cartas"]})]},a))})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ax,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"A\xe7\xf5es R\xe1pidas"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:m.map((e,a)=>{let s=e.icon;return(0,t.jsxs)("button",{className:`p-2 rounded-md transition-all flex flex-col items-center ${{blue:"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",purple:"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30",green:"bg-green-500/20 text-green-400 hover:bg-green-500/30",yellow:"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30",red:"bg-red-500/20 text-red-400 hover:bg-red-500/30",pink:"bg-pink-500/20 text-pink-400 hover:bg-pink-500/30"}[e.color]}`,onClick:()=>l(e.action),children:[(0,t.jsx)(s,{className:"w-4 h-4 mb-1"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.action)})})})]})]})}var ag=s(3974);function ap({cards:e,onCardClick:a,onAddCard:s}){let[l,i]=(0,r.useState)("grid");return((0,r.useState)(()=>{let e=localStorage.getItem("cardView");("grid"===e||"list"===e)&&i(e)}),"grid"===l)?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.map(e=>(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] group",onClick:()=>a?.(e),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n(),{src:e.image_uris?.normal||"/placeholder-card.jpg",alt:e.name,width:265,height:370,className:"w-full h-auto"}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:e.rarity})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2 transition-opacity",children:(0,t.jsxs)(d.$,{size:"sm",onClick:a=>{a.stopPropagation(),s(e)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Adicionar"]})})]})},e.id))}):(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>a?.(e),children:[(0,t.jsx)("div",{className:"w-10 h-14 relative flex-shrink-0",children:(0,t.jsx)(n(),{src:e.image_uris?.small||e.image_uris?.normal||"/placeholder-card.jpg",alt:e.name,fill:!0,className:"object-cover rounded"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:[e.set_name," (",e.set_code.toUpperCase(),")"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.type_line})]}),(0,t.jsxs)(d.$,{size:"sm",variant:"ghost",onClick:a=>{a.stopPropagation(),s(e)},className:"flex-shrink-0",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]},e.id))})}let aj=({onImportSuccess:e,onImportError:a,className:s=""})=>{let{importarDeckDeLista:l}=(0,g.U)(),[i,n]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)({type:null,message:""}),[b,v]=(0,r.useState)({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),[N,y]=(0,r.useState)(""),w=`4 Lightning Bolt
4 Monastery Swiftspear
4 Lava Spike
3 Rift Bolt
4 Mountain
3 Ramunap Ruins

Sideboard:
2 Smash to Smithereens
3 Kor Firewalker
2 Deflecting Palm`,C=async()=>{if(!b.name.trim()||!N.trim()){p({type:"error",message:"Nome do deck e lista de cartas s\xe3o obrigat\xf3rios"});return}x(!0),p({type:null,message:""});try{await l(N,b),p({type:"success",message:`Deck "${b.name}" importado com sucesso!`}),v({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),y(""),e&&e(""),setTimeout(()=>{n(!1),p({type:null,message:""})},2e3)}catch(s){let e=s instanceof Error?s.message:"Erro desconhecido ao importar deck";p({type:"error",message:e}),a&&a(e)}finally{x(!1)}},k=(()=>{if(!N.trim())return{mainboard:0,sideboard:0,commander:0};let e=N.split("\n").filter(e=>e.trim()),a="mainboard",s={mainboard:0,sideboard:0,commander:0};return e.forEach(e=>{let t=e.trim().toLowerCase();if(t.includes("sideboard")){a="sideboard";return}if(t.includes("commander")){a="commander";return}let r=e.match(/^(\d+)x?\s+(.+)$/);if(r){let e=parseInt(r[1]);s[a]+=e}}),s})();return(0,t.jsxs)(Q.lG,{open:i,onOpenChange:n,children:[(0,t.jsx)(Q.zM,{asChild:!0,children:(0,t.jsxs)(d.$,{variant:"outline",className:`border-gray-600 text-gray-300 hover:bg-gray-700 ${s}`,children:[(0,t.jsx)(el,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsxs)(Q.Cf,{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(et,{className:"w-5 h-5"}),"Importar Lista de Deck"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(G.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(G.aR,{className:"pb-3",children:(0,t.jsx)(G.ZB,{className:"text-white text-sm",children:"Informa\xe7\xf5es do Deck"})}),(0,t.jsxs)(G.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome do Deck *"}),(0,t.jsx)(c.p,{value:b.name,onChange:e=>v(a=>({...a,name:e.target.value})),placeholder:"Ex: Burn Vermelho",className:"bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Formato"}),(0,t.jsxs)(ag.l6,{value:b.format,onValueChange:e=>v(a=>({...a,format:e})),children:[(0,t.jsx)(ag.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsx)(ag.gC,{children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(ag.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,t.jsx)(u.T,{value:b.description,onChange:e=>v(a=>({...a,description:e.target.value})),placeholder:"Descri\xe7\xe3o do deck...",rows:3,className:"bg-gray-700/50 border-gray-600 text-white"})]})]})]}),N.trim()&&(0,t.jsxs)(G.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(G.aR,{className:"pb-3",children:(0,t.jsx)(G.ZB,{className:"text-white text-sm",children:"Preview"})}),(0,t.jsx)(G.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[k.mainboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Deck Principal:"}),(0,t.jsxs)(o.E,{variant:"outline",children:[k.mainboard," cartas"]})]}),k.sideboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Sideboard:"}),(0,t.jsxs)(o.E,{variant:"outline",children:[k.sideboard," cartas"]})]}),k.commander>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Commander:"}),(0,t.jsxs)(o.E,{variant:"outline",children:[k.commander," cartas"]})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,t.jsx)("span",{className:"text-white",children:"Total:"}),(0,t.jsxs)(o.E,{children:[k.mainboard+k.sideboard+k.commander," cartas"]})]})})]})})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(G.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(G.aR,{className:"pb-3",children:(0,t.jsx)(G.ZB,{className:"text-white text-sm",children:"Lista de Cartas *"})}),(0,t.jsxs)(G.Wu,{className:"space-y-3",children:[(0,t.jsx)(u.T,{value:N,onChange:e=>y(e.target.value),placeholder:`Cole sua lista de deck aqui...

Exemplo:
${w}`,rows:12,className:"bg-gray-700/50 border-gray-600 text-white font-mono text-sm"}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,t.jsx)("p",{className:"mb-1",children:"Formato aceito:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:'Quantidade seguida do nome: "4 Lightning Bolt"'}),(0,t.jsx)("li",{children:"Com 'x': \"4x Lightning Bolt\""}),(0,t.jsx)("li",{children:'Se\xe7\xf5es: "Sideboard:" ou "Commander:"'}),(0,t.jsx)("li",{children:"Uma carta por linha"})]})]})]})]})})]}),h.type&&(0,t.jsxs)("div",{className:`p-3 rounded-lg border flex items-center gap-2 ${"success"===h.type?"bg-green-900/20 border-green-600 text-green-300":"bg-red-900/20 border-red-600 text-red-300"}`,children:["success"===h.type?(0,t.jsx)(eu.A,{className:"w-4 h-4"}):(0,t.jsx)(f.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:h.message})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-600",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>n(!1),disabled:m,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"}),(0,t.jsx)(d.$,{onClick:C,disabled:!b.name.trim()||!N.trim()||m,className:"bg-blue-600 hover:bg-blue-700",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsx)(d.$,{onClick:C,disabled:!b.name.trim()||!N.trim()||m,className:"bg-blue-600 hover:bg-blue-700",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})})]})]})]})};var ab=s(1860);let av=({searchTerm:e,raridade:a,tipo:s,onAddCard:l,currentDeck:i,currentCollection:c})=>{let[d,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(new Set),u=async(e,a,s)=>{try{o(e.id),await l(e,a,s),x(a=>new Set(a.add(e.id))),setTimeout(()=>{x(a=>{let s=new Set(a);return s.delete(e.id),s})},2e3)}catch(e){console.error("Erro ao adicionar carta:",e)}finally{o(null)}},h=(0,r.useMemo)(()=>{let t=c.cards;return e.trim()&&(t=t.filter(a=>(0,V.S)(a.card,e))),"all"!==a&&(t=t.filter(e=>e.card.rarity===a)),"all"!==s&&(t=t.filter(e=>e.card.type_line.toLowerCase().includes(s))),t},[c.cards,e,a,s]);return 0===h.length?(0,t.jsxs)("div",{className:"mtg-card text-center py-12",children:[(0,t.jsx)(X.A,{className:"w-16 h-16 mx-auto mb-4 text-slate-500"}),(0,t.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Nenhuma carta encontrada"}),(0,t.jsx)("p",{className:"text-slate-400",children:e.trim()||"all"!==a||"all"!==s?"Tente ajustar os filtros":"Sua cole\xe7\xe3o est\xe1 vazia"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(e=>{let a=e.card,s=i.cards.find(e=>e.card.id===a.id),r=m.has(a.id);return(0,t.jsx)("div",{className:`mtg-card-mini transition-all duration-200 ${r?"border-green-500/70 shadow-lg shadow-green-500/20 scale-105":""}`,children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:af(a)&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n(),{src:af(a),alt:a.name,width:60,height:84,className:"rounded-lg border border-slate-600"}),r&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(b.A,{className:"w-3 h-3 text-white"})})]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-sm truncate mb-1",title:a.name,children:a.name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-1 truncate",title:a.set_name,children:a.set_name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-3 line-clamp-2",title:a.type_line,children:a.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-secondary text-xs",children:[e.quantity,"x cole\xe7\xe3o"]}),s&&(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-success text-xs",children:[s.quantity,"x deck"]})]}),(0,t.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>u(a,"mainboard",1),disabled:d===a.id,className:`h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ${m.has(a.id)?"bg-green-500 hover:bg-green-600 text-white shadow-md scale-105":"bg-green-600 hover:bg-green-700 text-white"}`,children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(b.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Principal"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Main"})]}),(0,t.jsxs)("button",{onClick:()=>u(a,"sideboard",1),disabled:d===a.id,className:`h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ${m.has(a.id)?"border-green-500 text-green-400 bg-green-900/20 shadow-md scale-105":"border-slate-600 text-slate-300 hover:bg-slate-700"} border`,children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(b.A,{className:"w-3 h-3"}),"Side"]}),"Commander"===i.format&&(0,t.jsxs)("button",{onClick:()=>u(a,"commander",1),disabled:d===a.id,className:`h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ${m.has(a.id)?"border-yellow-400 text-yellow-300 bg-yellow-900/30 shadow-md scale-105":"border-yellow-600 text-yellow-400 hover:bg-yellow-900/20"} border`,children:[d===a.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(b.A,{className:"w-3 h-3"}),"Cmd"]})]})]})]})})},a.id)})})},af=(e,a="small")=>(0,q.VG)(e,a),aN=({deckId:e,onSave:a,onCancel:s})=>{let{decks:l,criarDeck:i,editarDeck:o,adicionarCartaAoDeck:m,removerCartaDoDeck:x,atualizarQuantidadeNoDeck:p,currentCollection:N}=(0,g.U)(),{openModal:y}=(0,h.h)(),w=e?l.find(a=>a.id===e):null,[A,q]=(0,r.useState)({name:w?.name||"",format:w?.format||"Standard",description:w?.description||"",colors:w?.colors||[],tags:w?.tags||[],isPublic:w?.isPublic||!1}),[_,M]=(0,r.useState)(""),[P,z]=(0,r.useState)("all"),[T,D]=(0,r.useState)("all"),[I,R]=(0,r.useState)(""),[L,O]=(0,r.useState)([]),[F,V]=(0,r.useState)([]),[G,H]=(0,r.useState)(!1),[W,Z]=(0,r.useState)(null),[J,K]=(0,r.useState)("search"),[Q,ee]=(0,r.useState)("all"),[et,er]=(0,r.useState)("list"),el=w||{id:"temp",cards:[],...A,createdAt:"",lastModified:""},ei=(0,r.useMemo)(()=>"all"===Q?el.cards:el.cards.filter(e=>e.category===Q),[el.cards,Q]),ec=(0,r.useMemo)(()=>{let e=el.cards.filter(e=>"mainboard"===e.category),a=el.cards.filter(e=>"sideboard"===e.category),s=el.cards.filter(e=>"commander"===e.category),t=e.reduce((e,a)=>e+a.quantity,0),r=a.reduce((e,a)=>e+a.quantity,0),l=s.reduce((e,a)=>e+a.quantity,0);return{mainboard:t,sideboard:r,commander:l,total:t+r+l,unique:el.cards.length}},[el.cards]),ed=(0,r.useCallback)(async()=>{if(!_.trim()&&"all"===P&&"all"===T&&!I&&0===L.length){Z("Por favor, defina pelo menos um filtro para pesquisar");return}H(!0),Z(null);try{let e=[];if(_.trim()&&e.push(encodeURIComponent(_.trim())),"all"!==P&&e.push(`rarity:${P}`),"all"!==T&&e.push(`type:${T}`),I&&e.push(`cmc:${I}`),L.length>0){let a=L.map(e=>`c:${e}`).join("");e.push(a)}let a=e.join("+"),s=await (0,$.z)(a),t=await s.json();s.ok&&t.data?(V(t.data),Z(null)):(V([]),Z(t.details||"Nenhuma carta encontrada"))}catch(e){console.error("Erro na pesquisa:",e),V([]),Z("Erro ao pesquisar cartas. Verifique sua conex\xe3o.")}finally{H(!1)}},[_,P,T,I,L]),eo=(0,r.useCallback)((e,a="mainboard",s=1)=>{w?m(w.id,e,a,s):console.log("Adicionando carta ao deck tempor\xe1rio:",e.name)},[w,m]),em=(0,r.useCallback)((e,a)=>{w&&x(w.id,e,a)},[w,x]),ex=(0,r.useCallback)((e,a,s)=>{w&&p(w.id,e,s,a)},[w,p]),eu=(0,r.useCallback)(()=>{if(!A.name.trim()){alert("Por favor, digite um nome para o deck");return}if(w)o(w.id,A),a&&a(w.id);else{let e=i({name:A.name,format:A.format,description:A.description,colors:A.colors,cards:[],isPublic:A.isPublic,tags:A.tags});a&&a(e)}},[A,w,o,i,a]),eh=(0,r.useCallback)(()=>{M(""),z("all"),D("all"),R(""),O([]),V([]),Z(null)},[]);return(0,t.jsxs)("div",{className:"mtg-section",children:[(0,t.jsxs)("div",{className:"mtg-card text-center mb-8",children:[(0,t.jsx)("div",{className:"mtg-card-header justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-6 mx-auto shadow-xl",children:(0,t.jsx)(ae.A,{className:"w-10 h-10 text-white"})})}),(0,t.jsx)("h1",{className:"mtg-section-title",children:w?`Editando: ${w.name}`:"Deck Builder Pro"}),(0,t.jsx)("p",{className:"mtg-section-subtitle",children:w?"Fa\xe7a altera\xe7\xf5es no seu deck com ferramentas avan\xe7adas":"Crie e personalize seu deck com ferramentas profissionais"}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-4 mt-6",children:(0,t.jsxs)("div",{className:"mtg-status mtg-status-info",children:[(0,t.jsx)(en.A,{className:"w-3 h-3"}),ec.total," cartas no deck"]})})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(U,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"A\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie e configure seu deck"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(aj,{onImportSuccess:()=>{},onImportError:e=>console.error(e)}),(0,t.jsxs)(d.$,{onClick:eu,disabled:!A.name.trim(),className:"quantum-btn compact primary",children:[(0,t.jsx)(Y,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:w?"Salvar Altera\xe7\xf5es":"Salvar Deck"})]}),s&&(0,t.jsx)(d.$,{onClick:s,className:"quantum-btn compact",children:"Cancelar"})]})]})}),(0,t.jsxs)("div",{className:"mtg-card mb-8",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(S.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Configura\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Defina as informa\xe7\xf5es b\xe1sicas do seu deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-grid-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome do Deck *"}),(0,t.jsx)(c.p,{value:A.name,onChange:e=>q(a=>({...a,name:e.target.value})),placeholder:"Digite o nome do deck...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Formato"}),(0,t.jsxs)(ag.l6,{value:A.format,onValueChange:e=>q(a=>({...a,format:e})),children:[(0,t.jsx)(ag.bq,{className:"mtg-select",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsx)(ag.gC,{className:"mtg-dropdown",children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(ag.eb,{value:e,className:"mtg-dropdown-item",children:e},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Descri\xe7\xe3o"}),(0,t.jsx)(u.T,{value:A.description,onChange:e=>q(a=>({...a,description:e.target.value})),placeholder:"Descreva a estrat\xe9gia do seu deck...",className:"mtg-textarea",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores do Deck"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(({color:e,name:a,bg:s})=>(0,t.jsx)("button",{onClick:()=>{q(a=>({...a,colors:a.colors.includes(e)?a.colors.filter(a=>a!==e):[...a.colors,e]}))},className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold transition-all ${A.colors.includes(e)?`bg-gradient-to-br ${s} scale-110 ring-2 ring-white/30`:"bg-slate-700 hover:bg-slate-600"}`,title:a,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/20 rounded-xl border border-blue-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:ec.total}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-500/10 to-green-600/20 rounded-xl border border-green-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:ec.mainboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Deck Principal"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/20 rounded-xl border border-purple-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:ec.sideboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Sideboard"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-yellow-500/10 to-yellow-600/20 rounded-xl border border-yellow-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:ec.commander}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Commander"})]})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-2",children:(0,t.jsxs)("div",{className:"mtg-tabs",children:[(0,t.jsxs)("button",{onClick:()=>K("search"),className:`mtg-tab ${"search"===J?"mtg-tab-active":""}`,children:[(0,t.jsx)(k.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Buscar Cartas"})]}),(0,t.jsxs)("button",{onClick:()=>K("collection"),className:`mtg-tab ${"collection"===J?"mtg-tab-active":""}`,children:[(0,t.jsx)(X.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Da Cole\xe7\xe3o"})]}),(0,t.jsxs)("button",{onClick:()=>K("deck"),className:`mtg-tab ${"deck"===J?"mtg-tab-active":""}`,children:[(0,t.jsx)(ae.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Deck Atual (",ec.total,")"]})]})]})})}),"search"===J&&(0,t.jsxs)("div",{className:"mtg-grid-wide gap-8",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(ea.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Filtros de Busca"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Configure os par\xe2metros para encontrar as cartas perfeitas"})]}),(0,t.jsx)(d.$,{onClick:eh,variant:"outline",className:"quantum-btn compact",title:"Limpar filtros",children:(0,t.jsx)(es.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome da carta"}),(0,t.jsx)(c.p,{value:_,onChange:e=>M(e.target.value),onKeyDown:e=>"Enter"===e.key&&ed(),placeholder:"Digite o nome da carta...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(ag.l6,{value:P,onValueChange:z,children:[(0,t.jsx)(ag.bq,{className:"mtg-select",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsxs)(ag.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(ag.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(ag.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(ag.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(ag.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(ag.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(ag.l6,{value:T,onValueChange:D,children:[(0,t.jsx)(ag.bq,{className:"mtg-select",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsxs)(ag.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(ag.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(ag.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(ag.eb,{value:"instant",className:"mtg-dropdown-item",children:"Instant\xe2neo"}),(0,t.jsx)(ag.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(ag.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(ag.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(ag.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(ag.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"CMC (Custo Convertido de Mana)"}),(0,t.jsx)(c.p,{value:I,onChange:e=>R(e.target.value),placeholder:"Ex: 3, <=2, >=4",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(({color:e,name:a,bg:s})=>(0,t.jsx)("button",{onClick:()=>{O(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},className:`w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold transition-all ${L.includes(e)?`bg-gradient-to-br ${s} scale-110 ring-2 ring-white/30`:"bg-slate-700 hover:bg-slate-600"}`,title:a,children:e},e))})]}),(0,t.jsxs)(d.$,{className:"quantum-btn w-full primary",onClick:ed,disabled:G,children:[(0,t.jsx)(k.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:G?"Buscando...":"Buscar Cartas"}),G&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin ml-2"})]})]})]}),(0,t.jsxs)("div",{className:"mtg-card flex-1",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(C.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsxs)("h3",{className:"mtg-card-title",children:["Resultados da Busca ",F.length>0&&`(${F.length})`]}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Clique nas cartas para adicion\xe1-las ao seu deck"})]})]}),(0,t.jsx)("div",{className:"px-6 pb-6",children:(0,t.jsxs)("div",{className:"min-h-[400px]",children:[G&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(j,{className:"w-12 h-12 mx-auto mb-4 opacity-50 animate-spin"}),(0,t.jsx)("p",{children:"Pesquisando cartas..."})]}),!G&&W&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(f.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50 text-red-400"}),(0,t.jsx)("p",{className:"text-red-400",children:W}),(0,t.jsx)(d.$,{onClick:ed,className:"quantum-btn compact mt-4",children:"Tentar novamente"})]}),!G&&!W&&0===F.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Use os filtros ao lado para pesquisar cartas"})]}),!G&&!W&&F.length>0&&(0,t.jsx)(ap,{cards:F,collection:[],onAddCard:(e,a)=>eo(e,"mainboard",a),className:"mb-6"})]})})]})]}),"collection"===J&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(X.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Sua Cole\xe7\xe3o Pessoal"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Selecione cartas da sua cole\xe7\xe3o para adicionar ao deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[N&&(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:N.cards.length})," cartas \xfanicas"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:N.cards.reduce((e,a)=>e+a.quantity,0)})," cartas totais"]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Buscar na cole\xe7\xe3o"}),(0,t.jsx)(c.p,{placeholder:"Nome da carta...",value:_,onChange:e=>M(e.target.value),className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(ag.l6,{value:P,onValueChange:z,children:[(0,t.jsx)(ag.bq,{className:"mtg-select",children:(0,t.jsx)(ag.yv,{placeholder:"Raridade"})}),(0,t.jsxs)(ag.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(ag.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(ag.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(ag.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(ag.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(ag.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(ag.l6,{value:T,onValueChange:D,children:[(0,t.jsx)(ag.bq,{className:"mtg-select",children:(0,t.jsx)(ag.yv,{placeholder:"Tipo"})}),(0,t.jsxs)(ag.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(ag.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(ag.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(ag.eb,{value:"instant",className:"mtg-dropdown-item",children:"M\xe1gica Instant\xe2nea"}),(0,t.jsx)(ag.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(ag.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(ag.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(ag.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(ag.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]})]})]})]}),(0,t.jsx)(av,{searchTerm:_,raridade:P,tipo:T,onAddCard:eo,currentDeck:el,currentCollection:N})]}),"deck"===J&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(en.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Visualiza\xe7\xe3o do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie as cartas do seu deck atual"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label text-xs",children:"Categoria"}),(0,t.jsxs)(ag.l6,{value:Q,onValueChange:e=>ee(e),children:[(0,t.jsx)(ag.bq,{className:"w-48 mtg-select",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsxs)(ag.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(ag.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas as cartas"}),(0,t.jsx)(ag.eb,{value:"mainboard",className:"mtg-dropdown-item",children:"Deck Principal"}),(0,t.jsx)(ag.eb,{value:"sideboard",className:"mtg-dropdown-item",children:"Sideboard"}),(0,t.jsx)(ag.eb,{value:"commander",className:"mtg-dropdown-item",children:"Commander"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>er("list"),className:`h-8 w-8 p-0 rounded transition-colors ${"list"===et?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,title:"Vista em lista",children:(0,t.jsx)(E.A,{className:"h-4 w-4 mx-auto"})}),(0,t.jsx)("button",{onClick:()=>er("grid"),className:`h-8 w-8 p-0 rounded transition-colors ${"grid"===et?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,title:"Vista em grade",children:(0,t.jsx)(B.A,{className:"h-4 w-4 mx-auto"})})]})]})]})}),(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-6",children:0===ei.length?(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(en.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhuma carta nesta categoria"}),(0,t.jsx)("p",{className:"text-sm",children:'Use as abas "Buscar Cartas" ou "Da Cole\xe7\xe3o" para adicionar cartas ao deck'})]}):(0,t.jsx)("div",{className:"grid"===et?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4":"space-y-3",children:ei.map(e=>{let a=af(e.card,"small");return"grid"===et?(0,t.jsx)("div",{className:"mtg-card-mini",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"aspect-[63/88] bg-slate-900 rounded-lg overflow-hidden mb-2",children:a?(0,t.jsx)(n(),{src:a,alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>y(e.card),sizes:"150px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs text-center p-2",children:e.card.name})}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg",children:e.quantity}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("p",{className:"text-white font-medium truncate mb-1",title:e.card.name,children:e.card.name}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${"mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"}`,children:"mainboard"===e.category?"Main":"sideboard"===e.category?"Side":"Cmd"})]})]})},`${e.card.id}-${e.category}`):(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-800/30 rounded-xl hover:bg-slate-800/50 transition-colors group border border-slate-700/30",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-slate-900 rounded-lg overflow-hidden flex-shrink-0",children:a?(0,t.jsx)(n(),{src:a,alt:e.card.name,width:48,height:64,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>y(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-slate-500 text-center",children:e.card.set_code})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-white font-medium truncate",children:e.card.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm truncate",children:e.card.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${"mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.category}),(0,t.jsx)("span",{className:"text-slate-500 text-xs",children:e.card.set_name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-700 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>ex(e.card.id,e.category,e.quantity-1),className:"h-8 w-8 p-0 hover:bg-red-600 text-red-400 hover:text-white rounded-l-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-white text-sm w-8 text-center bg-slate-800 py-1",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>ex(e.card.id,e.category,e.quantity+1),className:"h-8 w-8 p-0 hover:bg-green-600 text-green-400 hover:text-white rounded-r-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(b.A,{className:"h-3 w-3"})})]}),(0,t.jsx)("button",{onClick:()=>em(e.card.id,e.category),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-600/20 rounded-lg transition-colors flex items-center justify-center",title:"Remover carta",children:(0,t.jsx)(ab.A,{className:"h-3 w-3"})})]})]},`${e.card.id}-${e.category}`)})})})})]})]})};s(4329),s(4851);let ay=(0,p.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),aw=({cards:e,onUpdateQuantity:a,onRemoveCard:s,onCardClick:r})=>0===e.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(en.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta encontrada"})]}):(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center p-2 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors group",children:[(0,t.jsx)("div",{className:"w-8 h-11 bg-gray-900 rounded overflow-hidden flex-shrink-0 mr-3",children:(0,q.VG)(e.card,"small")?(0,t.jsx)(n(),{src:(0,q.VG)(e.card,"small"),alt:e.card.name,width:32,height:44,className:"object-cover cursor-pointer",onClick:()=>r(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-500",children:e.card.set_code})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-gray-200 font-medium truncate cursor-pointer hover:text-blue-400",onClick:()=>r(e.card),children:e.card.name}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.card.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 w-6 text-center",children:e.quantity}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>a(e.card.id,e.category,e.quantity-1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(v.A,{className:"h-3 w-3"})}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>a(e.card.id,e.category,e.quantity+1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(b.A,{className:"h-3 w-3"})}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>s(e.card.id,e.category),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-400",children:(0,t.jsx)(ab.A,{className:"h-3 w-3"})})]})]})]},`${e.card.id}-${e.category}`))}),aC=({cards:e,viewMode:a,onCardClick:s})=>0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(en.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-500 opacity-70"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta para exibir"})]}):"grid"===a?(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:e.map(e=>(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"aspect-[63/88] bg-gray-800/80 rounded-md overflow-hidden shadow-md",children:[(0,q.VG)(e.card)?(0,t.jsx)(n(),{src:(0,q.VG)(e.card),alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform duration-300",onClick:()=>s(e.card),sizes:"120px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-2",children:e.card.name}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-md",children:e.quantity}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("p",{className:"text-white text-xs font-medium truncate",children:e.card.name})})]})},`${e.card.id}-${e.category}`))}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-800 rounded overflow-hidden flex-shrink-0",children:(0,q.VG)(e.card,"normal")?(0,t.jsx)(n(),{src:(0,q.VG)(e.card,"normal"),alt:e.card.name,width:64,height:88,className:"object-cover cursor-pointer",onClick:()=>s(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-1",children:e.card.name})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"text-gray-100 font-bold cursor-pointer hover:text-blue-400",onClick:()=>s(e.card),children:e.card.name}),(0,t.jsxs)(o.E,{className:"bg-blue-600/30 text-blue-200 border-0 text-xs",children:[e.quantity,"x"]})]}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.card.type_line}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.card.set_name}),e.card.oracle_text&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-800/70 rounded text-gray-300 text-xs",children:[e.card.oracle_text.substring(0,200),e.card.oracle_text.length>200&&"..."]})]})]},`${e.card.id}-${e.category}`))}),ak=({manaCurve:e})=>{let a=Math.max(...Object.values(e),1),s=Object.values(e).reduce((e,a)=>e+a,0);return(0,t.jsxs)(G.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)(G.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)(G.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(at,{className:"w-4 h-4"}),"Curva de Mana"]})}),(0,t.jsxs)(G.Wu,{className:"p-3",children:[(0,t.jsx)("div",{className:"flex items-end justify-between gap-1 h-20",children:[0,1,2,3,4,5,6,7].map(s=>{let r=e[s]||0,l=a>0?r/a*100:0;return(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1 h-3",children:r>0&&r}),(0,t.jsx)("div",{className:"w-full bg-gray-700/50 rounded-t relative",style:{height:"50px"},children:(0,t.jsx)("div",{className:"absolute bottom-0 w-full bg-blue-600/70 rounded-t",style:{height:`${l}%`}})}),(0,t.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:7===s?"7+":s})]},s)})}),(0,t.jsx)("div",{className:"mt-2 text-center",children:(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["M\xe9dia: ",s>0?(Object.entries(e).reduce((e,[a,s])=>e+Number(a)*s,0)/s).toFixed(1):"0.0"]})})]})]})},aS=({cards:e})=>{let a=(0,r.useMemo)(()=>{let a={};return e.forEach(e=>{let s=e.card.type_line?.toLowerCase()||"",t="Other";s.includes("creature")?t="Creature":s.includes("instant")?t="Instant":s.includes("sorcery")?t="Sorcery":s.includes("artifact")?t="Artifact":s.includes("enchantment")?t="Enchantment":s.includes("planeswalker")?t="Planeswalker":s.includes("land")&&(t="Land"),a[t]=(a[t]||0)+e.quantity}),Object.entries(a).sort(([,e],[,a])=>a-e)},[e]),s=a.reduce((e,[,a])=>e+a,0),l={Creature:"bg-green-600/70",Instant:"bg-blue-600/70",Sorcery:"bg-red-600/70",Artifact:"bg-slate-400/70",Enchantment:"bg-yellow-600/70",Planeswalker:"bg-purple-600/70",Land:"bg-emerald-700/70",Other:"bg-gray-500/70"};return 0===a.length?null:(0,t.jsxs)(G.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)(G.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)(G.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(au.A,{className:"w-4 h-4"}),"Tipos"]})}),(0,t.jsx)(G.Wu,{className:"p-3 space-y-2",children:a.map(([e,a])=>{let r=s>0?a/s*100:0;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-sm ${l[e]}`}),(0,t.jsx)("span",{className:"text-gray-300",children:e})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-16 h-1.5 bg-gray-700/70 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full ${l[e]} rounded-full`,style:{width:`${r}%`}})}),(0,t.jsx)("span",{className:"text-gray-400 text-xs w-6 text-right",children:a})]})]},e)})})]})},aA=({deckId:e,onClose:a,onEdit:s})=>{let{decks:l,editarDeck:i,deletarDeck:n,duplicarDeck:c,atualizarQuantidadeNoDeck:o,removerCartaDoDeck:m}=(0,g.U)(),{openModal:x}=(0,h.h)(),[p,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)("grid"),[f,N]=(0,r.useState)("all"),[y,w]=(0,r.useState)(""),[C,S]=(0,r.useState)(!1),q=l.find(a=>a.id===e),[$,_]=(0,r.useState)({name:q?.name||"",format:q?.format||"Standard",description:q?.description||"",colors:q?.colors||[],tags:q?.tags||[]});if(!q)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Deck n\xe3o encontrado"})});let M=(0,r.useMemo)(()=>{let e=q.cards;return"all"!==f&&(e=e.filter(e=>e.category===f)),y.trim()&&(e=e.filter(e=>(0,V.S)(e.card,y))),e},[q.cards,f,y]),P=(0,r.useMemo)(()=>{let e=q.cards.filter(e=>"mainboard"===e.category),a=q.cards.filter(e=>"sideboard"===e.category),s=q.cards.filter(e=>"commander"===e.category),t=e.reduce((e,a)=>e+a.quantity,0),r=a.reduce((e,a)=>e+a.quantity,0),l=s.reduce((e,a)=>e+a.quantity,0),i={};return e.forEach(e=>{let a=e.card.cmc||0,s=a>=7?7:a;i[s]=(i[s]||0)+e.quantity}),{mainboard:t,sideboard:r,commander:l,total:t+r+l,unique:q.cards.length,manaCurve:i}},[q.cards]);return(0,t.jsxs)("div",{className:"quantum-card min-h-[calc(100vh-80px)] p-0 m-0",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-30 bg-black/90 backdrop-blur-md border-b border-cyan-500/30 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:a,className:"quantum-btn compact",children:[(0,t.jsx)(ay,{className:"w-3.5 h-3.5"}),"Voltar"]}),(0,t.jsx)("h2",{className:"text-md font-bold text-cyan-400 truncate ml-2",children:q.name}),(0,t.jsx)("span",{className:"quantum-badge primary text-xs",children:q.format})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{c(e,`${q.name} (C\xf3pia)`)},children:(0,t.jsx)(eO,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>j(!0),children:(0,t.jsx)(eL,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{let e=q.cards.filter(e=>"mainboard"===e.category),a=q.cards.filter(e=>"sideboard"===e.category),s=q.cards.filter(e=>"commander"===e.category),t=`// ${q.name}
// Formato: ${q.format}

`;s.length>0&&(t+="Commander:\n",s.forEach(e=>{t+=`${e.quantity} ${e.card.name}
`}),t+="\n"),e.length>0&&(t+="Main Deck:\n",e.forEach(e=>{t+=`${e.quantity} ${e.card.name}
`}),t+="\n"),a.length>0&&(t+="Sideboard:\n",a.forEach(e=>{t+=`${e.quantity} ${e.card.name}
`}));let r=new Blob([t],{type:"text/plain"}),l=URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.download=`${q.name}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)},children:(0,t.jsx)(ei,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>S(!0),children:(0,t.jsx)(A,{className:"w-3.5 h-3.5 text-red-500"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1 mx-2 mb-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[180px]",children:[(0,t.jsx)(k.A,{className:"absolute left-2 top-1.5 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"Filtrar cartas...",className:"quantum-input pl-8 h-7 py-0 text-sm"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>N("all"),className:`quantum-btn compact ${"all"===f?"primary":""}`,children:"Todas"}),(0,t.jsxs)("button",{onClick:()=>N("mainboard"),className:`quantum-btn compact ${"mainboard"===f?"primary":""}`,children:["Main (",P.mainboard,")"]}),P.sideboard>0&&(0,t.jsxs)("button",{onClick:()=>N("sideboard"),className:`quantum-btn compact ${"sideboard"===f?"primary":""}`,children:["Side (",P.sideboard,")"]}),P.commander>0&&(0,t.jsxs)("button",{onClick:()=>N("commander"),className:`quantum-btn compact ${"commander"===f?"primary":""}`,children:["Cmd (",P.commander,")"]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>v("grid"),className:`quantum-btn compact ${"grid"===b?"secondary":""}`,children:(0,t.jsx)(B.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>v("spoiler"),className:`quantum-btn compact ${"spoiler"===b?"secondary":""}`,children:(0,t.jsx)(E.A,{className:"w-3.5 h-3.5"})})]})]})]}),(0,t.jsx)(Q.lG,{open:p,onOpenChange:j,children:(0,t.jsxs)(Q.Cf,{className:"quantum-card",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title",children:"Editar Deck"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"name",children:"Nome do Deck"}),(0,t.jsx)("input",{id:"name",type:"text",className:"quantum-input",value:$.name,onChange:e=>_({...$,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"format",children:"Formato"}),(0,t.jsxs)(ag.l6,{value:$.format,onValueChange:e=>_({...$,format:e}),children:[(0,t.jsx)(ag.bq,{className:"quantum-select",children:(0,t.jsx)(ag.yv,{})}),(0,t.jsxs)(ag.gC,{children:[(0,t.jsx)(ag.eb,{value:"Standard",children:"Standard"}),(0,t.jsx)(ag.eb,{value:"Modern",children:"Modern"}),(0,t.jsx)(ag.eb,{value:"Commander",children:"Commander"}),(0,t.jsx)(ag.eb,{value:"Pioneer",children:"Pioneer"}),(0,t.jsx)(ag.eb,{value:"Legacy",children:"Legacy"}),(0,t.jsx)(ag.eb,{value:"Vintage",children:"Vintage"}),(0,t.jsx)(ag.eb,{value:"Pauper",children:"Pauper"}),(0,t.jsx)(ag.eb,{value:"Limited",children:"Limited"}),(0,t.jsx)(ag.eb,{value:"Historic",children:"Historic"}),(0,t.jsx)(ag.eb,{value:"Brawl",children:"Brawl"}),(0,t.jsx)(ag.eb,{value:"Outro",children:"Outro"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"description",children:"Descri\xe7\xe3o"}),(0,t.jsx)(u.T,{id:"description",className:"quantum-textarea",value:$.description,onChange:e=>_({...$,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(d.$,{className:"quantum-btn",onClick:()=>j(!1),children:"Cancelar"}),(0,t.jsx)(d.$,{className:"quantum-btn primary",onClick:()=>{i(e,{name:$.name,format:$.format,description:$.description,colors:$.colors,tags:$.tags}),j(!1)},children:"Salvar Altera\xe7\xf5es"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-2",children:[(0,t.jsx)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"text-xs text-center p-1 border-b border-cyan-500/20 mb-2",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:P.unique})," cartas \xfanicas • ",(0,t.jsx)("span",{className:"text-cyan-400",children:P.total})," total"]}),(0,t.jsx)(aw,{cards:M,onUpdateQuantity:(a,s,t)=>{o(e,a,t,s)},onRemoveCard:(a,s)=>{m(e,a,s)},onCardClick:x})]})}),(0,t.jsx)("div",{className:"col-span-12 sm:col-span-6",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsx)("div",{className:"quantum-card-dense",children:(0,t.jsx)(aC,{cards:M,viewMode:b,onCardClick:x})})}),(0,t.jsxs)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Distribui\xe7\xe3o"})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Main Deck"}),(0,t.jsx)("span",{className:"text-white font-mono",children:P.mainboard})]}),P.commander>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Commander"}),(0,t.jsx)("span",{className:"text-white font-mono",children:P.commander})]}),P.sideboard>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Sideboard"}),(0,t.jsx)("span",{className:"text-white font-mono",children:P.sideboard})]}),(0,t.jsx)("div",{className:"h-px bg-gradient-to-r from-cyan-500/20 via-cyan-400/40 to-cyan-500/20 my-1"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total"}),(0,t.jsx)("span",{className:"text-cyan-400 font-mono font-bold",children:P.total})]})]})]}),(0,t.jsx)(ak,{manaCurve:P.manaCurve}),(0,t.jsx)(aS,{cards:q.cards.filter(e=>"mainboard"===e.category)}),q.description&&(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Descri\xe7\xe3o"})}),(0,t.jsx)("div",{className:"p-2 text-xs text-gray-300",children:q.description})]})]})]}),(0,t.jsx)(Q.lG,{open:C,onOpenChange:S,children:(0,t.jsxs)(Q.Cf,{className:"quantum-card",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title text-red-400",children:"Excluir Deck"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck ",(0,t.jsx)("strong",{children:q.name}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.$,{className:"quantum-btn",onClick:()=>S(!1),children:"Cancelar"}),(0,t.jsxs)(d.$,{className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},onClick:()=>{n(e),S(!1),a()},children:[(0,t.jsx)(A,{className:"w-4 h-4"}),"Excluir Permanentemente"]})]})]})]})})]})},aq=(0,p.A)("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);function a$(){let{decks:e,criarDeck:a,editarDeck:s,deletarDeck:l,duplicarDeck:i}=(0,g.U)(),n=(0,h.h)(),[m,p]=(0,r.useState)(null),[j,v]=(0,r.useState)("list"),[f,N]=(0,r.useState)(!1),[y,w]=(0,r.useState)(null),[S,q]=(0,r.useState)({type:"info",message:"",visible:!1}),[$,_]=(0,r.useState)({name:"",format:"Standard",colors:[],description:""}),[E,M]=(0,r.useState)(""),[P,z]=(0,r.useState)("all"),[T,D]=(0,r.useState)("date"),[I,R]=(0,r.useState)("desc"),[L,O]=(0,r.useState)({}),[F,V]=(0,r.useState)(null),G=(e,a)=>{q({type:e,message:a,visible:!0}),setTimeout(()=>{q(e=>({...e,visible:!1}))},3e3)},B=e=>{let a=i(e);a?(console.log("Deck duplicado com sucesso! Novo ID:",a),G("success","Deck duplicado com sucesso!")):G("error","Falha ao duplicar o deck.")},U=e=>{l(e),m===e&&(p(null),v("list")),w(null),G("success","Deck deletado com sucesso!")},H=(0,r.useMemo)(()=>{let a=e.filter(e=>{let a=e.name.toLowerCase().includes(E.toLowerCase()),s="all"===P||e.format===P;return a&&s});return a.sort((e,a)=>{let s=0;switch(T){case"name":s=e.name.localeCompare(a.name);break;case"date":s=new Date(e.createdAt||0).getTime()-new Date(a.createdAt||0).getTime();break;case"cards":s=e.cards.reduce((e,a)=>e+a.quantity,0)-a.cards.reduce((e,a)=>e+a.quantity,0);break;case"format":s=e.format.localeCompare(a.format)}return"asc"===I?s:-s}),a},[e,E,P,T,I]);return"viewer"===j&&m?(0,t.jsx)(aA,{deckId:m,onClose:()=>{p(null),v("list")},onEdit:()=>v("builder")}):"builder"===j?(0,t.jsx)(aN,{deckId:m||void 0,onSave:e=>{G("success",m?"Deck atualizado com sucesso!":"Deck criado com sucesso!"),p(e),v("list")},onCancel:()=>{p(null),v("list")}}):(0,t.jsxs)("div",{className:"p-4",children:[S.visible&&(0,t.jsx)("div",{className:`fixed top-4 right-4 p-3 rounded-md z-50 shadow-lg text-sm font-medium
          ${"success"===S.type?"bg-green-600/90 text-white":"error"===S.type?"bg-red-600/90 text-white":"bg-blue-600/90 text-white"}`,children:S.message}),(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(aq,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Construtor de Decks"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[e.length," ",1===e.length?"deck":"decks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>N(!0),className:"quantum-btn compact primary",children:[(0,t.jsx)(b.A,{className:"w-3.5 h-3.5 mr-1"}),"Novo Deck"]}),(0,t.jsx)(aj,{onImportSuccess:()=>G("success","Deck importado com sucesso!"),onImportError:e=>G("error",`Erro ao importar deck: ${e}`)})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-4 filtros-colecao",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(k.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(c.p,{placeholder:"Buscar deck...",value:E,onChange:e=>M(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]}),(0,t.jsx)(x,{value:P,onChange:z,options:[{value:"all",label:"Todos os formatos"},{value:"Standard",label:"Standard"},{value:"Pioneer",label:"Pioneer"},{value:"Modern",label:"Modern"},{value:"Commander",label:"Commander"},{value:"Legacy",label:"Legacy"},{value:"Vintage",label:"Vintage"},{value:"Pauper",label:"Pauper"}],placeholder:"Formato"}),(0,t.jsx)(x,{value:`${T}-${I}`,onChange:e=>{let[a,s]=e.split("-");D(a),R(s)},options:[{value:"date-desc",label:"Mais recentes primeiro"},{value:"date-asc",label:"Mais antigos primeiro"},{value:"name-asc",label:"Nome (A-Z)"},{value:"name-desc",label:"Nome (Z-A)"},{value:"cards-desc",label:"Mais cartas"},{value:"cards-asc",label:"Menos cartas"}],placeholder:"Ordenar por"})]})}),H.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:H.map(e=>{let a=e.cards.reduce((e,a)=>e+a.quantity,0),s=e.cards.filter(e=>"mainboard"===e.category).reduce((e,a)=>e+a.quantity,0),r=e.cards.filter(e=>"sideboard"===e.category).reduce((e,a)=>e+a.quantity,0);return(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight group relative overflow-hidden",children:[e.cards.length>0&&(0,t.jsx)(t.Fragment,{children:(()=>{let a=L[e.id],s=void 0!==a?e.cards[a]:e.cards[0];if(!s)return null;let r=s.card.image_uris?.art_crop||s.card.image_uris?.normal||s.card.card_faces?.[0]?.image_uris?.art_crop||s.card.card_faces?.[0]?.image_uris?.normal;return r?(0,t.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"}),(0,t.jsx)("img",{src:r,alt:"",className:"w-full h-full object-cover filter blur-sm",onError:e=>{e.target.style.display="none"}})]}):null})()}),(0,t.jsx)("div",{className:"p-3 border-b border-cyan-500/20 relative z-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(o.E,{className:"bg-gray-700/60 text-gray-200 text-[10px] h-4 px-1",children:e.format}),e.colors.length>0&&(0,t.jsx)("div",{className:"flex -space-x-1",children:e.colors.map(e=>(0,t.jsx)("div",{className:`w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-[8px] 
                                  ${"W"===e?"bg-yellow-300/80 text-black":"U"===e?"bg-blue-500/80 text-white":"B"===e?"bg-gray-900/80 text-white":"R"===e?"bg-red-500/80 text-white":"bg-green-500/80 text-white"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{p(e.id),v("viewer")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(C.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{p(e.id),v("builder")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eL,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),V(e.id)},className:"p-1 text-gray-400 hover:text-cyan-400 transition",title:"Alterar imagem de fundo",children:(0,t.jsx)(eF,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>B(e.id),className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eO,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"p-1 text-gray-400 hover:text-red-400 transition",children:(0,t.jsx)(A,{className:"w-3.5 h-3.5"})})]})]})}),(0,t.jsxs)("div",{className:"p-3 text-xs text-gray-400 relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"font-mono text-cyan-400",children:[a," cartas"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-[10px] text-gray-500",children:[(0,t.jsxs)("span",{children:["Main: ",s]}),r>0&&(0,t.jsxs)("span",{children:["Side: ",r]})]}),e.description&&(0,t.jsx)("div",{className:"mt-2 border-t border-gray-800 pt-2 line-clamp-2 text-[11px]",children:e.description})]}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-transparent via-cyan-900/10 to-transparent cursor-pointer relative z-10",onClick:()=>{p(e.id),v("viewer")},children:(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[11px] text-gray-500 hover:text-cyan-400",children:[(0,t.jsx)(C.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver detalhes"})]})})]},e.id)})}):(0,t.jsxs)("div",{className:"quantum-card-dense py-12 px-4 text-center",children:[(0,t.jsx)(en.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:E||"all"!==P?"Nenhum deck encontrado":"Nenhum deck criado"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:E||"all"!==P?"Tente ajustar seus filtros para encontrar o que procura":"Crie seu primeiro deck para come\xe7ar"}),!E&&"all"===P&&(0,t.jsxs)("button",{onClick:()=>N(!0),className:"quantum-btn primary mx-auto",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Deck"]})]}),e.length>0&&(0,t.jsxs)("div",{className:"quantum-card-dense mt-4 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 border-b border-cyan-500/20 pb-2",children:[(0,t.jsx)(at,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-200",children:"Estat\xedsticas R\xe1pidas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-cyan-400",children:e.length}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Decks"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-purple-400",children:e.reduce((e,a)=>e+a.cards.reduce((e,a)=>e+a.quantity,0),0)}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-green-400",children:new Set(e.map(e=>e.format)).size}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Formatos"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:Math.round(e.reduce((e,a)=>e+a.cards.reduce((e,a)=>e+a.quantity,0),0)/Math.max(1,e.length))}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"M\xe9dia de Cartas"})]})]})]}),(0,t.jsx)(Q.lG,{open:f,onOpenChange:N,children:(0,t.jsxs)(Q.Cf,{className:"quantum-card fixed-modal creation-modal","aria-describedby":"create-deck-description",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ax,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Criar Novo Deck"})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{id:"create-deck-description",className:"sr-only",children:"Preencha os detalhes abaixo para criar um novo deck."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"name",children:"Nome do Deck*"}),(0,t.jsx)(c.p,{id:"name",value:$.name,onChange:e=>_({...$,name:e.target.value}),placeholder:"Nome do deck...",className:"bg-black/40 border-gray-700"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"format",children:"Formato"}),(0,t.jsx)(x,{value:$.format,onChange:e=>_({...$,format:e}),options:[{value:"Standard",label:"Standard"},{value:"Modern",label:"Modern"},{value:"Commander",label:"Commander"},{value:"Pioneer",label:"Pioneer"},{value:"Legacy",label:"Legacy"},{value:"Vintage",label:"Vintage"},{value:"Pauper",label:"Pauper"}],placeholder:"Formato"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Cores"}),(0,t.jsx)("div",{className:"flex gap-2",children:[{color:"W",bg:"bg-yellow-300/80 text-black"},{color:"U",bg:"bg-blue-500/80 text-white"},{color:"B",bg:"bg-gray-900/80 text-white"},{color:"R",bg:"bg-red-500/80 text-white"},{color:"G",bg:"bg-green-500/80 text-white"}].map(({color:e,bg:a})=>(0,t.jsx)("button",{onClick:()=>{let a=$.colors.includes(e)?$.colors.filter(a=>a!==e):[...$.colors,e];_({...$,colors:a})},className:`w-8 h-8 rounded-md flex items-center justify-center transition
                      ${$.colors.includes(e)?a+" ring-1 ring-white/40":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"description",children:"Descri\xe7\xe3o (Opcional)"}),(0,t.jsx)(u.T,{id:"description",value:$.description,onChange:e=>_({...$,description:e.target.value}),placeholder:"Descreva a estrat\xe9gia do deck...",className:"bg-black/40 border-gray-700 h-20 resize-none"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(d.$,{onClick:()=>N(!1),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{if(!$.name.trim()){G("error","Nome do deck \xe9 obrigat\xf3rio");return}let e=a({name:$.name,format:$.format,colors:$.colors,cards:[],isPublic:!1,tags:[],description:$.description});_({name:"",format:"Standard",colors:[],description:""}),N(!1),G("success","Deck criado com sucesso!"),p(e),v("builder")},className:"quantum-btn primary",disabled:!$.name.trim(),children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Criar Deck"]})]})]})]})}),(0,t.jsx)(Q.lG,{open:!!y,onOpenChange:e=>!e&&w(null),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card fixed-modal delete-modal","aria-describedby":"delete-deck-description",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsx)("h2",{className:"text-lg font-medium text-red-400",children:"Excluir Deck"})}),y&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{id:"delete-deck-description",className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck",(0,t.jsxs)("strong",{className:"text-white",children:[" ",e.find(e=>e.id===y)?.name]}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.$,{onClick:()=>w(null),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>U(y),className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},children:[(0,t.jsx)(A,{className:"w-4 h-4 mr-2"}),"Excluir Permanentemente"]})]})]})]})}),(0,t.jsx)(Q.lG,{open:!!F,onOpenChange:e=>!e&&V(null),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense overflow-hidden border border-cyan-500/20 bg-gradient-to-b from-gray-900/95 to-black/95 backdrop-blur-lg focus:outline-none fixed-modal card-selector-modal","aria-describedby":"card-selector-description",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-cyan-500/20 pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)(Q.L3,{className:"text-lg font-medium text-cyan-400",children:"Escolher Imagem de Fundo"})]}),(0,t.jsx)(d.$,{onClick:()=>V(null),className:"h-7 w-7 p-0 rounded-full bg-gray-800/60 hover:bg-gray-700/60 border-none",children:(0,t.jsx)(ab.A,{className:"h-3.5 w-3.5 text-gray-400"})})]})}),F&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{id:"card-selector-description",className:"text-sm text-gray-300 border-l-2 border-cyan-500/30 pl-3 py-1 bg-cyan-500/5",children:["Selecione uma carta para usar como imagem de fundo para o deck",(0,t.jsxs)("strong",{className:"text-white",children:[" ",e.find(e=>e.id===F)?.name]})]}),(0,t.jsxs)("div",{className:"max-h-[50vh] overflow-y-auto pr-1 quantum-scrollbar",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 pb-1",children:F&&e.find(e=>e.id===F)?.cards?.map((e,a)=>{if(!e||!e.card)return null;let s=e.card.image_uris?.art_crop||e.card.image_uris?.normal;!s&&Array.isArray(e.card.card_faces)&&e.card.card_faces.length>0&&(s=e.card.card_faces[0]?.image_uris?.art_crop||e.card.card_faces[0]?.image_uris?.normal);let r=!!F&&L[F]===a;return s?t.jsxs("div",{className:`relative cursor-pointer rounded-md overflow-hidden transition-all hover:scale-[1.03] group ${r?"ring-2 ring-cyan-400 scale-[1.03]":"ring-1 ring-gray-700"}`,onClick:()=>{F&&(O({...L,[F]:a}),G("success",`${e.card.name} definida como fundo do deck`))},children:[t.jsx("img",{src:s,alt:e.card.name||"Card art",className:"w-full aspect-[4/3] object-cover",loading:"lazy",onError:e=>{e.target.style.display="none"}}),t.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black to-transparent pt-4 pb-1 px-1",children:t.jsx("p",{className:"text-xs text-white truncate",children:e.card.name||"Sem nome"})}),r&&t.jsx("div",{className:"absolute top-1 right-1 bg-cyan-500 rounded-full p-1 shadow-lg",children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),t.jsx("button",{onClick:async a=>{a.stopPropagation(),n&&n.openModal&&await n.openModal(e.card),F&&setTimeout(()=>V(null),150)},className:"absolute top-1 left-1 bg-black/60 hover:bg-cyan-500/80 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Ver detalhes da carta",children:t.jsx(C.A,{className:"w-3 h-3"})})]},`${e.card.id||a}-${a}`):null})}),F&&e.find(e=>e.id===F)?.cards?.length===0&&(0,t.jsxs)("div",{className:"text-center py-8 bg-black/20 rounded-lg border border-gray-800",children:[(0,t.jsx)(en.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Este deck n\xe3o possui cartas para exibir como fundo."})]})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2 mt-4 pt-3 border-t border-cyan-500/20",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[F&&e.find(e=>e.id===F)?.cards?.length||0," carta(s) dispon\xedveis"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.$,{onClick:()=>{if(F&&void 0!==L[F]){let e={...L};delete e[F],O(e),G("info","Usando imagem padr\xe3o para o fundo")}V(null)},className:"quantum-btn compact",type:"button",children:"Usar Padr\xe3o"}),(0,t.jsx)(d.$,{onClick:()=>V(null),className:"quantum-btn primary compact",type:"button",children:"Conclu\xeddo"})]})]})]})]})})]})}s(9328);var a_=s(9510),aE=s(6963),aM=s(3495),aP=s(43),az="rovingFocusGroup.onEntryFocus",aT={bubbles:!1,cancelable:!0},aD="RovingFocusGroup",[aI,aR,aL]=(0,a_.N)(aD),[aO,aF]=(0,eb.A)(aD,[aL]),[aV,aG]=aO(aD),aB=r.forwardRef((e,a)=>(0,t.jsx)(aI.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(aI.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(aU,{...e,ref:a})})}));aB.displayName=aD;var aU=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,orientation:l,loop:i=!1,dir:n,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:o,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...u}=e,h=r.useRef(null),g=(0,ej.s)(a,h),p=(0,aP.jH)(n),[j,b]=(0,ev.i)({prop:c,defaultProp:d??null,onChange:o,caller:aD}),[v,f]=r.useState(!1),N=(0,aM.c)(m),y=aR(s),w=r.useRef(!1),[C,k]=r.useState(0);return r.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(az,N),()=>e.removeEventListener(az,N)},[N]),(0,t.jsx)(aV,{scope:s,orientation:l,dir:p,loop:i,currentTabStopId:j,onItemFocus:r.useCallback(e=>b(e),[b]),onItemShiftTab:r.useCallback(()=>f(!0),[]),onFocusableItemAdd:r.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>k(e=>e-1),[]),children:(0,t.jsx)(ey.sG.div,{tabIndex:v||0===C?-1:0,"data-orientation":l,...u,ref:g,style:{outline:"none",...e.style},onMouseDown:(0,ep.m)(e.onMouseDown,()=>{w.current=!0}),onFocus:(0,ep.m)(e.onFocus,e=>{let a=!w.current;if(e.target===e.currentTarget&&a&&!v){let a=new CustomEvent(az,aT);if(e.currentTarget.dispatchEvent(a),!a.defaultPrevented){let e=y().filter(e=>e.focusable);aJ([e.find(e=>e.active),e.find(e=>e.id===j),...e].filter(Boolean).map(e=>e.ref.current),x)}}w.current=!1}),onBlur:(0,ep.m)(e.onBlur,()=>f(!1))})})}),aH="RovingFocusGroupItem",aW=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:l=!0,active:i=!1,tabStopId:n,children:c,...d}=e,o=(0,aE.B)(),m=n||o,x=aG(aH,s),u=x.currentTabStopId===m,h=aR(s),{onFocusableItemAdd:g,onFocusableItemRemove:p,currentTabStopId:j}=x;return r.useEffect(()=>{if(l)return g(),()=>p()},[l,g,p]),(0,t.jsx)(aI.ItemSlot,{scope:s,id:m,focusable:l,active:i,children:(0,t.jsx)(ey.sG.span,{tabIndex:u?0:-1,"data-orientation":x.orientation,...d,ref:a,onMouseDown:(0,ep.m)(e.onMouseDown,e=>{l?x.onItemFocus(m):e.preventDefault()}),onFocus:(0,ep.m)(e.onFocus,()=>x.onItemFocus(m)),onKeyDown:(0,ep.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){x.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let a=function(e,a,s){var t;let r=(t=e.key,"rtl"!==s?t:"ArrowLeft"===t?"ArrowRight":"ArrowRight"===t?"ArrowLeft":t);if(!("vertical"===a&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===a&&["ArrowUp","ArrowDown"].includes(r)))return aZ[r]}(e,x.orientation,x.dir);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===a)s.reverse();else if("prev"===a||"next"===a){"prev"===a&&s.reverse();let t=s.indexOf(e.currentTarget);s=x.loop?function(e,a){return e.map((s,t)=>e[(a+t)%e.length])}(s,t+1):s.slice(t+1)}setTimeout(()=>aJ(s))}}),children:"function"==typeof c?c({isCurrentTabStop:u,hasTabStop:null!=j}):c})})});aW.displayName=aH;var aZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aJ(e,a=!1){let s=document.activeElement;for(let t of e)if(t===s||(t.focus({preventScroll:a}),document.activeElement!==s))return}var aK=s(6059),aQ="Tabs",[aX,aY]=(0,eb.A)(aQ,[aF]),a0=aF(),[a1,a2]=aX(aQ),a4=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:c,activationMode:d="automatic",...o}=e,m=(0,aP.jH)(c),[x,u]=(0,ev.i)({prop:r,onChange:l,defaultProp:i??"",caller:aQ});return(0,t.jsx)(a1,{scope:s,baseId:(0,aE.B)(),value:x,onValueChange:u,orientation:n,dir:m,activationMode:d,children:(0,t.jsx)(ey.sG.div,{dir:m,"data-orientation":n,...o,ref:a})})});a4.displayName=aQ;var a3="TabsList",a5=r.forwardRef((e,a)=>{let{__scopeTabs:s,loop:r=!0,...l}=e,i=a2(a3,s),n=a0(s);return(0,t.jsx)(aB,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:r,children:(0,t.jsx)(ey.sG.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:a})})});a5.displayName=a3;var a8="TabsTrigger",a6=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,disabled:l=!1,...i}=e,n=a2(a8,s),c=a0(s),d=se(n.baseId,r),o=sa(n.baseId,r),m=r===n.value;return(0,t.jsx)(aW,{asChild:!0,...c,focusable:!l,active:m,children:(0,t.jsx)(ey.sG.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":o,"data-state":m?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:d,...i,ref:a,onMouseDown:(0,ep.m)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():n.onValueChange(r)}),onKeyDown:(0,ep.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&n.onValueChange(r)}),onFocus:(0,ep.m)(e.onFocus,()=>{let e="manual"!==n.activationMode;m||l||!e||n.onValueChange(r)})})})});a6.displayName=a8;var a7="TabsContent",a9=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:l,forceMount:i,children:n,...c}=e,d=a2(a7,s),o=se(d.baseId,l),m=sa(d.baseId,l),x=l===d.value,u=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(aK.C,{present:i||x,children:({present:s})=>(0,t.jsx)(ey.sG.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":o,hidden:!s,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:u.current?"0s":void 0},children:s&&n})})});function se(e,a){return`${e}-trigger-${a}`}function sa(e,a){return`${e}-content-${a}`}a9.displayName=a7;let ss=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(a5,{ref:s,className:(0,eP.cn)("inline-flex h-12 items-center justify-center rounded-lg bg-gray-100 p-1 text-gray-600 shadow-sm",e),...a}));ss.displayName=a5.displayName;let st=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(a6,{ref:s,className:(0,eP.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm hover:text-gray-900",e),...a}));st.displayName=a6.displayName;let sr=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(a9,{ref:s,className:(0,eP.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));sr.displayName=a9.displayName;let sl=(0,p.A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),si=(0,p.A)("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),sn=(0,p.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),sc=(0,p.A)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),sd=(0,p.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),so=(0,p.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function sm(){let[e,a]=(0,r.useState)(""),[s,l]=(0,r.useState)("all"),[i,n]=(0,r.useState)(null),d=[{id:"all",name:"Todas",icon:sl},{id:"basic",name:"Regras B\xe1sicas",icon:w.A},{id:"turn",name:"Estrutura do Turno",icon:ex},{id:"combat",name:"Combate",icon:si},{id:"spell",name:"M\xe1gicas e Habilidades",icon:ax},{id:"permanent",name:"Permanentes",icon:sn},{id:"zone",name:"Zonas do Jogo",icon:ae.A},{id:"multiplayer",name:"Multiplayer",icon:ar.A}],m=[{id:"1",title:"Como Jogar Magic",content:`Magic: The Gathering \xe9 um jogo de cartas estrat\xe9gico para dois ou mais jogadores. Cada jogador usa um deck personalizado de cartas Magic para derrotar seus oponentes.

**Objetivo do Jogo:**
Reduza os pontos de vida dos seus oponentes de 20 para 0, ou fa\xe7a com que eles n\xe3o possam comprar cartas do pr\xf3prio deck.

**Componentes B\xe1sicos:**
- Deck de no m\xednimo 60 cartas
- Pontos de vida (come\xe7am com 20)
- Mana (recurso para jogar cartas)
- Cinco cores de mana: Branco, Azul, Preto, Vermelho e Verde`,category:"basic",difficulty:"B\xe1sico",tags:["iniciante","conceitos","objetivo"]},{id:"2",title:"Estrutura do Turno",content:`Cada turno \xe9 dividido em fases espec\xedficas que devem ser seguidas em ordem:

**1. Fase Inicial (Beginning Phase):**
- Desvirar (Untap Step)
- Manuten\xe7\xe3o (Upkeep Step) 
- Compra (Draw Step)

**2. Fase Principal 1 (First Main Phase):**
- Jogue terrenos, m\xe1gicas e ative habilidades

**3. Fase de Combate (Combat Phase):**
- Declarar atacantes
- Declarar bloqueadores
- Resolver dano

**4. Fase Principal 2 (Second Main Phase):**
- Mesmas a\xe7\xf5es da Fase Principal 1

**5. Fase Final (Ending Phase):**
- Final do turno
- Limpeza`,category:"turn",difficulty:"B\xe1sico",tags:["turno","fases","sequ\xeancia"]},{id:"3",title:"Sistema de Mana",content:`Mana \xe9 o recurso usado para pagar o custo das m\xe1gicas. Existem cinco cores de mana:

**🤍 Branco (W):** 
- Prote\xe7\xe3o, cura, ordem
- Criaturas pequenas eficientes
- Remo\xe7\xe3o de amea\xe7as

**🔵 Azul (U):**
- Compra de cartas, contram\xe1gicas
- Controle e manipula\xe7\xe3o
- Criaturas voadoras

**⚫ Preto (B):**
- Destrui\xe7\xe3o, sacrif\xedcio
- Poder atrav\xe9s de custos
- Criaturas com deathtouch

**🔴 Vermelho (R):**
- Dano direto, velocidade
- Emo\xe7\xe3o e caos
- Criaturas agressivas

**🟢 Verde (G):**
- Criaturas grandes, mana
- Natureza e crescimento
- Acelera\xe7\xe3o de mana`,category:"basic",difficulty:"B\xe1sico",tags:["mana","cores","recursos"]},{id:"4",title:"Tipos de Cartas",content:`Existem v\xe1rios tipos de cartas em Magic:

**Terrenos (Lands):**
- Produzem mana
- Podem ser jogados uma vez por turno
- N\xe3o custam mana para jogar

**Criaturas (Creatures):**
- Podem atacar e bloquear
- T\xeam poder e resist\xeancia
- Permanentes no campo de batalha

**M\xe1gicas Instant\xe2neas (Instants):**
- Podem ser jogadas a qualquer momento
- V\xe3o para o cemit\xe9rio ap\xf3s resolverem
- Efeitos imediatos

**Feiti\xe7os (Sorceries):**
- S\xf3 podem ser jogadas na sua fase principal
- V\xe3o para o cemit\xe9rio ap\xf3s resolverem
- Efeitos \xfanicos

**Encantamentos (Enchantments):**
- Permanentes com efeitos cont\xednuos
- Ficam no campo at\xe9 serem removidos

**Artefatos (Artifacts):**
- Objetos m\xe1gicos
- Geralmente t\xeam custos incolores
- Efeitos variados

**Planeswalkers:**
- Aliados poderosos
- T\xeam pontos de lealdade
- Habilidades ativ\xe1veis`,category:"basic",difficulty:"Intermedi\xe1rio",tags:["tipos","cartas","permanentes"]},{id:"5",title:"Combate Detalhado",content:`O combate \xe9 dividido em v\xe1rias etapas:

**1. In\xedcio do Combate:**
- Oportunidade para jogar m\xe1gicas
- Habilidades que ativam no in\xedcio do combate

**2. Declarar Atacantes:**
- Escolha quais criaturas atacam
- Vire as criaturas atacantes
- Habilidades que ativam ao atacar

**3. Declarar Bloqueadores:**
- Defensor escolhe como bloquear
- Uma criatura pode bloquear um atacante
- M\xfaltiplas criaturas podem bloquear um atacante

**4. Dano de Combate:**
- Criaturas aplicam dano igual ao poder
- Dano acontece simultaneamente
- Criaturas com deathtouch destroem com qualquer dano

**5. Final do Combate:**
- \xdaltimas oportunidades para m\xe1gicas
- Habilidades de final de combate`,category:"combat",difficulty:"Intermedi\xe1rio",tags:["combate","atacar","bloquear","dano"]},{id:"6",title:"A Pilha (Stack)",content:`A pilha \xe9 onde m\xe1gicas e habilidades esperam para resolver:

**Como Funciona:**
- \xdaltima m\xe1gica/habilidade a entrar \xe9 a primeira a resolver (LIFO)
- Jogadores podem responder adicionando mais \xe0 pilha
- Quando todos passam, o item do topo resolve

**Exemplo:**
1. Jogador A joga Lightning Bolt
2. Jogador B responde com Counterspell
3. Jogador A responde com Red Elemental Blast
4. Resolve: Red Elemental Blast → Counterspell → Lightning Bolt

**Dicas Importantes:**
- Mana permanece no pool durante resolu\xe7\xe3o
- Voc\xea pode responder \xe0s suas pr\xf3prias m\xe1gicas
- Algumas habilidades n\xe3o usam a pilha (mana abilities)`,category:"spell",difficulty:"Avan\xe7ado",tags:["pilha","stack","resolu\xe7\xe3o","resposta"]}],x=[{icon:an,title:"Pontos de Vida",desc:"Comece com 20, chegue a 0 e perde"},{icon:ex,title:"Limite de M\xe3o",desc:"M\xe1ximo de 7 cartas na m\xe3o"},{icon:ae.A,title:"Terrenos por Turno",desc:"Apenas 1 terreno por turno"},{icon:ax,title:"Velocidade da M\xe1gica",desc:"Instant\xe2neas podem ser jogadas a qualquer momento"}],u=m.filter(a=>{let t=e.toLowerCase(),r=(0,V.b)(t).toLowerCase(),l=a.title.toLowerCase().includes(t)||a.content.toLowerCase().includes(t)||a.tags.some(e=>e.toLowerCase().includes(t))||r!==t&&(a.title.toLowerCase().includes(r)||a.content.toLowerCase().includes(r)||a.tags.some(e=>e.toLowerCase().includes(r))),i="all"===s||a.category===s;return l&&i}),h=e=>{console.log("Toggle favorite for rule:",e)};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sl,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Regras do Magic"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[m.length," regras"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Consulte regras e refer\xeancias do Magic: The Gathering"})]}),(0,t.jsxs)(a4,{defaultValue:"regras",className:"w-full",children:[(0,t.jsx)("div",{className:"quantum-card-dense mb-4 p-1",children:(0,t.jsxs)(ss,{className:"bg-transparent flex w-full gap-1",children:[(0,t.jsxs)(st,{value:"regras",className:"quantum-tab flex-1",children:[(0,t.jsx)(sl,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Regras"})]}),(0,t.jsxs)(st,{value:"rapidas",className:"quantum-tab flex-1",children:[(0,t.jsx)(ax,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Refer\xeancia"})]}),(0,t.jsxs)(st,{value:"glossario",className:"quantum-tab flex-1",children:[(0,t.jsx)(sc,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Gloss\xe1rio"})]})]})}),(0,t.jsx)(sr,{value:"regras",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(k.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(c.p,{placeholder:"Buscar regras...",value:e,onChange:e=>a(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]})}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(ae.A,{className:"w-3.5 h-3.5 text-cyan-400"}),"Categorias"]}),(0,t.jsx)("div",{className:"space-y-1",children:d.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:`w-full flex items-center gap-1.5 text-xs p-1.5 rounded-sm transition-colors
                          ${s===e.id?"bg-cyan-500/20 text-cyan-400":"hover:bg-gray-800 text-gray-400"}`,children:[(0,t.jsx)(a,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.name})]},e.id)})})]})]}),(0,t.jsx)("div",{className:"md:col-span-3",children:i?(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("button",{onClick:()=>n(null),className:"flex items-center text-xs text-gray-400 hover:text-cyan-400 transition-colors",children:"← Voltar \xe0s regras"})}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:i.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(o.E,{className:`h-5 text-[10px] ${"B\xe1sico"===i.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===i.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"}`,children:i.difficulty}),i.tags.map(e=>(0,t.jsx)(o.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-5 text-[10px]",children:e},e))]})]}),(0,t.jsx)("button",{onClick:()=>h(i.id),className:"p-1 text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(w.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"prose prose-invert max-w-none text-sm",children:(0,t.jsx)("div",{className:"whitespace-pre-wrap",children:i.content})})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h2",{className:"text-sm text-gray-400",children:[u.length," regra",1!==u.length?"s":""," encontrada",1!==u.length?"s":""]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:u.map(e=>(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight cursor-pointer",onClick:()=>n(e),children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:a=>{a.stopPropagation(),h(e.id)},className:"text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(w.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(sd,{className:"w-3.5 h-3.5 text-gray-500"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,t.jsx)(o.E,{className:`h-4 text-[10px] ${"B\xe1sico"===e.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===e.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"}`,children:e.difficulty})})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("p",{className:"text-gray-400 text-xs line-clamp-2",children:[e.content.substring(0,120),"..."]}),(0,t.jsxs)("div",{className:"flex gap-1 mt-2",children:[e.tags.slice(0,2).map(e=>(0,t.jsx)(o.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-4 text-[10px]",children:e},e)),e.tags.length>2&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 self-center",children:["+",e.tags.length-2]})]})]})]},e.id))})]})})]})}),(0,t.jsxs)(sr,{value:"rapidas",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map((e,a)=>{let s=e.icon;return(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(s,{className:"w-4 h-4 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.desc})]})]})},a)})}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ao,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Cores de Mana"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Identidade e caracter\xedsticas de cada cor"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{color:"Branco",symbol:"W",bg:"from-yellow-400 to-orange-500",theme:"Ordem, prote\xe7\xe3o"},{color:"Azul",symbol:"U",bg:"from-blue-500 to-cyan-600",theme:"Conhecimento, controle"},{color:"Preto",symbol:"B",bg:"from-gray-700 to-gray-900",theme:"Poder, sacrif\xedcio"},{color:"Vermelho",symbol:"R",bg:"from-red-500 to-orange-600",theme:"Emo\xe7\xe3o, caos"},{color:"Verde",symbol:"G",bg:"from-green-500 to-emerald-600",theme:"Natureza, vida"}].map(e=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:`w-8 h-8 bg-gradient-to-br ${e.bg} rounded-lg flex items-center justify-center mx-auto mb-2 text-white font-bold text-sm`,children:e.symbol}),(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.color}),(0,t.jsx)("p",{className:"text-gray-400 text-[10px]",children:e.theme})]},e.symbol))})})]})]}),(0,t.jsxs)(sr,{value:"glossario",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sc,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Gloss\xe1rio de Termos"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Defini\xe7\xf5es dos termos mais importantes"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{term:"CMC (Custo de Mana Convertido)",def:"O custo total de mana necess\xe1rio para jogar uma m\xe1gica"},{term:"Deathtouch",def:"Qualquer quantidade de dano desta criatura destr\xf3i uma criatura"},{term:"Flying (Voar)",def:"Esta criatura s\xf3 pode ser bloqueada por criaturas com flying ou reach"},{term:"Haste (\xcdmpeto)",def:"Esta criatura pode atacar no turno que entra em jogo"},{term:"Lifelink",def:"O dano causado por esta criatura tamb\xe9m ganha pontos de vida"},{term:"Reach (Alcance)",def:"Esta criatura pode bloquear criaturas com flying"},{term:"Trample (Atropelar)",def:"Dano excessivo no combate pode ser aplicado ao defensor"},{term:"Vigilance (Vigil\xe2ncia)",def:"Atacar n\xe3o faz esta criatura virar"}].map((e,a)=>(0,t.jsxs)("div",{className:"p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.term}),(0,t.jsx)("p",{className:"text-gray-400 text-[11px]",children:e.def})]},a))})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-1.5",children:[(0,t.jsx)(as,{className:"w-3.5 h-3.5 text-cyan-400"}),"Recursos Externos"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Regras Oficiais"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Comprehensive Rules"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(so,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Judge Chat"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Tire suas d\xfavidas"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(sl,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Gatherer"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Base de dados oficial"})]})]})]})]})]})]})]})}let sx=(0,p.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),su=(0,p.A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),sh=(0,p.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sg=(0,p.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),sp=(0,p.A)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);function sj({onImageUploaded:e,onMultipleImagesUploaded:a,onEditDetails:s}){let[l,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(0),h=(0,r.useRef)(null),g=(0,r.useRef)(null),p=e=>new Promise((a,s)=>{if(!e.type.startsWith("image/")){s(Error("Arquivo n\xe3o \xe9 uma imagem v\xe1lida"));return}let t=new FileReader;t.onload=e=>{e.target?.result?a(e.target.result):s(Error("Erro ao ler o arquivo"))},t.onerror=()=>s(Error("Erro ao processar a imagem")),t.readAsDataURL(e)}),j=async s=>{if(0!==s.length){c(!0),u(0);try{let t=[];for(let e=0;e<s.length;e++)t.push(p(s[e]));let r=[],l=t.length;for(let e=0;e<l;e++){let a=await t[e];r.push(a),u(Math.round((e+1)/l*100))}m(r),1===r.length?e(r[0]):r.length>1&&a?a(r):r.length>1&&e(r[0])}catch(e){console.error("Erro ao processar imagens:",e),alert("Ocorreu um erro ao processar as imagens.")}finally{c(!1),u(0)}}},b=async()=>{try{for(let e of(await navigator.clipboard.read()))for(let a of e.types)if(a.startsWith("image/")){let s=await e.getType(a),t=new File([s],"clipboard-image.png",{type:a}),r=new DataTransfer;r.items.add(t),j(r.files);return}alert("Nenhuma imagem encontrada na \xe1rea de transfer\xeancia.")}catch(e){console.error("Erro ao acessar a \xe1rea de transfer\xeancia:",e),alert("N\xe3o foi poss\xedvel acessar a \xe1rea de transfer\xeancia. Verifique as permiss\xf5es do navegador.")}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{ref:g,className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"}`,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),i(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),i(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),i(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&j(e.dataTransfer.files)},onClick:()=>h.current?.click(),children:[(0,t.jsx)("input",{type:"file",ref:h,className:"hidden",accept:"image/*",onChange:e=>{e.target.files&&e.target.files.length>0&&j(e.target.files)},multiple:!0}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)(el,{className:"w-8 h-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Arraste e solte imagens aqui, ou clique para selecionar"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Formatos suportados: JPG, PNG, GIF (m\xfaltiplas imagens permitidas)"})]})]}),n&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-md p-2",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-300 mb-1",children:["Processando imagens... ",x,"%"]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 h-1 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"bg-purple-500 h-1 rounded-full",style:{width:`${x}%`}})})]}),o.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-400 mb-1",children:[o.length," imagens carregadas:"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[o.slice(0,6).map((e,a)=>(0,t.jsxs)("div",{className:"relative aspect-[63/88] bg-gray-800 rounded-md overflow-hidden group",children:[(0,t.jsx)("img",{src:e,alt:`Imagem ${a+1}`,className:"w-full h-full object-contain"}),s&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>s(e),className:"bg-blue-900/50 border-blue-700 text-blue-300",children:"Editar Detalhes"})})]},a)),o.length>6&&(0,t.jsx)("div",{className:"relative aspect-[63/88] bg-gray-800/50 rounded-md flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-gray-400 text-sm",children:["+",o.length-6]})})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{variant:"outline",className:"flex-1",onClick:()=>h.current?.click(),disabled:n,children:[(0,t.jsx)(eF,{className:"w-4 h-4 mr-1"}),"Selecionar Imagens"]}),(0,t.jsxs)(d.$,{variant:"outline",className:"flex-1",onClick:b,disabled:n,children:[(0,t.jsx)(sp,{className:"w-4 h-4 mr-1"}),"Colar da \xc1rea de Transfer\xeancia"]})]})]})}function sb({onCardsUploaded:e}){let[a,s]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null),o=(0,r.useRef)(null),m=a=>{i(!0),c(null);let s=new FileReader;s.onload=a=>{try{if(a.target?.result){let s=a.target.result,t=JSON.parse(s);if(!Array.isArray(t))throw Error("O arquivo deve conter um array de cartas.");let r=t.filter(e=>e&&"object"==typeof e&&(e.name||e.image_uris?.normal));if(0===r.length)throw Error("Nenhuma carta v\xe1lida encontrada no arquivo.");e(r)}}catch(e){console.error("Erro ao processar arquivo JSON:",e),c(e instanceof Error?e.message:"Erro ao processar o arquivo.")}finally{i(!1)}},s.onerror=()=>{c("Erro ao ler o arquivo."),i(!1)},s.readAsText(a)};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-purple-500 bg-purple-500/10":"border-gray-600 hover:border-gray-500"}`,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),s(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),s(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),s(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&m(e.dataTransfer.files[0])},onClick:()=>o.current?.click(),children:[(0,t.jsx)("input",{type:"file",ref:o,className:"hidden",accept:".json",onChange:e=>{e.target.files&&e.target.files[0]&&m(e.target.files[0])}}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,t.jsx)(et,{className:"w-8 h-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Arraste e solte um arquivo JSON aqui, ou clique para selecionar"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"O arquivo deve conter um array de objetos com as propriedades das cartas"})]})]}),n&&(0,t.jsxs)("div",{className:"bg-red-900/30 border border-red-800 rounded-md p-3 flex items-start gap-2",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-300",children:n})]}),(0,t.jsxs)(d.$,{variant:"outline",className:"w-full",onClick:()=>o.current?.click(),disabled:l,children:[(0,t.jsx)(el,{className:"w-4 h-4 mr-1"}),l?"Processando...":"Selecionar Arquivo JSON"]})]})}function sv({isOpen:e,onClose:a,card:s}){return s?(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsx)(Q.Cf,{className:"quantum-card-dense fixed-modal max-w-md p-2",children:(0,t.jsx)("div",{className:"relative w-full",children:(0,t.jsx)(n(),{src:s.image_uris?.normal||"/placeholder.png",alt:s.name,width:480,height:680,className:"w-full h-auto rounded-lg"})})})}):null}function sf({isOpen:e,onClose:a,card:s,onSave:l}){let[i,o]=(0,r.useState)(s);return(s&&(!i||i.id!==s.id)&&o(s),i)?(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(sg,{className:"w-5 h-5 text-blue-400"}),"Editar Carta"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"relative w-full aspect-[63/88] rounded-lg overflow-hidden mb-4",children:(0,t.jsx)(n(),{src:i.image_uris?.normal||"/placeholder.png",alt:i.name,fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(c.p,{value:i.name,onChange:e=>o({...i,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(c.p,{value:i.mana_cost||"",onChange:e=>o({...i,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:i.rarity||"common",onChange:e=>o({...i,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(c.p,{value:i.type_line||"",onChange:e=>o({...i,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(u.T,{value:i.oracle_text||"",onChange:e=>o({...i,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Fonte do Spoiler"}),(0,t.jsx)(c.p,{value:i.spoilerSource||"",onChange:e=>o({...i,spoilerSource:e.target.value}),placeholder:"Wizards.com, Twitter, etc."})]})]}),(0,t.jsxs)(Q.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:a,children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{i&&l(i)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(Y,{className:"w-4 h-4 mr-1"}),"Salvar Altera\xe7\xf5es"]})]})]})}):null}function sN({isOpen:e,onClose:a,imageUrl:s,onSave:l}){let[i,o]=(0,r.useState)({name:"",type_line:"",oracle_text:"",mana_cost:"",rarity:"common",set:"eoe",set_name:"Edges of Eternities",image_uris:{normal:s}});return(0,t.jsx)(Q.lG,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(sg,{className:"w-5 h-5 text-blue-400"}),"Adicionar Detalhes da Carta"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"relative w-full aspect-[63/88] rounded-lg overflow-hidden mb-4",children:(0,t.jsx)(n(),{src:s,alt:"Pr\xe9via da carta",fill:!0,className:"object-cover"})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(c.p,{value:i.name,onChange:e=>o({...i,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(c.p,{value:i.mana_cost||"",onChange:e=>o({...i,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:i.rarity||"common",onChange:e=>o({...i,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(c.p,{value:i.type_line||"",onChange:e=>o({...i,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(u.T,{value:i.oracle_text||"",onChange:e=>o({...i,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]})]}),(0,t.jsxs)(Q.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:a,children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{l(i),a()},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(Y,{className:"w-4 h-4 mr-1"}),"Salvar e Adicionar"]})]})]})})}let sy=e=>{try{let a=e.map(e=>{let{image_uris:a,...s}=e;return{...s,image_ref:e.id}});return localStorage.setItem("mtg-spoiler-cards-data",JSON.stringify(a)),e.forEach(e=>{if(e.image_uris?.normal)try{localStorage.setItem(`mtg-spoiler-image-${e.id}`,e.image_uris.normal)}catch(a){console.warn(`N\xe3o foi poss\xedvel salvar a imagem da carta ${e.name}:`,a)}}),!0}catch(e){return console.error("Erro ao salvar cartas de spoiler:",e),!1}},sw=()=>{try{let e=localStorage.getItem("mtg-spoiler-cards-data");if(!e)return[];return JSON.parse(e).map(e=>{let a=null;try{a=localStorage.getItem(`mtg-spoiler-image-${e.id}`)}catch(a){console.warn(`N\xe3o foi poss\xedvel carregar a imagem da carta ${e.name}:`,a)}let{image_ref:s,...t}=e;return{...t,image_uris:{normal:a||"",large:a||"",png:a||"",art_crop:a||""}}})}catch(e){return console.error("Erro ao carregar cartas de spoiler:",e),[]}},sC=e=>{try{let a=sw();return a.unshift(e),sy(a)}catch(e){return console.error("Erro ao adicionar carta de spoiler:",e),!1}},sk=e=>{try{let a=sw(),s=[...e,...a];return sy(s)}catch(e){return console.error("Erro ao adicionar cartas de spoiler:",e),!1}},sS=e=>{try{let a=sw().filter(a=>a.id!==e);try{localStorage.removeItem(`mtg-spoiler-image-${e}`)}catch(a){console.warn(`N\xe3o foi poss\xedvel remover a imagem da carta ${e}:`,a)}return sy(a)}catch(e){return console.error("Erro ao remover carta de spoiler:",e),!1}};function sA({isAdmin:e=!1}){let[a,s]=(0,r.useState)([]),[l,i]=(0,r.useState)("Edges of Eternities"),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)({name:"",type_line:"",oracle_text:"",mana_cost:"",image_uris:{normal:""},rarity:"common",set:"eoe",set_name:"Edges of Eternities",isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""}),[g,p]=(0,r.useState)(e),[j,v]=(0,r.useState)("form"),[f,N]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[A,q]=(0,r.useState)(!1),[$,_]=(0,r.useState)(!1),[E,M]=(0,r.useState)(""),[P,z]=(0,r.useState)(null),T=e=>{let a=e.replace(/[{}]/g,"").split(""),s=0;for(let e of a)isNaN(parseInt(e))?"X"!==e&&"Y"!==e&&"Z"!==e&&(s+=1):s+=parseInt(e);return s},D=e=>{if(confirm("Tem certeza que deseja remover esta carta?"))try{sS(e)?s(a=>a.filter(a=>a.id!==e)):(z("Erro ao remover a carta do armazenamento."),s(a=>a.filter(a=>a.id!==e)))}catch(e){console.error("Erro ao remover carta:",e),z("Erro ao remover carta. Tente novamente.")}},I=e=>{N(e),w(!0)},R=e=>{S({...e}),q(!0)},L=()=>{h({name:"",type_line:"",oracle_text:"",mana_cost:"",image_uris:{normal:""},rarity:"common",set:"eoe",set_name:"Edges of Eternities",isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""}),v("form")},O=e=>{h(a=>({...a,image_uris:{...a.image_uris,normal:e}}))};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4 card-purple",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ao,{className:"w-5 h-5 text-purple-400"}),(0,t.jsxs)("h2",{className:"text-lg font-semibold text-white",children:["Spoilers: ",l]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>{p(e=>!e)},className:"text-gray-400 hover:text-white",children:[g?(0,t.jsx)(sx,{className:"w-4 h-4 mr-1"}):(0,t.jsx)(C.A,{className:"w-4 h-4 mr-1"}),g?"Modo Visualiza\xe7\xe3o":"Modo Admin"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Confira os spoilers mais recentes da pr\xf3xima cole\xe7\xe3o de Magic: The Gathering"})]}),g&&(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{onClick:()=>m(!0),className:"bg-purple-600 hover:bg-purple-700",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Adicionar Carta"]}),(0,t.jsxs)(d.$,{variant:"outline",className:"border-cyan-800/50 text-cyan-400",onClick:()=>{s([...a].sort((e,a)=>{let s=e.id.split("-")[1]||"0";return parseInt(a.id.split("-")[1]||"0")-parseInt(s)}))},children:[(0,t.jsx)(su,{className:"w-4 h-4 mr-1"}),"Ordenar por Recentes"]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[a.length," cartas no spoiler"]})]}),P&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-yellow-900/30 border border-yellow-800 rounded-md flex items-start gap-2",children:[(0,t.jsx)(sh,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-yellow-200",children:P})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map(e=>(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden transition-all hover:scale-[1.03] group cursor-pointer",onClick:()=>I(e),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n(),{src:e.image_uris?.normal||"/placeholder.png",alt:e.name,width:265,height:370,className:"w-full h-auto"}),e.isNew&&(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-purple-900/70 text-purple-200",children:"Novo"})}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-white truncate",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-300",children:e.rarity})]})}),g&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2 transition-opacity",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),R(e)},className:"w-8 h-8 p-0 rounded-full bg-blue-900/50 border-blue-700",children:(0,t.jsx)(sg,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)(d.$,{variant:"destructive",size:"sm",onClick:a=>{a.stopPropagation(),D(e.id)},className:"w-8 h-8 p-0 rounded-full",children:(0,t.jsx)(eg,{className:"w-4 h-4"})})]})]})},e.id))}),(0,t.jsx)(sv,{isOpen:y,onClose:()=>w(!1),card:f}),(0,t.jsx)(sf,{isOpen:A,onClose:()=>q(!1),card:k,onSave:()=>{if(k)try{let e=a.map(e=>e.id===k.id?k:e);sy(e)||z("Erro ao salvar as altera\xe7\xf5es da carta."),s(e),q(!1),S(null)}catch(e){console.error("Erro ao salvar altera\xe7\xf5es da carta:",e),z("Erro ao salvar altera\xe7\xf5es da carta. Tente novamente.")}}}),(0,t.jsx)(sN,{isOpen:$,onClose:()=>_(!1),imageUrl:E,onSave:e=>{let t={id:`spoiler-${Date.now()}`,name:e.name||"Carta sem nome",type_line:e.type_line||"",oracle_text:e.oracle_text||"",mana_cost:e.mana_cost||"",cmc:T(e.mana_cost||""),image_uris:{normal:e.image_uris?.normal||"",large:e.image_uris?.normal||"",png:e.image_uris?.normal||"",art_crop:e.image_uris?.normal||""},rarity:e.rarity||"common",set:e.set||"eoe",set_name:e.set_name||"Edges of Eternities",collector_number:`${a.length+1}`,isNew:!0,releaseDate:new Date().toISOString().split("T")[0],spoilerSource:""};try{sC(t)?s(e=>[t,...e]):z("N\xe3o foi poss\xedvel adicionar a carta devido a limita\xe7\xf5es de armazenamento.")}catch(e){console.error("Erro ao adicionar carta:",e),z("Erro ao adicionar carta. Tente novamente com uma imagem menor.")}}}),(0,t.jsx)(Q.lG,{open:o,onOpenChange:m,children:(0,t.jsxs)(Q.Cf,{className:"quantum-card-dense fixed-modal max-w-md",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"w-5 h-5 text-purple-400"}),"Adicionar Nova Carta"]})}),(0,t.jsxs)(a4,{value:j,onValueChange:v,children:[(0,t.jsxs)(ss,{className:"grid grid-cols-3 mb-4",children:[(0,t.jsx)(st,{value:"form",children:"Formul\xe1rio"}),(0,t.jsx)(st,{value:"image",children:"Imagem"}),(0,t.jsx)(st,{value:"batch",children:"Em Lote"})]}),(0,t.jsxs)(sr,{value:"form",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Nome da Carta"}),(0,t.jsx)(c.p,{value:x.name,onChange:e=>h({...x,name:e.target.value}),placeholder:"Nome da carta"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Custo de Mana"}),(0,t.jsx)(c.p,{value:x.mana_cost,onChange:e=>h({...x,mana_cost:e.target.value}),placeholder:"{2}{W}{U}"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Linha de Tipo"}),(0,t.jsx)(c.p,{value:x.type_line,onChange:e=>h({...x,type_line:e.target.value}),placeholder:"Criatura — Humano Mago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Texto"}),(0,t.jsx)(u.T,{value:x.oracle_text,onChange:e=>h({...x,oracle_text:e.target.value}),placeholder:"Texto da carta",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"URL da Imagem"}),(0,t.jsx)(c.p,{value:x.image_uris?.normal,onChange:e=>h({...x,image_uris:{...x.image_uris||{},normal:e.target.value}}),placeholder:"https://exemplo.com/imagem.jpg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Raridade"}),(0,t.jsxs)("select",{value:x.rarity,onChange:e=>h({...x,rarity:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"common",children:"Comum"}),(0,t.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,t.jsx)("option",{value:"rare",children:"Rara"}),(0,t.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 mb-1 block",children:"Fonte do Spoiler"}),(0,t.jsx)(c.p,{value:x.spoilerSource,onChange:e=>h({...x,spoilerSource:e.target.value}),placeholder:"Wizards.com, Twitter, etc."})]})]}),(0,t.jsx)(sr,{value:"image",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Fa\xe7a upload de uma ou v\xe1rias imagens ou cole da \xe1rea de transfer\xeancia"}),(0,t.jsx)(sj,{onImageUploaded:O,onMultipleImagesUploaded:e=>{if(0===e.length)return;if(1===e.length){O(e[0]);return}let t=e.map((e,s)=>({id:`spoiler-${Date.now()}-${s}`,name:x.name||`Carta ${s+1}`,type_line:x.type_line||"",oracle_text:x.oracle_text||"",mana_cost:x.mana_cost||"",cmc:T(x.mana_cost||""),image_uris:{normal:e,large:e,png:e,art_crop:e},rarity:x.rarity||"common",set:x.set||"eoe",set_name:x.set_name||"Edges of Eternities",collector_number:`${a.length+s+1}`,isNew:!0,releaseDate:x.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:x.spoilerSource||""}));try{sk(t)?s(e=>[...t,...e]):(z("Algumas imagens podem n\xe3o ter sido salvas devido a limita\xe7\xf5es de armazenamento."),s(e=>[...t,...e])),m(!1),L()}catch(e){console.error("Erro ao adicionar m\xfaltiplas imagens:",e),z("Erro ao adicionar m\xfaltiplas imagens. Tente novamente com menos imagens ou imagens menores.")}},onEditDetails:e=>{M(e),_(!0)}}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Nota: Imagens grandes podem exceder o limite de armazenamento do navegador. Recomendamos usar imagens menores ou comprimir as imagens antes do upload."}),x.image_uris?.normal&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"Pr\xe9via da imagem:"}),(0,t.jsx)("div",{className:"relative w-full h-64 bg-gray-800 rounded-md overflow-hidden",children:(0,t.jsx)("img",{src:x.image_uris.normal,alt:"Pr\xe9via",className:"w-full h-full object-contain"})})]})]})}),(0,t.jsx)(sr,{value:"batch",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Fa\xe7a upload de um arquivo JSON contendo m\xfaltiplas cartas"}),(0,t.jsx)(sb,{onCardsUploaded:e=>{let t=e.map((e,s)=>({id:`spoiler-batch-${Date.now()}-${s}`,name:e.name||"Carta sem nome",type_line:e.type_line||"",oracle_text:e.oracle_text||"",mana_cost:e.mana_cost||"",cmc:T(e.mana_cost||""),image_uris:{normal:e.image_uris?.normal||"",large:e.image_uris?.large||e.image_uris?.normal||"",png:e.image_uris?.png||e.image_uris?.normal||"",art_crop:e.image_uris?.art_crop||e.image_uris?.normal||""},rarity:e.rarity||"common",set:e.set||"eoe",set_name:e.set_name||"Edges of Eternities",collector_number:`${a.length+s+1}`,isNew:!0,releaseDate:e.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:e.spoilerSource||""}));try{sk(t)?s(e=>[...t,...e]):(z("Algumas cartas podem n\xe3o ter sido adicionadas devido a limita\xe7\xf5es de armazenamento."),s(e=>[...t,...e])),m(!1)}catch(e){console.error("Erro ao adicionar cartas em lote:",e),z("Erro ao adicionar cartas em lote. Tente novamente com menos imagens ou imagens menores.")}}}),(0,t.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-md border border-gray-700",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Formato esperado:"}),(0,t.jsx)("pre",{className:"text-xs text-gray-300 overflow-x-auto p-2 bg-gray-900 rounded-md",children:`[
  {
    "name": "Nome da Carta",
    "image_uris": {
      "normal": "url_da_imagem"
    },
    "rarity": "rare"
  },
  ...
]`})]})]})})]}),(0,t.jsxs)(Q.Es,{className:"mt-4 pt-2 border-t border-gray-700",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{if(!x.name&&!x.image_uris?.normal){alert("Nome ou imagem s\xe3o obrigat\xf3rios");return}let e={id:`spoiler-${Date.now()}`,name:x.name||"Carta sem nome",type_line:x.type_line||"",oracle_text:x.oracle_text||"",mana_cost:x.mana_cost||"",cmc:T(x.mana_cost||""),image_uris:{normal:x.image_uris?.normal||"",large:x.image_uris?.normal||"",png:x.image_uris?.normal||"",art_crop:x.image_uris?.normal||""},rarity:x.rarity||"common",set:x.set||"eoe",set_name:x.set_name||"Edges of Eternities",collector_number:`${a.length+1}`,isNew:!0,releaseDate:x.releaseDate||new Date().toISOString().split("T")[0],spoilerSource:x.spoilerSource||""};try{sC(e)?(s(a=>[e,...a]),m(!1),L()):z("N\xe3o foi poss\xedvel adicionar a carta devido a limita\xe7\xf5es de armazenamento.")}catch(e){console.error("Erro ao adicionar carta:",e),z("Erro ao adicionar carta. Tente novamente com uma imagem menor.")}},className:"bg-purple-600 hover:bg-purple-700",disabled:"batch"===j,children:[(0,t.jsx)(Y,{className:"w-4 h-4 mr-1"}),"Salvar Carta"]})]})]})})]})}var sq=s(6156),s$=s(7379);function s_(){return()=>{}}var sE="Avatar",[sM,sP]=(0,eb.A)(sE),[sz,sT]=sM(sE),sD=r.forwardRef((e,a)=>{let{__scopeAvatar:s,...l}=e,[i,n]=r.useState("idle");return(0,t.jsx)(sz,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,t.jsx)(ey.sG.span,{...l,ref:a})})});sD.displayName=sE;var sI="AvatarImage",sR=r.forwardRef((e,a)=>{let{__scopeAvatar:s,src:l,onLoadingStatusChange:i=()=>{},...n}=e,c=sT(sI,s),d=function(e,{referrerPolicy:a,crossOrigin:s}){let t=(0,s$.useSyncExternalStore)(s_,()=>!0,()=>!1),l=r.useRef(null),i=t?(l.current||(l.current=new window.Image),l.current):null,[n,c]=r.useState(()=>sF(i,e));return(0,sq.N)(()=>{c(sF(i,e))},[i,e]),(0,sq.N)(()=>{let e=e=>()=>{c(e)};if(!i)return;let t=e("loaded"),r=e("error");return i.addEventListener("load",t),i.addEventListener("error",r),a&&(i.referrerPolicy=a),"string"==typeof s&&(i.crossOrigin=s),()=>{i.removeEventListener("load",t),i.removeEventListener("error",r)}},[i,s,a]),n}(l,n),o=(0,aM.c)(e=>{i(e),c.onImageLoadingStatusChange(e)});return(0,sq.N)(()=>{"idle"!==d&&o(d)},[d,o]),"loaded"===d?(0,t.jsx)(ey.sG.img,{...n,ref:a,src:l}):null});sR.displayName=sI;var sL="AvatarFallback",sO=r.forwardRef((e,a)=>{let{__scopeAvatar:s,delayMs:l,...i}=e,n=sT(sL,s),[c,d]=r.useState(void 0===l);return r.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(e)}},[l]),c&&"loaded"!==n.imageLoadingStatus?(0,t.jsx)(ey.sG.span,{...i,ref:a}):null});function sF(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}sO.displayName=sL;let sV=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(sD,{ref:s,className:(0,eP.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));sV.displayName=sD.displayName;let sG=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(sR,{ref:s,className:(0,eP.cn)("aspect-square h-full w-full",e),...a}));sG.displayName=sR.displayName;let sB=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(sO,{ref:s,className:(0,eP.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));function sU({trigger:e,children:a,align:s="right"}){let[l,i]=(0,r.useState)(!1),n=(0,r.useRef)(null),c=(0,r.useRef)(null);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{ref:c,onClick:()=>i(!l),className:"cursor-pointer",children:e}),l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"md:hidden fixed inset-0 bg-black/20 z-40",onClick:()=>i(!1)}),(0,t.jsx)("div",{ref:n,className:`dropdown-menu ${"right"===s?"right-0":"left-0"}`,children:a})]})]})}sB.displayName=sO.displayName;let sH=(0,p.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),sW=(0,p.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),sZ=(0,p.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),sJ=(0,p.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sK=(0,p.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sQ=(0,p.A)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),sX=(0,p.A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);function sY({isOpen:e,setIsOpen:a,onLogin:s}){let[l,i]=(0,r.useState)("login"),[n,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)({email:"",password:""}),[u,h]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[g,p]=(0,r.useState)(!1),[j,b]=(0,r.useState)(""),v=async e=>{e.preventDefault(),p(!0),b(""),setTimeout(()=>{m.email&&m.password?(s({id:"1",name:m.email.split("@")[0],email:m.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${m.email}`,joinedAt:new Date().toISOString(),collectionsCount:3,totalCards:1247,achievements:["Primeiro Deck Criado","Colecionador Iniciante","Explorador de Cores"]}),a(!1),x({email:"",password:""})):b("Por favor, preencha todos os campos"),p(!1)},1500)},f=async e=>{if(e.preventDefault(),p(!0),b(""),u.password!==u.confirmPassword){b("As senhas n\xe3o coincidem"),p(!1);return}setTimeout(()=>{u.name&&u.email&&u.password?(s({id:"1",name:u.name,email:u.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${u.email}`,joinedAt:new Date().toISOString(),collectionsCount:0,totalCards:0,achievements:["Bem-vindo ao MTG Helper!"]}),a(!1),h({name:"",email:"",password:"",confirmPassword:""})):b("Por favor, preencha todos os campos"),p(!1)},1500)},N=e=>{p(!0),setTimeout(()=>{s({id:"1",name:`Usu\xe1rio ${e}`,email:`usuario@${e}.com`,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`,joinedAt:new Date().toISOString(),collectionsCount:2,totalCards:856,achievements:["Login Social","Colecionador Iniciante"]}),a(!1),p(!1)},1e3)};return(0,t.jsx)(Q.lG,{open:e,onOpenChange:a,children:(0,t.jsxs)(Q.Cf,{className:"sm:max-w-md mtg-modal",children:[(0,t.jsx)(Q.c7,{children:(0,t.jsxs)(Q.L3,{className:"text-center text-2xl text-white mb-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-4 mx-auto shadow-xl",children:(0,t.jsx)(sH,{className:"w-8 h-8 text-white"})}),"Entrar no MTG Helper"]})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mtg-tabs mb-6",children:[(0,t.jsxs)("button",{onClick:()=>i("login"),className:`mtg-tab ${"login"===l?"mtg-tab-active":""}`,children:[(0,t.jsx)(sW,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]}),(0,t.jsxs)("button",{onClick:()=>i("register"),className:`mtg-tab ${"register"===l?"mtg-tab-active":""}`,children:[(0,t.jsx)(sZ,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})]}),"login"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sJ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:"email",placeholder:"seu@email.com",value:m.email,onChange:e=>x(a=>({...a,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sK,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:n?"text":"password",placeholder:"••••••••",value:m.password,onChange:e=>x(a=>({...a,password:e.target.value})),className:"mtg-input pl-10 pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:n?(0,t.jsx)(sx,{className:"w-4 h-4"}):(0,t.jsx)(C.A,{className:"w-4 h-4"})})]})]}),j&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:j}),(0,t.jsx)(d.$,{type:"submit",className:"quantum-btn w-full primary",disabled:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Entrando..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sW,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Esqueceu sua senha?"})})]}),"register"===l&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:"text",placeholder:"Seu nome",value:u.name,onChange:e=>h(a=>({...a,name:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sJ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:"email",placeholder:"seu@email.com",value:u.email,onChange:e=>h(a=>({...a,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sK,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:"password",placeholder:"••••••••",value:u.password,onChange:e=>h(a=>({...a,password:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Confirmar Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sK,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(c.p,{type:"password",placeholder:"••••••••",value:u.confirmPassword,onChange:e=>h(a=>({...a,confirmPassword:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),j&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:j}),(0,t.jsx)(d.$,{type:"submit",className:"quantum-btn w-full primary",disabled:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Criando conta..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sZ,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})})]})}),(0,t.jsxs)("div",{className:"relative my-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t border-slate-700"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-slate-900 px-3 text-slate-400",children:"Ou continue com"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,t.jsxs)(d.$,{onClick:()=>N("google"),disabled:g,className:"quantum-btn compact",children:[(0,t.jsx)(sQ,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Google"})]}),(0,t.jsxs)(d.$,{onClick:()=>N("github"),disabled:g,className:"quantum-btn compact",children:[(0,t.jsx)(sX,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"GitHub"})]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-slate-500",children:["Ao continuar, voc\xea concorda com nossos"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Termos de Uso"})," ","e"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Pol\xedtica de Privacidade"})]})]})]})})}let s0=(0,p.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),s1=(0,p.A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),s2=(0,p.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function s4({user:e,onLogin:a,onLogout:s}){let[l,i]=(0,r.useState)(!1);return e?(0,t.jsxs)("div",{className:"flex items-center gap-3 lg:gap-6",children:[(0,t.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(aa,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cole\xe7\xf5es"})]})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-slate-700"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cartas"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(s0,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(U,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,t.jsxs)(sU,{align:"right",trigger:(0,t.jsxs)(d.$,{variant:"ghost",className:"mtg-user-trigger flex items-center gap-3 px-2 py-1 hover:bg-gray-800/50 relative z-10",type:"button","aria-haspopup":"true",children:[(0,t.jsxs)(sV,{className:"w-10 h-10 ring-2 ring-slate-700",children:[(0,t.jsx)(sG,{src:e.avatar,alt:e.name}),(0,t.jsx)(sB,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Online"})]}),(0,t.jsx)(m.A,{className:"w-4 h-4 text-slate-400 hidden md:block"})]}),children:[(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(sV,{className:"w-14 h-14 ring-2 ring-blue-500/30",children:[(0,t.jsx)(sG,{src:e.avatar,alt:e.name}),(0,t.jsx)(sB,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-lg",children:e.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-white text-base",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 truncate",children:e.email}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-gray-800/50 text-green-400",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]}),(0,t.jsx)("div",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-blue-500 text-xs text-white",children:"PRO"})]})]})]})}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsx)("div",{className:"px-2 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(aa,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-blue-400",children:e.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cole\xe7\xf5es"})]}),(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(w.A,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-purple-400",children:e.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cartas"})]})]})}),e.achievements&&e.achievements.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsxs)("div",{className:"px-2 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(s1,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"font-medium text-slate-200",children:"Conquistas Recentes"})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.achievements.slice(0,2).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(aa,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 flex-1 font-medium",children:e})]},a))})]})]}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(sH,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{children:"Meu Perfil"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(at,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("span",{children:"Analytics"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(ar.A,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{children:"Comunidade"})]}),(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-200 rounded-md hover:bg-blue-500/10 hover:text-white",children:[(0,t.jsx)(U,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{children:"Configura\xe7\xf5es"})]})]}),(0,t.jsx)("div",{className:"h-px bg-slate-700 my-2"}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)("button",{className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-red-400 rounded-md hover:bg-red-500/20",onClick:s,children:[(0,t.jsx)(s2,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Sair"})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:["        ",(0,t.jsxs)("button",{onClick:()=>i(!0),className:"quantum-btn quantum-btn-primary",children:[(0,t.jsx)(sH,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Entrar"})]}),(0,t.jsx)(sY,{isOpen:l,setIsOpen:i,onLogin:a})]})}let s3=(0,p.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),s5=(0,p.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),s8=({user:e,activeTab:a,onTabChange:s,onLogout:l,onLogin:i})=>{let[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),u=[{id:"painel",label:"Dashboard",icon:B.A},{id:"colecao",label:"Cole\xe7\xe3o",icon:X.A},{id:"decks",label:"Deck Builder",icon:aq},{id:"regras",label:"Regras",icon:sl},{id:"extras",label:"Recursos",icon:ao}];(0,r.useEffect)(()=>{let e=()=>{o(window.scrollY>10),x(window.scrollY>300)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.useEffect)(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);let h=e=>{s(e),c(!1)},[g]=(0,r.useState)(2),[p,j]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:`mobile-header ${d?"mobile-header-scrolled":""} mobile-header-animate-in`,children:[(0,t.jsxs)("div",{className:"mobile-header-container mobile-header-content-animate",children:[(0,t.jsxs)("div",{className:"mobile-logo-container",children:[(0,t.jsx)("div",{className:"mobile-logo-badge",onClick:()=>s("painel"),children:(0,t.jsx)("span",{className:"relative z-10",children:"MTG"})}),(0,t.jsxs)("div",{className:"mobile-logo-text",children:[(0,t.jsx)("span",{className:"mobile-logo-title",children:"MTG Helper"}),(0,t.jsx)("span",{className:"mobile-logo-subtitle",children:"Collection Manager"})]})]}),(0,t.jsxs)("button",{className:"mobile-nav-toggle",onClick:()=>c(!0),"aria-label":"Abrir menu de navega\xe7\xe3o",children:[(0,t.jsx)(s3,{size:20}),e&&e.totalCards>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full"})]})]}),(0,t.jsxs)("div",{className:"mobile-subheader mobile-header-content-animate",style:{animationDelay:"0.1s"},children:[(0,t.jsxs)("div",{className:"mobile-subheader-title",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[u.find(e=>e.id===a)?.icon&&(0,t.jsx)("div",{className:"mobile-subheader-icon",children:(()=>{let e=u.find(e=>e.id===a)?.icon||s5;return(0,t.jsx)(e,{size:18,className:"text-indigo-400"})})()}),(0,t.jsx)("span",{children:u.find(e=>e.id===a)?.label||"In\xedcio"})]}),(0,t.jsxs)("div",{className:"mobile-subheader-actions",children:[(0,t.jsxs)("button",{className:`mobile-subheader-button ${p?"bg-blue-900/40 text-blue-400":""}`,"aria-label":"Pesquisar",onClick:()=>j(!p),children:[(0,t.jsx)(k.A,{size:16}),p&&(0,t.jsx)("span",{className:"absolute inset-0 bg-blue-500/10 animate-pulse rounded-full"})]}),(0,t.jsxs)("button",{className:"mobile-subheader-button relative","aria-label":"Notifica\xe7\xf5es",onClick:()=>alert("Notifica\xe7\xf5es em breve!"),children:[(0,t.jsx)(s0,{size:16}),g>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-[10px] text-white font-bold border border-indigo-900",children:g})]})]})]}),p&&(0,t.jsx)("div",{className:"p-2 bg-gray-900/70 border-t border-indigo-500/20 animate-fadeIn",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Pesquisar cartas...",className:"w-full px-3 py-2 bg-gray-800 border border-indigo-500/30 rounded-md text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",autoFocus:!0}),(0,t.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,t.jsx)(k.A,{size:14})})]})})]}),(0,t.jsx)("div",{className:`mobile-nav-overlay ${n?"active":""}`,onClick:()=>c(!1),style:{backdropFilter:"blur(3px)",zIndex:9998}}),(0,t.jsxs)("nav",{className:`mobile-nav-menu ${n?"open":""}`,style:{zIndex:9999},children:[(0,t.jsxs)("div",{className:"mobile-menu-header",children:[(0,t.jsxs)("div",{className:"mobile-menu-title",children:["Menu Principal",(0,t.jsx)("div",{className:"text-xs font-normal text-indigo-300 mt-1",children:"Vers\xe3o 1.2.0"})]}),(0,t.jsx)("button",{className:"mobile-menu-close interactive-header-element",onClick:()=>c(!1),"aria-label":"Fechar menu",children:(0,t.jsx)(ab.A,{size:18})})]}),e?(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsxs)("div",{className:"mobile-user-avatar",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.4)"},children:[e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:`Avatar de ${e.name}`,className:"w-full h-full object-cover rounded-full"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:e.name.charAt(0)}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900"})]}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsxs)("div",{className:"mobile-user-name flex items-center gap-1",children:[e.name,e.totalCards>100&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 bg-gradient-to-r from-amber-400 to-amber-600 rounded-full text-[8px] text-white",title:"Colecionador Experiente",children:"★"})]}),(0,t.jsxs)("div",{className:"mobile-user-stats flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(X.A,{size:10,className:"text-blue-400"}),e.totalCards||0," cartas"]}),(0,t.jsx)("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(B.A,{size:10,className:"text-purple-400"}),e.collectionsCount||0," cole\xe7\xf5es"]})]})]}),l&&(0,t.jsx)("button",{onClick:l,className:"mobile-subheader-button hover:bg-red-900/30 hover:text-red-400 transition-colors","aria-label":"Sair da conta",children:(0,t.jsx)(s2,{size:16})})]}):(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsx)("div",{className:"mobile-user-avatar relative",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:(0,t.jsx)(sH,{size:16,className:"text-gray-400"})})}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsx)("div",{className:"mobile-user-name",children:"Visitante"}),(0,t.jsx)("div",{className:"mobile-user-stats",children:"Fa\xe7a login para salvar sua cole\xe7\xe3o"})]}),(0,t.jsx)("button",{className:"mobile-subheader-button hover:bg-blue-900/30 hover:text-blue-400 transition-colors","aria-label":"Entrar na conta",onClick:i,children:(0,t.jsx)(sd,{size:16})})]}),(0,t.jsxs)("div",{className:"mobile-menu-content",children:[(0,t.jsx)("div",{className:"py-2 px-4",children:(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Navega\xe7\xe3o"})}),(0,t.jsx)("div",{className:"mobile-nav-links",children:u.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>h(e.id),className:`mobile-nav-link ${a===e.id?"active":""}`,children:[(0,t.jsx)("span",{className:`mobile-nav-link-icon ${a===e.id?"bg-blue-500/10":""}`,children:(0,t.jsx)(s,{size:18})}),e.label,(0,t.jsx)("span",{className:`ml-auto transition-transform duration-200 ${a===e.id?"rotate-90":""}`,children:(0,t.jsx)(sd,{size:16,className:a===e.id?"text-blue-400":"text-gray-500"})})]},e.id)})}),(0,t.jsxs)("div",{className:"py-2 px-4 mt-4",children:[(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("button",{className:"mobile-nav-link",children:[(0,t.jsx)("span",{className:"mobile-nav-link-icon",children:(0,t.jsx)(U,{size:18})}),"Prefer\xeancias"]})]})]}),(0,t.jsxs)("div",{className:"mobile-menu-footer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[(0,t.jsx)(an,{size:12,className:"text-red-500 animate-pulse"}),(0,t.jsx)("span",{children:"Made for MTG Collectors"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-900/30 rounded text-[10px] text-blue-400 font-medium",children:"v1.2.0"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:"\xa9 2025"})]})]})]}),m&&(0,t.jsxs)("button",{className:"fixed bottom-20 right-4 w-12 h-12 rounded-full bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center shadow-lg z-40 animate-slideUp border-2 border-indigo-900/30",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Voltar ao topo",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-indigo-500/20 animate-pulse"}),(0,t.jsx)(s5,{className:"text-white",size:18})]})]})};function s6(){let[e,a]=(0,r.useState)(null),[s,l]=(0,r.useState)("painel"),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)([]),{currentCollection:o,setCurrentCollection:m,adicionarCarta:x,removerCarta:u}=(0,g.U)(),h=e=>{a(e),localStorage.setItem("mtg-user",JSON.stringify(e))},p=()=>{a(null),localStorage.removeItem("mtg-user")},j=[{id:"painel",label:"Dashboard",icon:B.A,component:(0,t.jsx)(ah,{onNavigate:l})},{id:"colecao",label:"Cole\xe7\xe3o",icon:X.A,component:(0,t.jsx)(eJ,{allCards:c,setAllCards:d,exportCollectionToCSV:e=>{let a=new Blob([[["Name","Set","Quantity","Foil","Condition","Language"],...e.cards.map(e=>[e.card.name,e.card.set_code,e.quantity.toString(),"Non-foil","Near Mint","English"])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download=`${e.name}_manabox.csv`,t.click(),window.URL.revokeObjectURL(s)}})},{id:"decks",label:"Deck Builder",icon:aq,component:(0,t.jsx)(a$,{})},{id:"spoiler",label:"Spoilers",icon:w.A,component:(0,t.jsx)(sA,{isAdmin:e?.email==="admin@example.com"})},{id:"regras",label:"Regras",icon:sl,component:(0,t.jsx)(sm,{})},{id:"extras",label:"Recursos",icon:ao,component:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4 card-purple",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ao,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recursos Avan\xe7ados"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Ferramentas premium para aprimorar sua experi\xeancia MTG"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-blue",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(k.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquisa Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Filtros avan\xe7ados com sintaxe Scryfall"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Em Breve"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-purple",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(s0,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Monitoramento de Pre\xe7os"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Alertas sobre pre\xe7os e tend\xeancias"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-yellow-900/30 text-yellow-400",children:"Beta"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-green",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(al,{className:"w-4 h-4 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Analytics Profissional"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Insights sobre sua cole\xe7\xe3o"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-green-900/30 text-green-400",children:"Ativo"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 card-orange",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(sH,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Comunidade MTG"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Conecte-se com colecionadores"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Novo"})]})]})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense card-blue",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(as,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Ferramentas Premium"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(ax,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Importa\xe7\xe3o Massiva"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Importe via CSV/Excel"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(ae.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"API Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Integra\xe7\xe3o com sistemas externos"})]})]})]})})]})]})}];return(0,t.jsxs)("div",{className:"mtg-app quantum-compact",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)("header",{className:"compact-header sticky top-0 z-50 backdrop-blur-md shadow-lg",children:(0,t.jsx)("div",{className:"mtg-container py-2",children:(0,t.jsxs)("div",{className:"quantum-card-dense p-2 flex items-center justify-between bg-gradient-to-r from-gray-900/95 via-gray-800/90 to-gray-900/95 border border-cyan-900/30 rounded-lg card-glow",children:[(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 group",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-600 via-cyan-700 to-cyan-800 rounded-md flex items-center justify-center text-white font-bold shadow-md shadow-cyan-700/20 group-hover:shadow-cyan-500/30 transition-all",children:(0,t.jsx)("span",{className:"text-xs font-black tracking-wider",children:"MTG"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("h1",{className:"text-base font-bold text-white m-0 tracking-tight flex items-center",children:["MTG Helper",(0,t.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-cyan-600/20 border border-cyan-500/30 rounded-full text-[9px] font-medium text-cyan-300",children:"v2.5"})]}),(0,t.jsx)("p",{className:"text-[10px] text-cyan-300 m-0",children:"Premium Collection Manager"}),(0,t.jsx)("div",{className:"absolute h-0.5 w-0 bg-cyan-400 bottom-0 left-0 group-hover:w-full transition-all duration-300"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"hidden lg:flex items-center gap-1",children:(0,t.jsx)("a",{href:"#",className:"px-2 py-1 text-xs text-cyan-200 hover:text-white transition-colors rounded-md hover:bg-cyan-800/20",children:"Suporte"})}),(0,t.jsx)("div",{className:"h-5 w-px bg-cyan-800/30 hidden lg:block"}),(0,t.jsx)(s4,{user:e,onLogin:h,onLogout:p})]})]})})})}),(0,t.jsx)("div",{className:"block md:hidden",children:(0,t.jsx)(s8,{user:e,activeTab:s,onTabChange:l,onLogout:p,onLogin:()=>n(!0)})}),(0,t.jsx)(sY,{isOpen:i,setIsOpen:n,onLogin:h}),(0,t.jsxs)("div",{className:"mtg-container mt-4 relative",children:[(0,t.jsx)("div",{className:"ambient-glow-main pointer-events-none"}),(0,t.jsx)("nav",{className:"mb-3 responsive-nav",children:(0,t.jsxs)(a4,{value:s,onValueChange:l,className:"w-full navigation-tabs",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-2 md:p-3 bg-gradient-to-r from-gray-900/95 via-gray-800/90 to-gray-900/95 border border-cyan-900/30 rounded-lg card-glow relative",children:[(0,t.jsx)("div",{className:"nav-ambient-glow pointer-events-none"}),(0,t.jsx)(ss,{className:"mobile-tabs-grid flex flex-wrap justify-center gap-2 py-2 px-1 bg-transparent border-0 relative z-10 tab-list-container h-auto overflow-visible",children:j.map(e=>{let a=e.icon;return(0,t.jsxs)(st,{value:e.id,className:"quantum-tab group relative overflow-hidden z-20 border border-cyan-900/20 hover:border-cyan-600/30 transition-colors rounded-md",children:[(0,t.jsx)("span",{className:"tab-glow absolute inset-0 opacity-0 group-hover:opacity-30 group-data-[state=active]:opacity-60 transition-opacity pointer-events-none bg-cyan-600/20"}),(0,t.jsxs)("div",{className:"tab-content flex flex-col md:flex-row items-center justify-center relative z-10",children:[(0,t.jsx)("div",{className:"icon-container",children:(0,t.jsx)(a,{className:"w-4 h-4 md:mr-1.5 mb-0 tab-icon text-cyan-400"})}),(0,t.jsx)("span",{className:"text-xs font-medium tracking-wide tab-label text-gray-300",children:e.label})]})]},e.id)})}),(0,t.jsxs)("div",{className:"flex justify-center mt-2 mb-1 relative",children:[(0,t.jsx)("div",{className:"tab-indicator-container",children:(0,t.jsx)("div",{className:"tab-indicator-active",style:{background:"linear-gradient(135deg, rgba(8, 145, 178, 0.9), rgb(0 0 0 / 80%))"}})}),(0,t.jsx)("div",{className:"tab-indicator-glow"})]})]}),j.map(e=>(0,t.jsx)(sr,{value:e.id,className:"quantum-content-area p-0 mt-3 transition-all duration-300 ease-in-out",children:(0,t.jsx)("div",{className:"content-wrapper",children:e.component})},e.id))]})})]})]})}},1821:()=>{},1933:(e,a)=>{"use strict";function s(e){var a;let{config:s,src:t,width:r,quality:l}=e,i=l||(null==(a=s.qualities)?void 0:a.reduce((e,a)=>Math.abs(a-75)<Math.abs(e-75)?a:e))||75;return s.path+"?url="+encodeURIComponent(t)+"&w="+r+"&q="+i+(t.startsWith("/_next/static/media/"),"")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return t}}),s.__next_img_default=!0;let t=s},2373:()=>{},2526:(e,a,s)=>{Promise.resolve().then(s.bind(s,1573))},2756:(e,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{VALID_LOADERS:function(){return s},imageConfigDefault:function(){return t}});let s=["default","imgix","cloudinary","akamai","custom"],t={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3038:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return r}});let t=s(3210);function r(e,a){let s=(0,t.useRef)(null),r=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=s.current;e&&(s.current=null,e());let a=r.current;a&&(r.current=null,a())}else e&&(s.current=l(e,t)),a&&(r.current=l(a,t))},[e,a])}function l(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let s=e(a);return"function"==typeof s?s:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},3124:(e,a,s)=>{"use strict";s.d(a,{VG:()=>r});let t=e=>{try{if(!e.prints_search_uri||"pt"===e.lang||"pt-br"===e.lang)return e.image_uris||(e.card_faces?.[0]?.image_uris?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:e.card_faces[1]?.image_uris}:null);if(e.all_parts&&Array.isArray(e.all_parts)){let a=e.all_parts.find(e=>"pt"===e.lang||"pt-br"===e.lang);if(a&&a.image_uris)return a.image_uris}return e.image_uris||(e.card_faces?.[0]?.image_uris?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:e.card_faces[1]?.image_uris}:null)}catch(e){return console.error("Erro ao processar imagens da carta:",e),null}},r=(e,a="normal")=>{try{let s=t(e);if(!s)return"";if(s.isDoubleFaced)return s.front?.[a]||s.front?.normal||"";return s[a]||s.normal||""}catch(e){return console.error("Erro ao obter URL da imagem:",e),""}}},3218:()=>{},3262:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3332:(e,a,s)=>{"use strict";var t=s(3210),r="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},l=t.useState,i=t.useEffect,n=t.useLayoutEffect,c=t.useDebugValue;function d(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!r(e,s)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,a){return a()}:function(e,a){var s=a(),t=l({inst:{value:s,getSnapshot:a}}),r=t[0].inst,o=t[1];return n(function(){r.value=s,r.getSnapshot=a,d(r)&&o({inst:r})},[e,s,a]),i(function(){return d(r)&&o({inst:r}),e(function(){d(r)&&o({inst:r})})},[e]),c(s),s};a.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:o},3613:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3744:()=>{},3847:()=>{},3873:e=>{"use strict";e.exports=require("path")},4211:()=>{},4329:()=>{},4398:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},4576:()=>{},4604:(e,a)=>{"use strict";function s(e){let{ampFirst:a=!1,hybrid:s=!1,hasQuery:t=!1}=void 0===e?{}:e;return a||s&&t}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"isInAmpMode",{enumerable:!0,get:function(){return s}})},4851:()=>{},4953:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getImgProps",{enumerable:!0,get:function(){return n}}),s(148);let t=s(1480),r=s(2756);function l(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function n(e,a){var s,n;let c,d,o,{src:m,sizes:x,unoptimized:u=!1,priority:h=!1,loading:g,className:p,quality:j,width:b,height:v,fill:f=!1,style:N,overrideSrc:y,onLoad:w,onLoadingComplete:C,placeholder:k="empty",blurDataURL:S,fetchPriority:A,decoding:q="async",layout:$,objectFit:_,objectPosition:E,lazyBoundary:M,lazyRoot:P,...z}=e,{imgConf:T,showAltText:D,blurComplete:I,defaultLoader:R}=a,L=T||r.imageConfigDefault;if("allSizes"in L)c=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,a)=>e-a),a=L.deviceSizes.sort((e,a)=>e-a),t=null==(s=L.qualities)?void 0:s.sort((e,a)=>e-a);c={...L,allSizes:e,deviceSizes:a,qualities:t}}if(void 0===R)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let O=z.loader||R;delete z.loader,delete z.srcSet;let F="__next_img_default"in O;if(F){if("custom"===c.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=O;O=a=>{let{config:s,...t}=a;return e(t)}}if($){"fill"===$&&(f=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[$];e&&(N={...N,...e});let a={responsive:"100vw",fill:"100vw"}[$];a&&!x&&(x=a)}let V="",G=i(b),B=i(v);if((n=m)&&"object"==typeof n&&(l(n)||void 0!==n.src)){let e=l(m)?m.default:m;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(d=e.blurWidth,o=e.blurHeight,S=S||e.blurDataURL,V=e.src,!f){if(G||B){if(G&&!B){let a=G/e.width;B=Math.round(e.height*a)}else if(!G&&B){let a=B/e.height;G=Math.round(e.width*a)}}else G=e.width,B=e.height}}let U=!h&&("lazy"===g||void 0===g);(!(m="string"==typeof m?m:V)||m.startsWith("data:")||m.startsWith("blob:"))&&(u=!0,U=!1),c.unoptimized&&(u=!0),F&&!c.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(u=!0);let H=i(j),W=Object.assign(f?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:_,objectPosition:E}:{},D?{}:{color:"transparent"},N),Z=I||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,t.getImageBlurSvg)({widthInt:G,heightInt:B,blurWidth:d,blurHeight:o,blurDataURL:S||"",objectFit:W.objectFit})+'")':'url("'+k+'")',J=Z?{backgroundSize:W.objectFit||"cover",backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Z}:{},K=function(e){let{config:a,src:s,unoptimized:t,width:r,quality:l,sizes:i,loader:n}=e;if(t)return{src:s,srcSet:void 0,sizes:void 0};let{widths:c,kind:d}=function(e,a,s){let{deviceSizes:t,allSizes:r}=e;if(s){let e=/(^|\s)(1?\d?\d)vw/g,a=[];for(let t;t=e.exec(s);t)a.push(parseInt(t[2]));if(a.length){let e=.01*Math.min(...a);return{widths:r.filter(a=>a>=t[0]*e),kind:"w"}}return{widths:r,kind:"w"}}return"number"!=typeof a?{widths:t,kind:"w"}:{widths:[...new Set([a,2*a].map(e=>r.find(a=>a>=e)||r[r.length-1]))],kind:"x"}}(a,r,i),o=c.length-1;return{sizes:i||"w"!==d?i:"100vw",srcSet:c.map((e,t)=>n({config:a,src:s,quality:l,width:e})+" "+("w"===d?e:t+1)+d).join(", "),src:n({config:a,src:s,quality:l,width:c[o]})}}({config:c,src:m,unoptimized:u,width:G,quality:H,sizes:x,loader:O});return{props:{...z,loading:U?"lazy":g,fetchPriority:A,width:G,height:B,decoding:q,className:p,style:{...W,...J},sizes:K.sizes,srcSet:K.srcSet,src:y||K.src},meta:{unoptimized:u,priority:h,placeholder:k,fill:f}}}},4959:(e,a,s)=>{"use strict";e.exports=s(4041).vendored.contexts.AmpContext},4979:()=>{},5336:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5366:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},5748:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},6533:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Image",{enumerable:!0,get:function(){return f}});let t=s(4985),r=s(740),l=s(687),i=r._(s(3210)),n=t._(s(1215)),c=t._(s(512)),d=s(4953),o=s(2756),m=s(7903);s(148);let x=s(9148),u=t._(s(1933)),h=s(3038),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function p(e,a,s,t,r,l,i){let n=null==e?void 0:e.src;e&&e["data-loaded-src"]!==n&&(e["data-loaded-src"]=n,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==a&&r(!0),null==s?void 0:s.current){let a=new Event("load");Object.defineProperty(a,"target",{writable:!1,value:e});let t=!1,r=!1;s.current({...a,nativeEvent:a,currentTarget:e,target:e,isDefaultPrevented:()=>t,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{t=!0,a.preventDefault()},stopPropagation:()=>{r=!0,a.stopPropagation()}})}(null==t?void 0:t.current)&&t.current(e)}}))}function j(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let b=(0,i.forwardRef)((e,a)=>{let{src:s,srcSet:t,sizes:r,height:n,width:c,decoding:d,className:o,style:m,fetchPriority:x,placeholder:u,loading:g,unoptimized:b,fill:v,onLoadRef:f,onLoadingCompleteRef:N,setBlurComplete:y,setShowAltText:w,sizesInput:C,onLoad:k,onError:S,...A}=e,q=(0,i.useCallback)(e=>{e&&(S&&(e.src=e.src),e.complete&&p(e,u,f,N,y,b,C))},[s,u,f,N,y,S,b,C]),$=(0,h.useMergedRef)(a,q);return(0,l.jsx)("img",{...A,...j(x),loading:g,width:c,height:n,decoding:d,"data-nimg":v?"fill":"1",className:o,style:m,sizes:r,srcSet:t,src:s,ref:$,onLoad:e=>{p(e.currentTarget,u,f,N,y,b,C)},onError:e=>{w(!0),"empty"!==u&&y(!0),S&&S(e)}})});function v(e){let{isAppRouter:a,imgAttributes:s}=e,t={as:"image",imageSrcSet:s.srcSet,imageSizes:s.sizes,crossOrigin:s.crossOrigin,referrerPolicy:s.referrerPolicy,...j(s.fetchPriority)};return a&&n.default.preload?(n.default.preload(s.src,t),null):(0,l.jsx)(c.default,{children:(0,l.jsx)("link",{rel:"preload",href:s.srcSet?void 0:s.src,...t},"__nimg-"+s.src+s.srcSet+s.sizes)})}let f=(0,i.forwardRef)((e,a)=>{let s=(0,i.useContext)(x.RouterContext),t=(0,i.useContext)(m.ImageConfigContext),r=(0,i.useMemo)(()=>{var e;let a=g||t||o.imageConfigDefault,s=[...a.deviceSizes,...a.imageSizes].sort((e,a)=>e-a),r=a.deviceSizes.sort((e,a)=>e-a),l=null==(e=a.qualities)?void 0:e.sort((e,a)=>e-a);return{...a,allSizes:s,deviceSizes:r,qualities:l}},[t]),{onLoad:n,onLoadingComplete:c}=e,h=(0,i.useRef)(n);(0,i.useEffect)(()=>{h.current=n},[n]);let p=(0,i.useRef)(c);(0,i.useEffect)(()=>{p.current=c},[c]);let[j,f]=(0,i.useState)(!1),[N,y]=(0,i.useState)(!1),{props:w,meta:C}=(0,d.getImgProps)(e,{defaultLoader:u.default,imgConf:r,blurComplete:j,showAltText:N});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{...w,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:h,onLoadingCompleteRef:p,setBlurComplete:f,setShowAltText:y,sizesInput:e.sizes,ref:a}),C.priority?(0,l.jsx)(v,{isAppRouter:!s,imgAttributes:w}):null]})});("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},6867:()=>{},6943:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},7235:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},7254:(e,a,s)=>{Promise.resolve().then(s.bind(s,597))},7379:(e,a,s)=>{"use strict";e.exports=s(3332)},7581:()=>{},7755:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let t=s(3210),r=()=>{},l=()=>{};function i(e){var a;let{headManager:s,reduceComponentsToState:i}=e;function n(){if(s&&s.mountedInstances){let a=t.Children.toArray(Array.from(s.mountedInstances).filter(Boolean));s.updateHead(i(a,e))}}return null==s||null==(a=s.mountedInstances)||a.add(e.children),n(),r(()=>{var a;return null==s||null==(a=s.mountedInstances)||a.add(e.children),()=>{var a;null==s||null==(a=s.mountedInstances)||a.delete(e.children)}}),r(()=>(s&&(s._pendingUpdate=n),()=>{s&&(s._pendingUpdate=n)})),l(()=>(s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null),()=>{s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null)})),null}},7792:()=>{},7903:(e,a,s)=>{"use strict";e.exports=s(4041).vendored.contexts.ImageConfigContext},8122:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8236:()=>{},8492:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8688:()=>{},8812:()=>{},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9148:(e,a,s)=>{"use strict";e.exports=s(4041).vendored.contexts.RouterContext},9270:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(2688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9505:()=>{},9513:(e,a,s)=>{"use strict";e.exports=s(4041).vendored.contexts.HeadManagerContext},9556:()=>{},9578:()=>{}};var a=require("../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[447,773,458],()=>s(871));module.exports=t})();
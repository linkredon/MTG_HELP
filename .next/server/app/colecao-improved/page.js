(()=>{var e={};e.id=846,e.ids=[846],e.modules={499:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=s(5239),t=s(8088),l=s(8170),i=s.n(l),c=s(893),n={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);s.d(a,n);let d={children:["",{children:["colecao-improved",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9053)),"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\colecao-improved\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\colecao-improved\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/colecao-improved/page",pathname:"/colecao-improved",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1531:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},1847:(e,a,s)=>{Promise.resolve().then(s.bind(s,9053))},2636:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>z});var r=s(687),t=s(3210),l=s.n(t),i=s(7493),c=s(2673),n=s(4934),d=s(8988),o=s(5192),m=s(9821),x=s(5748),h=s(6474),u=s(3589),g=s(8272),p=s(6943),b=s(5366);function j({initialValue:e=1,onChange:a,min:s=1,max:l=99,showPresets:i=!0,className:c=""}){let[o,m]=(0,t.useState)(e),[j,y]=(0,t.useState)(!1),[v,N]=(0,t.useState)("grid"),[f,w]=(0,t.useState)(!1),k=e=>{m(e),a(e)};return(0,r.jsxs)("div",{className:`quantity-control-modern flex flex-col gap-2 ${c}`,children:[(0,r.jsxs)("div",{className:"quantity-control-wrapper flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center h-9 rounded-md border border-gray-600 overflow-hidden shadow-inner shadow-blue-900/10",children:[(0,r.jsx)("button",{onClick:()=>{let e=Math.max(o-1,s);m(e),a(e)},disabled:o<=s,className:"w-8 h-full flex items-center justify-center bg-gray-800 hover:bg-gray-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Diminuir quantidade",children:(0,r.jsx)(x.A,{className:"w-3.5 h-3.5"})}),(0,r.jsx)(d.p,{type:"number",value:o,onChange:e=>{let r=parseInt(e.target.value,10);if(isNaN(r)){m(s),a(s);return}let t=Math.max(s,Math.min(r,l));m(t),a(t)},min:s,max:l,className:"quantity-input w-12 h-full text-center bg-gray-700/70 border-none text-white [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none","aria-label":"Quantidade"}),(0,r.jsx)("button",{onClick:()=>{let e=Math.min(o+1,l);m(e),a(e)},disabled:o>=l,className:"w-8 h-full flex items-center justify-center bg-gray-800 hover:bg-gray-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Aumentar quantidade",children:(0,r.jsx)(h.A,{className:"w-3.5 h-3.5"})})]}),(0,r.jsx)(n.$,{onClick:()=>{w(!0),a(o),setTimeout(()=>{w(!1)},600)},className:`${f?"btn-add-success bg-green-600":"bg-blue-600 hover:bg-blue-700"} text-white flex-grow h-9 transition-all`,disabled:f,children:f?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{children:"Adicionado!"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{children:"Adicionar"}),o>1&&(0,r.jsxs)("span",{className:"ml-1",children:[o,"x"]})]})}),(0,r.jsx)(n.$,{onClick:()=>{y(!j)},variant:"outline",className:`versions-toggle h-9 w-9 p-0 border-gray-600 ${j?"bg-blue-900/20 border-blue-500/50":""}`,"aria-label":"Mostrar vers\xf5es",children:j?(0,r.jsx)(u.A,{className:"w-4 h-4 text-blue-400"}):(0,r.jsx)(g.A,{className:"w-4 h-4"})})]}),i&&(0,r.jsx)("div",{className:"flex gap-1 mt-0.5",children:[1,4].map(e=>(0,r.jsxs)(n.$,{onClick:()=>k(e),variant:"outline",size:"sm",className:`quantity-preset min-w-[36px] h-7 px-2 py-0 text-xs ${o===e?"active bg-blue-900/30 border-blue-700/50 text-blue-200":"bg-transparent border-gray-700 text-gray-300"} transition-all`,children:[e,"x"]},e))}),j&&(0,r.jsxs)("div",{className:"versions-panel mt-2 rounded-md border border-gray-700 bg-gray-800/70 animate-in slide-in-from-top-2 duration-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-700",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-200",children:"Outras vers\xf5es"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 rounded-md bg-gray-900/50 p-0.5",children:[(0,r.jsx)(n.$,{onClick:()=>N("grid"),size:"sm",variant:"ghost",className:`h-7 px-2 py-0 ${"grid"===v?"bg-blue-600/30 text-blue-200":"text-gray-400"}`,children:(0,r.jsx)(p.A,{className:"w-3 h-3"})}),(0,r.jsx)(n.$,{onClick:()=>N("list"),size:"sm",variant:"ghost",className:`h-7 px-2 py-0 ${"list"===v?"bg-blue-600/30 text-blue-200":"text-gray-400"}`,children:(0,r.jsx)(b.A,{className:"w-3 h-3"})})]})]}),(0,r.jsxs)("div",{className:"p-3",children:["grid"===v&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("div",{className:"card-version-grid rounded-md border border-gray-700/50 overflow-hidden bg-gray-800/50 hover:border-blue-500/50 hover:bg-gray-700/70 transition-all",children:[(0,r.jsx)("div",{className:"aspect-[63/88] bg-gray-900/70 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-900/20 to-purple-900/20 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-xs text-blue-400",children:["SET-",e]})})}),(0,r.jsxs)("div",{className:"p-2 text-center",children:[(0,r.jsxs)("div",{className:"text-xs font-medium truncate",children:["Vers\xe3o ",e]}),(0,r.jsxs)("div",{className:"text-[10px] text-gray-400 truncate",children:["Conjunto ",e]}),(0,r.jsx)(n.$,{size:"sm",className:"w-full h-6 mt-1 bg-blue-600 hover:bg-blue-700 text-xs py-0",children:"Adicionar"})]})]},e))}),"list"===v&&(0,r.jsx)("div",{className:"space-y-1",children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("div",{className:"card-version-list flex items-center gap-2 p-2 rounded-md border border-gray-700/50 bg-gray-800/50 hover:border-blue-500/50 hover:bg-gray-700/70 transition-all",children:[(0,r.jsx)("div",{className:"w-10 h-14 bg-gradient-to-br from-blue-900/20 to-purple-900/20 rounded flex items-center justify-center flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-[10px] text-blue-400",children:["SET-",e]})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"text-xs font-medium",children:["Vers\xe3o ",e]}),(0,r.jsxs)("div",{className:"text-[10px] text-gray-400",children:["Conjunto ",e," • #",e," • Raridade"]})]}),(0,r.jsxs)(n.$,{size:"sm",className:"h-7 bg-blue-600 hover:bg-blue-700 text-xs py-0",children:[(0,r.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]},e))})]})]})]})}var y=s(3124),v=s(5959),N=s(4014),f=s(3861),w=s(6882),k=s(1531),A=s(9080),C=s(4398),_=s(5336),$=s(3613),M=s(9270),P=s(7235),q=s(8492),E=s(8122),S=s(1860);function z(){let{currentCollection:e,adicionarCarta:a,removerCarta:s,getQuantidadeNaColecao:h}=(0,i.U)(),{openModal:u}=(0,c.h)(),[z,R]=(0,t.useState)("search"),[G,T]=(0,t.useState)(""),[F,L]=(0,t.useState)([]),[B,I]=(0,t.useState)(!1),[V,W]=(0,t.useState)(null),[U,Z]=(0,t.useState)(null),[D,H]=(0,t.useState)(1),[O,K]=(0,t.useState)("grid"),[Q,X]=(0,t.useState)(!1),[J,Y]=(0,t.useState)(!0),[ee,ea]=(0,t.useState)("all"),[es,er]=(0,t.useState)("all"),[et,el]=(0,t.useState)("all"),[ei,ec]=(0,t.useState)(""),[en,ed]=(0,t.useState)(""),[eo,em]=(0,t.useState)("name"),[ex,eh]=(0,t.useState)("asc"),[eu,eg]=(0,t.useState)("all"),[ep,eb]=(0,t.useState)("all"),[ej,ey]=(0,t.useState)({visible:!1,type:"success",message:""}),ev=(0,t.useCallback)((e,a)=>{ey({visible:!0,type:e,message:a}),setTimeout(()=>{ey(e=>({...e,visible:!1}))},3e3)},[]),eN=(0,t.useCallback)(async()=>{if(G.trim()||"all"!==ee||"all"!==es||"all"!==et||ei){I(!0),W(null);try{let e=[];if(G.trim()&&e.push(G.trim()),"all"!==ee&&e.push(`rarity:${ee}`),"all"!==et&&e.push(`type:${et}`),ei){let a=parseInt(ei);isNaN(a)||e.push(`cmc=${a}`)}"all"!==es&&("colorless"===es?e.push("is:colorless"):e.push(`color:${es}`));let a=e.join(" "),s=await (0,v.z)(a);if(!s.ok){if(404===s.status)L([]),W("Nenhuma carta encontrada com os filtros especificados");else throw Error(`Erro na API: ${s.status}`);return}let r=await s.json();L(r.data||[]),r.data&&0===r.data.length&&W("Nenhuma carta encontrada com os filtros especificados")}catch(e){console.error("Erro ao pesquisar cartas:",e),W("Erro ao pesquisar cartas. Tente novamente."),L([])}finally{I(!1)}}},[G,ee,es,et,ei]);(0,t.useCallback)((e,s=1)=>{try{for(let r=0;r<s;r++)a(e);ev("success",`${s}x ${e.name} adicionada \xe0 cole\xe7\xe3o!`)}catch(e){console.error("Erro ao adicionar carta:",e),ev("error","Erro ao adicionar carta \xe0 cole\xe7\xe3o")}},[a,ev]);let ef=e=>{Z(e),H(1)},ew=e=>{u(e)},ek=l().useMemo(()=>{if(!e||!e.cards)return[];let a=e.cards;if(en.trim()){let e=en.trim();a=a.filter(a=>(0,N.S)(a.card,e))}return"all"!==eu&&(a=a.filter(e=>e.card.rarity===eu)),"all"!==ep&&(a="colorless"===ep?a.filter(e=>!e.card.color_identity||0===e.card.color_identity.length):a.filter(e=>e.card.color_identity&&e.card.color_identity.includes(ep))),a.sort((e,a)=>{let s=0;switch(eo){case"name":s=e.card.name.localeCompare(a.card.name);break;case"rarity":let r={common:1,uncommon:2,rare:3,mythic:4};s=(r[e.card.rarity]||0)-(r[a.card.rarity]||0);break;case"cmc":s=(e.card.cmc||0)-(a.card.cmc||0);break;case"quantity":s=e.quantity-a.quantity}return"asc"===ex?s:-s}),a},[e,en,eu,ep,eo,ex]),eA=e=>{eo===e?eh(e=>"asc"===e?"desc":"asc"):(em(e),eh("asc"))},eC=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-300 bg-gray-700/50";case"uncommon":return"text-green-300 bg-green-900/20";case"rare":return"text-yellow-300 bg-yellow-900/20";case"mythic":return"text-orange-300 bg-orange-900/20"}},e_=e=>(0,y.VG)(e,"normal"),e$=({card:e})=>{let a=h(e.id),s=U&&U.id===e.id,t=e_(e);return(0,r.jsxs)("div",{className:`card-list-item cursor-pointer ${s?"card-item-selected":""}`,onClick:()=>ef(e),children:[a>0&&J&&(0,r.jsxs)(m.E,{className:"absolute top-2 right-2 z-10 bg-blue-600/90 backdrop-blur-sm border border-blue-500/30",children:[a,"x"]}),(0,r.jsx)("div",{className:"card-image-container",children:t?(0,r.jsx)("img",{src:t,alt:e.name,className:"card-image",crossOrigin:"anonymous"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:(0,r.jsx)("span",{className:"text-sm text-gray-500",children:e.set_name})})}),(0,r.jsxs)("div",{className:"card-info",children:[(0,r.jsx)("div",{className:"card-name text-white",children:e.name}),(0,r.jsxs)("div",{className:"card-meta",children:[(0,r.jsx)("span",{children:e.set_name}),(0,r.jsx)("span",{className:`card-badge ${eC(e.rarity)}`,children:e.rarity.charAt(0).toUpperCase()})]})]})]})},eM=({card:e,quantity:a})=>{let t=e_(e);return(0,r.jsxs)("div",{className:"card-list-item",children:[(0,r.jsxs)(m.E,{className:"absolute top-2 right-2 z-10 bg-blue-600/90 backdrop-blur-sm border border-blue-500/30",children:[a,"x"]}),(0,r.jsx)("div",{className:"card-image-container",children:t?(0,r.jsx)("img",{src:t,alt:e.name,className:"card-image",crossOrigin:"anonymous"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:(0,r.jsx)("span",{className:"text-sm text-gray-500",children:e.set_name})})}),(0,r.jsxs)("div",{className:"card-info",children:[(0,r.jsx)("div",{className:"card-name text-white",children:e.name}),(0,r.jsxs)("div",{className:"card-meta",children:[(0,r.jsx)("span",{children:e.set_code.toUpperCase()}),(0,r.jsx)("span",{className:`card-badge ${eC(e.rarity)}`,children:e.rarity.charAt(0).toUpperCase()})]})]}),(0,r.jsxs)("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 bg-black/70 flex items-center justify-center gap-2 transition-opacity duration-200",children:[(0,r.jsxs)(n.$,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:a=>{a.stopPropagation(),ew(e)},children:[(0,r.jsx)(f.A,{className:"w-4 h-4 mr-1"})," Ver"]}),(0,r.jsxs)(n.$,{size:"sm",variant:"destructive",onClick:a=>{a.stopPropagation(),s(e),ev("success",`1x ${e.name} removida da cole\xe7\xe3o`)},children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1"})," Remover"]})]})]})};return(0,r.jsxs)("div",{className:"collection-container p-4 space-y-6 animate-in fade-in duration-300",children:[ej.visible&&(0,r.jsxs)("div",{className:`notification ${"success"===ej.type?"notification-success":"notification-error"}`,children:["success"===ej.type?(0,r.jsx)(_.A,{className:"w-5 h-5 text-white"}):(0,r.jsx)($.A,{className:"w-5 h-5 text-white"}),(0,r.jsx)("span",{className:"text-white",children:ej.message})]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Minha Cole\xe7\xe3o"}),(0,r.jsxs)("div",{className:"collection-tabs",children:[(0,r.jsxs)("button",{onClick:()=>R("search"),className:`tab-button ${"search"===z?"active":""}`,children:[(0,r.jsx)(M.A,{className:"w-4 h-4"}),"Pesquisar"]}),(0,r.jsxs)("button",{onClick:()=>R("collection"),className:`tab-button ${"collection"===z?"active":""}`,children:[(0,r.jsx)(k.A,{className:"w-4 h-4"}),"Cole\xe7\xe3o (",e?.cards?.length||0,")"]}),(0,r.jsxs)("button",{onClick:()=>R("stats"),className:`tab-button ${"stats"===z?"active":""}`,children:[(0,r.jsx)(P.A,{className:"w-4 h-4"}),"Estat\xedsticas"]})]}),"search"===z&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,r.jsxs)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,r.jsx)(o.aR,{className:"pb-2",children:(0,r.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(M.A,{className:"w-5 h-5"}),"Pesquisar Cartas"]})}),(0,r.jsxs)(o.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"search-bar",children:[(0,r.jsx)(d.p,{type:"text",placeholder:"Nome da carta...",value:G,onChange:e=>T(e.target.value),className:"search-input"}),(0,r.jsx)(M.A,{className:"search-icon w-4 h-4"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"highlightCollection",checked:J,onChange:()=>Y(!J),className:"rounded border-gray-600 bg-gray-900"}),(0,r.jsx)("label",{htmlFor:"highlightCollection",className:"text-sm text-gray-300",children:"Destacar cartas na cole\xe7\xe3o"})]}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>X(!Q),className:"border-gray-600 hover:bg-gray-700",children:[(0,r.jsx)(q.A,{className:"w-4 h-4 mr-1"}),"Filtros",(0,r.jsx)(g.A,{className:`w-3 h-3 ml-1 transform transition-transform ${Q?"rotate-180":""}`})]})]}),(0,r.jsx)("div",{className:`filter-container ${Q?"block":"hidden"}`,children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Raridade"}),(0,r.jsxs)("select",{value:ee,onChange:e=>ea(e.target.value),className:"w-full rounded-md bg-gray-900/50 border-gray-600 text-white p-2 text-sm",children:[(0,r.jsx)("option",{value:"all",children:"Todas"}),(0,r.jsx)("option",{value:"common",children:"Comum"}),(0,r.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,r.jsx)("option",{value:"rare",children:"Rara"}),(0,r.jsx)("option",{value:"mythic",children:"M\xedtica"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cor"}),(0,r.jsxs)("select",{value:es,onChange:e=>er(e.target.value),className:"w-full rounded-md bg-gray-900/50 border-gray-600 text-white p-2 text-sm",children:[(0,r.jsx)("option",{value:"all",children:"Todas"}),(0,r.jsx)("option",{value:"W",children:"Branco (W)"}),(0,r.jsx)("option",{value:"U",children:"Azul (U)"}),(0,r.jsx)("option",{value:"B",children:"Preto (B)"}),(0,r.jsx)("option",{value:"R",children:"Vermelho (R)"}),(0,r.jsx)("option",{value:"G",children:"Verde (G)"}),(0,r.jsx)("option",{value:"colorless",children:"Incolor"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo"}),(0,r.jsxs)("select",{value:et,onChange:e=>el(e.target.value),className:"w-full rounded-md bg-gray-900/50 border-gray-600 text-white p-2 text-sm",children:[(0,r.jsx)("option",{value:"all",children:"Todos"}),(0,r.jsx)("option",{value:"creature",children:"Criatura"}),(0,r.jsx)("option",{value:"instant",children:"M\xe1gica Instant\xe2nea"}),(0,r.jsx)("option",{value:"sorcery",children:"Feiti\xe7o"}),(0,r.jsx)("option",{value:"enchantment",children:"Encantamento"}),(0,r.jsx)("option",{value:"artifact",children:"Artefato"}),(0,r.jsx)("option",{value:"planeswalker",children:"Planeswalker"}),(0,r.jsx)("option",{value:"land",children:"Terreno"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Custo de Mana"}),(0,r.jsx)(d.p,{type:"number",placeholder:"Ex: 3",value:ei,onChange:e=>ec(e.target.value),min:"0",className:"bg-gray-900/50 border-gray-600 text-white"})]}),(0,r.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,r.jsx)(n.$,{onClick:eN,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:B,children:B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Pesquisando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Pesquisar"]})}),(0,r.jsx)(n.$,{onClick:()=>{T(""),ea("all"),er("all"),el("all"),ec(""),L([]),W(null),Z(null)},variant:"outline",className:"border-gray-600 hover:bg-gray-700",children:(0,r.jsx)(S.A,{className:"w-4 h-4"})})]})]})})]})]}),U&&(0,r.jsx)(()=>{if(!U)return null;let e=e_(U),a=h(U.id);return(0,r.jsx)(o.Zp,{className:"card-details border-gray-700/50 bg-gray-800/70 backdrop-blur-sm",children:(0,r.jsx)(o.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/3 lg:w-1/4",children:[(0,r.jsx)("div",{className:"aspect-[63/88] rounded-lg overflow-hidden border border-gray-600",children:e?(0,r.jsx)("img",{src:e,alt:U.name,className:"w-full h-full object-contain",crossOrigin:"anonymous"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:(0,r.jsx)("span",{className:"text-gray-500",children:"Sem imagem"})})}),(0,r.jsx)("div",{className:"mt-4 flex flex-col gap-2",children:(0,r.jsxs)(n.$,{variant:"outline",className:"w-full border-gray-600 hover:bg-gray-700",onClick:()=>ew(U),children:[(0,r.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Ver detalhes completos"]})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:U.name}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,r.jsxs)(m.E,{variant:"outline",className:"border-gray-600 text-gray-300",children:[U.set_name," (",U.set_code.toUpperCase(),")"]}),(0,r.jsx)(m.E,{variant:"outline",className:"border-gray-600 text-gray-300",children:U.type_line}),(0,r.jsx)(m.E,{className:eC(U.rarity),children:U.rarity.charAt(0).toUpperCase()+U.rarity.slice(1)})]}),a>0&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(m.E,{className:"bg-blue-600 text-white",children:[a,"x na cole\xe7\xe3o"]})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Adicionar \xe0 cole\xe7\xe3o"}),(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,r.jsx)(j,{initialValue:D,onChange:e=>H(e),showPresets:!0})})]}),U.oracle_text&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-gray-900/70 rounded-lg border border-gray-700",children:(0,r.jsx)("p",{className:"text-gray-300 whitespace-pre-wrap",children:U.oracle_text})})]})]})})})},{})]}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)("div",{children:F.length>0&&(0,r.jsxs)("span",{className:"text-gray-300",children:[F.length," resultado",1!==F.length&&"s"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>K("grid"),className:`border-gray-600 ${"grid"===O?"bg-gray-700":"bg-transparent"}`,children:(0,r.jsx)(p.A,{className:"w-4 h-4"})}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>K("list"),className:`border-gray-600 ${"list"===O?"bg-gray-700":"bg-transparent"}`,children:(0,r.jsx)(b.A,{className:"w-4 h-4"})})]})]}),V?(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)($.A,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),(0,r.jsx)("p",{className:"text-red-400 mb-4",children:V}),(0,r.jsxs)(n.$,{onClick:eN,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,r.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):B?(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)(E.A,{className:"w-12 h-12 mx-auto mb-4 text-blue-500 animate-spin"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Pesquisando cartas..."})]}):0===F.length?(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)(M.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Pesquise por cartas"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"Digite o nome da carta ou use os filtros para encontrar cartas espec\xedficas"}),(0,r.jsx)("div",{className:"flex justify-center gap-4",children:(0,r.jsx)(n.$,{onClick:()=>T("Lightning Bolt"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Exemplo: Lightning Bolt"})})]}):(0,r.jsx)("div",{className:"card-list",children:F.map(e=>(0,r.jsx)(e$,{card:e},e.id))})]})]}),"collection"===z&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:(0,r.jsx)(o.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"search-bar",children:[(0,r.jsx)(d.p,{type:"text",placeholder:"Buscar na cole\xe7\xe3o...",value:en,onChange:e=>ed(e.target.value),className:"search-input"}),(0,r.jsx)(M.A,{className:"search-icon w-4 h-4"})]}),(0,r.jsxs)("select",{value:eu,onChange:e=>eg(e.target.value),className:"rounded-md bg-gray-900/50 border-gray-600 text-white p-2",children:[(0,r.jsx)("option",{value:"all",children:"Todas raridades"}),(0,r.jsx)("option",{value:"common",children:"Comum"}),(0,r.jsx)("option",{value:"uncommon",children:"Incomum"}),(0,r.jsx)("option",{value:"rare",children:"Rara"}),(0,r.jsx)("option",{value:"mythic",children:"M\xedtica"})]}),(0,r.jsxs)("select",{value:ep,onChange:e=>eb(e.target.value),className:"rounded-md bg-gray-900/50 border-gray-600 text-white p-2",children:[(0,r.jsx)("option",{value:"all",children:"Todas cores"}),(0,r.jsx)("option",{value:"W",children:"Branco (W)"}),(0,r.jsx)("option",{value:"U",children:"Azul (U)"}),(0,r.jsx)("option",{value:"B",children:"Preto (B)"}),(0,r.jsx)("option",{value:"R",children:"Vermelho (R)"}),(0,r.jsx)("option",{value:"G",children:"Verde (G)"}),(0,r.jsx)("option",{value:"colorless",children:"Incolor"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{variant:"outline",className:`flex-1 border-gray-600 ${"name"===eo?"bg-gray-700":""}`,onClick:()=>eA("name"),children:["Nome ","name"===eo&&("asc"===ex?"↑":"↓")]}),(0,r.jsx)(n.$,{variant:"outline",className:`flex-1 border-gray-600 ${"rarity"===eo?"bg-gray-700":""}`,onClick:()=>eA("rarity"),children:"Raridade"})]})]})})}),0===ek.length?(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Cole\xe7\xe3o vazia"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"Voc\xea ainda n\xe3o adicionou nenhuma carta \xe0 sua cole\xe7\xe3o."}),(0,r.jsxs)(n.$,{onClick:()=>R("search"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,r.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Pesquisar Cartas"]})]}):(0,r.jsx)("div",{className:"card-list",children:ek.map(e=>(0,r.jsx)(eM,{card:e.card,quantity:e.quantity},e.card.id))})]}),"stats"===z&&(e?(0,r.jsx)(()=>{if(!e||!e.cards)return(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Cole\xe7\xe3o n\xe3o dispon\xedvel"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"N\xe3o foi poss\xedvel carregar os dados da cole\xe7\xe3o."})]});let a=e.cards.reduce((e,a)=>e+a.quantity,0),s=e.cards.length,t=new Set(e.cards.map(e=>e.card.set_code)).size,l=e.cards.reduce((e,a)=>{let s=a.card.rarity;return e[s]||(e[s]=0),e[s]+=a.quantity,e},{}),i=Object.entries(e.cards.reduce((e,a)=>((a.card.color_identity||[]).forEach(s=>{e[s]||(e[s]=0),e[s]+=a.quantity}),a.card.color_identity&&0!==a.card.color_identity.length||(e.C||(e.C=0),e.C+=a.quantity),e),{})).sort(([,e],[,a])=>a-e).slice(0,5);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:(0,r.jsxs)(o.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(A.A,{className:"w-12 h-12 mx-auto mb-2 text-blue-400"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:a}),(0,r.jsx)("p",{className:"text-gray-400",children:"Total de cartas"})]})}),(0,r.jsx)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:(0,r.jsxs)(o.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-2 text-green-400"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:s}),(0,r.jsx)("p",{className:"text-gray-400",children:"Cartas \xfanicas"})]})}),(0,r.jsx)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:(0,r.jsxs)(o.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(C.A,{className:"w-12 h-12 mx-auto mb-2 text-yellow-400"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:t}),(0,r.jsx)("p",{className:"text-gray-400",children:"Cole\xe7\xf5es diferentes"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,r.jsx)(o.aR,{className:"pb-2",children:(0,r.jsx)(o.ZB,{className:"text-lg font-medium text-white",children:"Distribui\xe7\xe3o por Raridade"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:["common","uncommon","rare","mythic"].map(e=>{let s=l[e]||0,t=a>0?s/a*100:0,i="";switch(e){case"common":i="bg-gray-400";break;case"uncommon":i="bg-green-400";break;case"rare":i="bg-yellow-400";break;case"mythic":i="bg-orange-400"}return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"capitalize",children:e}),(0,r.jsxs)("span",{children:[s," (",t.toFixed(1),"%)"]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-2 ${i} rounded-full`,style:{width:`${Math.max(t,1)}%`}})})]},e)})})})]}),(0,r.jsxs)(o.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,r.jsx)(o.aR,{className:"pb-2",children:(0,r.jsx)(o.ZB,{className:"text-lg font-medium text-white",children:"Cores Mais Frequentes"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:i.map(([e,s])=>{let t=a>0?s/a*100:0,l="",i="";switch(e){case"W":l="Branco",i="bg-yellow-200";break;case"U":l="Azul",i="bg-blue-500";break;case"B":l="Preto",i="bg-gray-800";break;case"R":l="Vermelho",i="bg-red-500";break;case"G":l="Verde",i="bg-green-500";break;case"C":l="Incolor",i="bg-gray-400"}return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{children:[l," (",e,")"]}),(0,r.jsxs)("span",{children:[s," (",t.toFixed(1),"%)"]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-2 ${i} rounded-full`,style:{width:`${Math.max(t,1)}%`}})})]},e)})})})]})]})]})},{}):(0,r.jsxs)("div",{className:"text-center p-8 bg-gray-800/50 border border-gray-700 rounded-lg",children:[(0,r.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Cole\xe7\xe3o n\xe3o dispon\xedvel"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"Selecione ou crie uma cole\xe7\xe3o para ver as estat\xedsticas."})]}))]})}s(6152)},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3124:(e,a,s)=>{"use strict";s.d(a,{VG:()=>t});let r=e=>{try{if(!e.prints_search_uri||"pt"===e.lang||"pt-br"===e.lang)return e.image_uris||(e.card_faces?.[0]?.image_uris?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:e.card_faces[1]?.image_uris}:null);if(e.all_parts&&Array.isArray(e.all_parts)){let a=e.all_parts.find(e=>"pt"===e.lang||"pt-br"===e.lang);if(a&&a.image_uris)return a.image_uris}return e.image_uris||(e.card_faces?.[0]?.image_uris?{isDoubleFaced:!0,front:e.card_faces[0].image_uris,back:e.card_faces[1]?.image_uris}:null)}catch(e){return console.error("Erro ao processar imagens da carta:",e),null}},t=(e,a="normal")=>{try{let s=r(e);if(!s)return"";if(s.isDoubleFaced)return s.front?.[a]||s.front?.normal||"";return s[a]||s.normal||""}catch(e){return console.error("Erro ao obter URL da imagem:",e),""}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3613:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3873:e=>{"use strict";e.exports=require("path")},4398:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5336:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5366:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},5748:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},6152:()=>{},6575:(e,a,s)=>{Promise.resolve().then(s.bind(s,2636))},6943:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},7235:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},8122:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8492:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9053:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\P\xc1GINA MTG HELPER\\\\colecao-page-main\\\\app\\\\colecao-improved\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\P\xc1GINA MTG HELPER\\colecao-page-main\\app\\colecao-improved\\page.tsx","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9270:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[447,773,458],()=>s(499));module.exports=r})();